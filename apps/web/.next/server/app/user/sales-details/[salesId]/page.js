(()=>{var e={};e.id=456,e.ids=[456],e.modules={20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},209:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},79348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},18346:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>o.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>n});var r=a(95506),t=a(31030),l=a(61310),o=a.n(l),d=a(50529),i={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);a.d(s,i);let n=["",{children:["user",{children:["sales-details",{children:["[salesId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,14922)),"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/user/sales-details/[salesId]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,86522)),"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/user/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,64346))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,5343)),"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,81289)),"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/error.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,2424)),"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,16453)),"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,64346))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/user/sales-details/[salesId]/page.tsx"],p={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/user/sales-details/[salesId]/page",pathname:"/user/sales-details/[salesId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},37680:(e,s,a)=>{Promise.resolve().then(a.bind(a,14922))},45930:(e,s,a)=>{Promise.resolve().then(a.bind(a,46373))},46373:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>m});var r=a(9680),t=a(80860),l=a(43353),o=a(73708),d=a(39783);a(82576);var i=a(62360);let n=[{accessorKey:"item",header:"Sales Item"},{accessorKey:"quantity",header:"Sold Quantity"},{accessorKey:"unitCost",header:"Unit Cost",cell:({row:e})=>(0,d.lb)(e.original.unitCost)},{header:"Total Cost",cell:({row:e})=>{let s=e.original;return(0,r.jsx)("span",{children:(0,d.lb)(+s.quantity*+s.unitCost)})}}];var c=a(7211),p=a(6456);function m(){let{salesId:e}=(0,p.useParams)(),{salesDetails:s,itemsWithInventory:a,customer:m}=function(e){let s,a;let{data:r,isPending:t}=i.h.salesItems.listSalesItems.useQuery({salesId:e});r?.status==="success"&&(s=r),r?.status==="error"&&(a=r);let l=s?.customer;return{customer:l,itemsWithInventory:s?.salesItemsAndInventory,creditEntry:s?.credit,salesDetails:s?.sales,errorResponse:a,isPending:t}}(e),u=a?.map(e=>({salesItemId:e.sales_items.salesItemId??"",item:e.items?.itemName??"",quantity:String(e.sales_items.salesQuantity??""),unitCost:e.inventory?.sellingPrice??""}));return(0,r.jsxs)("section",{className:"mt-6 flex w-full flex-col gap-5",children:[(0,r.jsx)(l.Zb,{className:"flex flex-row justify-between border-0 bg-secondary shadow-none",children:(0,r.jsxs)(l.aY,{className:"flex w-full flex-col gap-8 md:flex-row",children:[(0,r.jsxs)("div",{className:"grid w-full grid-cols-2 justify-between md:grid-cols-4",children:[(0,r.jsxs)("div",{className:"grid grid-rows-2 gap-5 md:col-span-2 md:grid-cols-2 md:grid-rows-1",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,r.jsx)(o._,{className:"text-sm font-semibold",children:"Customer Name"}),(0,r.jsx)("small",{children:m?.customerName})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,r.jsx)(o._,{className:"text-sm font-semibold",children:"Phone Number"}),(0,r.jsx)("small",{children:m?.customerContact})]})]}),(0,r.jsxs)("div",{className:"grid grid-rows-2 gap-5 md:col-span-2 md:grid-cols-2 md:grid-rows-1",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,r.jsx)(o._,{className:"text-sm font-semibold",children:"Sales Date"}),(0,r.jsx)("small",{children:s?.salesDate})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,r.jsx)(o._,{className:"text-sm font-semibold",children:"Sales Value"}),(0,r.jsx)("small",{children:(0,d.lb)(s?.totalCost??"")})]})]})]}),(0,r.jsx)("div",{className:"self-end",children:(0,r.jsx)(t.z,{variant:"outline",className:"max-w-[200px]",children:"+ New Payment"})})]})}),(0,r.jsx)("div",{children:(0,r.jsx)(c.Z,{columns:n,rowCount:0,data:u??[]})})]})}},7211:(e,s,a)=>{"use strict";a.d(s,{Z:()=>n});var r=a(9680),t=a(34788),l=a(65911),o=a(81188),d=a(80860),i=a(22317);function n({columns:e,data:s,rowCount:a}){let[n,c]=(0,i.v1)("page",{defaultValue:"0"}),p=(0,t.b7)({data:s,columns:e,manualPagination:!0,getCoreRowModel:(0,l.sC)(),getPaginationRowModel:(0,l.G_)(),rowCount:a}),m=Math.ceil(a/10),u=()=>{p.nextPage(),c(e=>(+e+1).toString())},x=()=>{p.previousPage(),c(e=>(+e-1).toString())};return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"rounded-md border",children:(0,r.jsxs)(o.iA,{children:[(0,r.jsx)(o.xD,{children:p.getHeaderGroups().map(e=>(0,r.jsx)(o.SC,{children:e.headers.map(e=>(0,r.jsx)(o.ss,{children:e.isPlaceholder?null:(0,t.ie)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,r.jsx)(o.RM,{children:p.getRowModel().rows?.length?p.getRowModel().rows.map(e=>(0,r.jsx)(o.SC,{className:"","data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>(0,r.jsx)(o.pj,{children:(0,t.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,r.jsx)(o.SC,{children:(0,r.jsx)(o.pj,{colSpan:e.length,className:"h-24 text-center",children:"No results."})})})]})}),a>10&&(0,r.jsxs)("div",{className:"flex items-center justify-end space-x-2 py-4",children:[(0,r.jsx)(d.z,{variant:"outline",size:"sm",onClick:()=>{x()},disabled:0===Number(n),children:"Previous"}),(0,r.jsx)(d.z,{variant:"outline",size:"sm",onClick:()=>{u()},disabled:Number(n)===m-1||Number(n)>m-1,children:"Next"})]})]})}},43353:(e,s,a)=>{"use strict";a.d(s,{Ol:()=>d,Zb:()=>o,aY:()=>n,ll:()=>i});var r=a(9680),t=a(82576),l=a(39783);let o=t.forwardRef(({className:e,...s},a)=>(0,r.jsx)("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));o.displayName="Card";let d=t.forwardRef(({className:e,...s},a)=>(0,r.jsx)("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));d.displayName="CardHeader";let i=t.forwardRef(({className:e,...s},a)=>(0,r.jsx)("h3",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));i.displayName="CardTitle",t.forwardRef(({className:e,...s},a)=>(0,r.jsx)("p",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",e),...s})).displayName="CardDescription";let n=t.forwardRef(({className:e,...s},a)=>(0,r.jsx)("div",{ref:a,className:(0,l.cn)(" py-3 px-6",e),...s}));n.displayName="CardContent",t.forwardRef(({className:e,...s},a)=>(0,r.jsx)("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},73708:(e,s,a)=>{"use strict";a.d(s,{_:()=>n});var r=a(9680),t=a(82576),l=a(74054),o=a(40552),d=a(39783);let i=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),n=t.forwardRef(({className:e,...s},a)=>(0,r.jsx)(l.f,{ref:a,className:(0,d.cn)(i(),e),...s}));n.displayName=l.f.displayName},81188:(e,s,a)=>{"use strict";a.d(s,{RM:()=>i,SC:()=>n,iA:()=>o,pj:()=>p,ss:()=>c,xD:()=>d});var r=a(9680),t=a(82576),l=a(39783);let o=t.forwardRef(({className:e,...s},a)=>(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:a,className:(0,l.cn)("w-full caption-bottom text-sm",e),...s})}));o.displayName="Table";let d=t.forwardRef(({className:e,...s},a)=>(0,r.jsx)("thead",{ref:a,className:(0,l.cn)("[&_tr]:border-b",e),...s}));d.displayName="TableHeader";let i=t.forwardRef(({className:e,...s},a)=>(0,r.jsx)("tbody",{ref:a,className:(0,l.cn)("[&_tr:last-child]:border-0",e),...s}));i.displayName="TableBody",t.forwardRef(({className:e,...s},a)=>(0,r.jsx)("tfoot",{ref:a,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";let n=t.forwardRef(({className:e,...s},a)=>(0,r.jsx)("tr",{ref:a,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));n.displayName="TableRow";let c=t.forwardRef(({className:e,...s},a)=>(0,r.jsx)("th",{ref:a,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s}));c.displayName="TableHead";let p=t.forwardRef(({className:e,...s},a)=>(0,r.jsx)("td",{ref:a,className:(0,l.cn)("px-4 py-1.5 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));p.displayName="TableCell",t.forwardRef(({className:e,...s},a)=>(0,r.jsx)("caption",{ref:a,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption"},14922:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r});let r=(0,a(88838).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/user/sales-details/[salesId]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/user/sales-details/[salesId]/page.tsx","default")},74054:(e,s,a)=>{"use strict";a.d(s,{f:()=>d});var r=a(82576),t=a(6776),l=a(9680),o=r.forwardRef((e,s)=>(0,l.jsx)(t.WV.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));o.displayName="Label";var d=o}};var s=require("../../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[964,320,559,45,95,788,994,594],()=>a(18346));module.exports=r})();