(()=>{var e={};e.id=930,e.ids=[930],e.modules={67096:e=>{"use strict";e.exports=require("bcrypt")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},209:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},79348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},84770:e=>{"use strict";e.exports=require("crypto")},92048:e=>{"use strict";e.exports=require("fs")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},96119:e=>{"use strict";e.exports=require("perf_hooks")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},28506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>c,pages:()=>d,routeModule:()=>u,tree:()=>p});var r=s(95506),n=s(31030),o=s(61310),i=s.n(o),a=s(50529),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);s.d(t,l);let p=["",{children:["user",{children:["inventory",{children:["inventory-management",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,54557)),"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/user/inventory/inventory-management/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,88787)),"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/user/inventory/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,86522)),"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/user/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,64346))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,5343)),"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,81289)),"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/error.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,2424)),"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,16453)),"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,64346))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/user/inventory/inventory-management/page.tsx"],c={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/user/inventory/inventory-management/page",pathname:"/user/inventory/inventory-management",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:p}})},61131:(e,t,s)=>{Promise.resolve().then(s.bind(s,34966)),Promise.resolve().then(s.bind(s,67371)),Promise.resolve().then(s.bind(s,85293)),Promise.resolve().then(s.bind(s,18664))},82739:(e,t,s)=>{Promise.resolve().then(s.bind(s,43815)),Promise.resolve().then(s.bind(s,5051)),Promise.resolve().then(s.bind(s,70737)),Promise.resolve().then(s.bind(s,76025))},43815:(e,t,s)=>{"use strict";s.d(t,{default:()=>v});var r=s(9680),n=s(52999),o=s(7691),i=s(54999),a=s(80860),l=s(73708),p=s(13328),d=s(62360),c=s(87728);let u=c.z.object({itemId:c.z.string().min(2,{message:"ItemId is required"}),quantityAdded:c.z.string().min(1,{message:"Atleast 1 is required"}),buyingPrice:c.z.string().min(1,{message:"Value should be more than 1"}),sellingPrice:c.z.string().min(1,{message:"Value should be more than 1"}),lastUpdated:c.z.string()});var m=s(62e3),h=s(89229);function v(){let{toast:e}=(0,p.pm)(),t=d.h.useUtils(),{formState:{errors:s},register:c,setValue:v,getValues:g,reset:b}=(0,h.cI)({resolver:(0,m.F)(u)}),{mutate:f,isPending:y}=d.h.inventory.addInventory.useMutation({onSuccess:s=>{s?.status==="success"?(e({description:s.message,variant:"default"}),t.inventory.listInventory.invalidate(),b()):e({description:s.message,variant:"destructive"})},onError:t=>{console.error(t),e({description:"Network error,please try again",variant:"destructive"})}});return(0,r.jsxs)("form",{className:"flex flex-col gap-y-5",children:[(0,r.jsxs)("div",{className:"mb-3 w-full",children:[(0,r.jsx)(l._,{children:"Item"}),(0,r.jsx)(n.Z,{className:"w-full",onSelect:(e,t)=>{console.log(e),v("itemId",t)}})]}),(0,r.jsx)(o.Z,{id:"quantityAdded",label:"Quantity Added",error:s.quantityAdded?.message,register:c("quantityAdded")}),(0,r.jsx)(o.Z,{id:"buyingPrice",type:"number",label:"Buying Price",error:s.buyingPrice?.message,register:c("buyingPrice")}),(0,r.jsx)(o.Z,{id:"sellingprice",type:"number",label:"Selling Price",error:s.sellingPrice?.message,register:c("sellingPrice")}),(0,r.jsx)("div",{className:"text-end",children:(0,r.jsx)(a.z,{className:"w-[120px]",type:"button",onClick:()=>{let e=g();e.lastUpdated=new Date().toISOString(),f(e)},children:y?(0,r.jsx)(i.Z,{}):"Add Inventory"})})]})}},5051:(e,t,s)=>{"use strict";s.d(t,{default:()=>p});var r=s(9680),n=s(7211),o=s(62360),i=s(6456);s(82576);let a=[{accessorKey:"dateAdded",header:"Date"},{accessorKey:"itemName",header:"Item"},{accessorKey:"quantityAdded",header:"Quantity Added"},{accessorKey:"quantityInStock",header:"Quantity In Stock"},{accessorKey:"buyingprice",header:"Buying Price"},{accessorKey:"sellingPrice",header:"Selling Price"}];var l=s(90183);function p(){let e=(0,i.useSearchParams)(),t=e.get("item"),s=e.get("page"),{data:p,isPending:d}=o.h.inventory.listInventory.useQuery({itemId:t??"",page:s??"0"}),c=p?.inventory,u=p?.item,m=p?.count,h=c?.map(e=>({inventoryId:e.inventoryId,inventoryCode:e.inventoryId.slice(0,5),itemName:u?.itemName??"",dateAdded:e.lastUpdated??"",quantityAdded:e.quantityAdded,quantityInStock:e.quantityInStock,buyingprice:e.buyingPrice,sellingPrice:e.sellingPrice}));return h?.length||d?d?(0,r.jsx)(l.M,{rows:5}):(0,r.jsx)("div",{children:(0,r.jsx)(n.Z,{rowCount:m??0,columns:a,data:h??[]})}):(0,r.jsx)("p",{className:"w-full text-center",children:"Please select an item"})}},52999:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(9680),n=s(73708),o=s(10920),i=s(62360);function a({onSelect:e,rowId:t,label:s,className:a}){let{data:l}=i.h.items.listItems.useQuery({userId:"cba51dba-4308-453c-973a-0bb24c5fd6b4"}),p=l?.map(e=>({itemId:e.itemId,itemName:e.itemName}));return(0,r.jsxs)("div",{className:`${a} w-[260px]`,children:[s&&(0,r.jsx)(n._,{children:"Items"}),(0,r.jsxs)(o.Ph,{onValueChange:s=>{e(t??"",s)},children:[(0,r.jsx)(o.i4,{children:(0,r.jsx)(o.ki,{placeholder:"Select Item"})}),(0,r.jsx)(o.Bw,{children:p?.map(e=>r.jsx(o.Ql,{value:e.itemId,children:e.itemName},e.itemId))})]})]})}},54999:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(9680),n=s(24353),o=s(34212);function i(){return(0,r.jsx)(n.default,{src:o.Z,alt:"..."})}},34966:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(88838).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/user/inventory/inventory-management/_components/CreateInventoryForm.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/user/inventory/inventory-management/_components/CreateInventoryForm.tsx","default")},67371:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(88838).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/user/inventory/inventory-management/_components/InventoryTable.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/user/inventory/inventory-management/_components/InventoryTable.tsx","default")},54557:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var r=s(88173),n=s(85293),o=s(31945),i=s(36845),a=s(39631);let l=(0,s(11775).cache)(async()=>{let e=new Headers(await (0,a.A)());return e.set("x-trpc-source","rsc"),(0,i.uw)({headers:e})}),p=(0,o.d)(l);var d=s(67371),c=s(74041),u=s(18664),m=s(81247),h=s(34966);function v(){return(0,r.jsxs)(u.Dialog,{children:[(0,r.jsx)(u.DialogTrigger,{asChild:!0,children:(0,r.jsxs)(c.z,{variant:"default",children:[(0,r.jsx)(m.Z,{className:"me-2 size-4"})," Add New Inventory"]})}),(0,r.jsxs)(u.DialogContent,{className:"w-[460px] rounded-sm",children:[(0,r.jsxs)(u.DialogHeader,{children:[(0,r.jsx)(u.DialogTitle,{children:"New inventory Entry"}),(0,r.jsx)(u.DialogDescription,{children:"Add a new inventory entry"})]}),(0,r.jsx)(h.default,{})]})]})}async function g(){let e=(await p.items.listItems({userId:"cba51dba-4308-453c-973a-0bb24c5fd6b4"})).map(e=>({id:e.itemId,value:e.itemName}));return(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Inventory Management"}),(0,r.jsxs)("div",{className:"flex flex-col gap-10",children:[(0,r.jsxs)("div",{className:"inline-flex items-end justify-between",children:[(0,r.jsx)("div",{className:"w-[300px]",children:(0,r.jsx)(n.default,{options:e,placeholder:"Select Item",queryId:"item"})}),(0,r.jsx)(v,{})]}),(0,r.jsx)(d.default,{})]})]})}},88787:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(88173);function n({children:e}){return(0,r.jsx)("section",{className:"mt-6 w-full",children:(0,r.jsx)("div",{children:e})})}},85293:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(88838).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/components/CustomSelect.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/components/CustomSelect.tsx","default")},18664:(e,t,s)=>{"use strict";s.d(t,{Dialog:()=>n,DialogContent:()=>i,DialogDescription:()=>p,DialogHeader:()=>a,DialogTitle:()=>l,DialogTrigger:()=>o});var r=s(88838);let n=(0,r.registerClientReference)(function(){throw Error("Attempted to call Dialog() from the server but Dialog is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/components/ui/dialog.tsx","Dialog");(0,r.registerClientReference)(function(){throw Error("Attempted to call DialogPortal() from the server but DialogPortal is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/components/ui/dialog.tsx","DialogPortal"),(0,r.registerClientReference)(function(){throw Error("Attempted to call DialogOverlay() from the server but DialogOverlay is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/components/ui/dialog.tsx","DialogOverlay"),(0,r.registerClientReference)(function(){throw Error("Attempted to call DialogClose() from the server but DialogClose is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/components/ui/dialog.tsx","DialogClose");let o=(0,r.registerClientReference)(function(){throw Error("Attempted to call DialogTrigger() from the server but DialogTrigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/components/ui/dialog.tsx","DialogTrigger"),i=(0,r.registerClientReference)(function(){throw Error("Attempted to call DialogContent() from the server but DialogContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/components/ui/dialog.tsx","DialogContent"),a=(0,r.registerClientReference)(function(){throw Error("Attempted to call DialogHeader() from the server but DialogHeader is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/components/ui/dialog.tsx","DialogHeader");(0,r.registerClientReference)(function(){throw Error("Attempted to call DialogFooter() from the server but DialogFooter is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/components/ui/dialog.tsx","DialogFooter");let l=(0,r.registerClientReference)(function(){throw Error("Attempted to call DialogTitle() from the server but DialogTitle is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/components/ui/dialog.tsx","DialogTitle"),p=(0,r.registerClientReference)(function(){throw Error("Attempted to call DialogDescription() from the server but DialogDescription is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/components/ui/dialog.tsx","DialogDescription")}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[964,320,559,45,95,788,484,794,556,631,994,594,621,945],()=>s(28506));module.exports=r})();