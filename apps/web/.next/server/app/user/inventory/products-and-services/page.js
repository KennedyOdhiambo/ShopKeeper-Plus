(()=>{var e={};e.id=148,e.ids=[148],e.modules={20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},209:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},79348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},84949:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>c,pages:()=>p,routeModule:()=>u,tree:()=>d});var r=s(95506),o=s(31030),n=s(61310),i=s.n(n),a=s(50529),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);s.d(t,l);let d=["",{children:["user",{children:["inventory",{children:["products-and-services",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,87049)),"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/user/inventory/products-and-services/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,88787)),"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/user/inventory/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,86522)),"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/user/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,64346))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,5343)),"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,81289)),"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/error.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,2424)),"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,16453)),"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,64346))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],p=["/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/user/inventory/products-and-services/page.tsx"],c={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/user/inventory/products-and-services/page",pathname:"/user/inventory/products-and-services",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},22505:(e,t,s)=>{Promise.resolve().then(s.bind(s,43332)),Promise.resolve().then(s.bind(s,86360)),Promise.resolve().then(s.bind(s,6480)),Promise.resolve().then(s.bind(s,18664))},16400:(e,t,s)=>{Promise.resolve().then(s.bind(s,72690)),Promise.resolve().then(s.bind(s,23694)),Promise.resolve().then(s.bind(s,6320)),Promise.resolve().then(s.bind(s,76025))},72690:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var r=s(9680),o=s(70737),n=s(62360);function i(){let{data:e}=n.h.categories.listCategories.useQuery({userId:"cba51dba-4308-453c-973a-0bb24c5fd6b4"}),t=e?.map(e=>({id:e.categoryId,value:e.categoryName}))??[];return(0,r.jsx)(o.default,{className:"w-full",queryId:"category",options:[{id:"all",value:"All Categories"},...t],placeholder:"Category"})}},23694:(e,t,s)=>{"use strict";s.d(t,{default:()=>v});var r=s(9680),o=s(7691),n=s(80860),i=s(50730),a=s(62e3);s(82576);var l=s(89229),d=s(72690),p=s(73708),c=s(6456),u=s(62360),m=s(13328),h=s(54999);function v(){(0,c.useSearchParams)();let{toast:e}=(0,m.pm)(),t=u.h.useUtils(),{register:s,formState:{errors:v},setValue:g,reset:f,getValues:b}=(0,l.cI)({resolver:(0,a.F)(i.S)}),{mutate:x,isPending:y}=u.h.items.createItem.useMutation({onSuccess:s=>{"success"===s.status?(e({description:s.message,variant:"default"}),t.items.listItems.invalidate(),t.items.listItemsByCategory.invalidate(),f()):e({description:s.message,variant:"destructive"})},onError:t=>{console.error(t),e({description:"Network error,please try again",variant:"destructive"})}});return(0,r.jsxs)("form",{className:"flex flex-col gap-y-5",children:[(0,r.jsx)(o.Z,{id:"itemName",label:"Item Name",error:v.itemName?.message,register:s("itemName")}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)(p._,{children:"Category"}),(0,r.jsx)(d.default,{})]}),(0,r.jsx)(o.Z,{id:"unitOfmeasure",label:"Unit Of Measure",error:v.unitOfmeasure?.message,register:s("unitOfmeasure")}),(0,r.jsx)(o.Z,{id:"reorderLevel",label:"Re-Order Level",error:v.reorderLevel?.message,register:s("reorderLevel")}),(0,r.jsx)("div",{className:"text-end",children:(0,r.jsx)(n.z,{className:"w-[120px]",type:"button",onClick:()=>{x({userId:"cba51dba-4308-453c-973a-0bb24c5fd6b4",...b()})},children:y?(0,r.jsx)(h.Z,{}):"Create Item"})})]})}},6320:(e,t,s)=>{"use strict";s.d(t,{default:()=>D});var r=s(9680),o=s(7211),n=s(62360),i=s(6456),a=s(16681),l=s(80860),d=s(76025);s(82576);var p=s(7691),c=s(54999),u=s(13328),m=s(50730),h=s(62e3),v=s(89229);function g({itemId:e}){let{toast:t}=(0,u.pm)(),s=n.h.useUtils(),{register:o,formState:{errors:i},getValues:a}=(0,v.cI)({resolver:(0,h.F)(m.l)}),{data:d}=n.h.items.getItemDetails.useQuery({itemId:e}),{mutate:g,isPending:f}=n.h.items.updateItem.useMutation({onSuccess:e=>{"success"===e.status?(t({description:e.message,variant:"default"}),s.items.listItems.invalidate(),s.items.listItemsByCategory.invalidate()):t({description:e.message,variant:"destructive"})},onError:e=>{console.error(e),t({description:"Network error,please try again",variant:"destructive"})}});return(0,r.jsxs)("form",{className:"flex flex-col gap-y-5",children:[(0,r.jsx)(p.Z,{id:"itemName",label:"Item Name",error:i.itemName?.message,register:o("itemName"),defaultValue:d?.item?.itemName??""}),(0,r.jsx)(p.Z,{id:"unitOfmeasure",label:"Unit Of Measure",error:i.unitOfmeasure?.message,register:o("unitOfmeasure"),defaultValue:d?.item?.unitOfMeasure??""}),(0,r.jsx)(p.Z,{id:"reorderLevel",label:"Re-Order Level",error:i.reorderLevel?.message,register:o("reorderLevel"),defaultValue:String(d?.item?.reorderLevel??"")}),(0,r.jsx)("div",{className:"text-end",children:(0,r.jsx)(l.z,{className:"w-[120px]",type:"button",onClick:()=>{let t=a();t.itemId=e,g(t)},children:f?(0,r.jsx)(c.Z,{}):"Update Item"})})]})}var f=s(16141);function b({itemId:e}){return(0,r.jsxs)(d.Dialog,{children:[(0,r.jsx)(d.DialogTrigger,{asChild:!0,children:(0,r.jsx)(l.z,{variant:"outline",size:"icon",className:"border-2.5 rounded-full p-1 text-secondary-foreground transition-colors duration-200 hover:bg-primary hover:text-white",children:(0,r.jsx)(a.TooltipProvider,{children:(0,r.jsxs)(a.Tooltip,{children:[(0,r.jsx)(a.TooltipTrigger,{asChild:!0,children:(0,r.jsx)(f.Z,{className:"size-5"})}),(0,r.jsx)(a.TooltipContent,{className:"rounded-md border bg-popover p-1",children:(0,r.jsx)("p",{children:"Edit"})})]})})})}),(0,r.jsxs)(d.DialogContent,{className:"w-[460px] rounded-sm",children:[(0,r.jsxs)(d.DialogHeader,{children:[(0,r.jsx)(d.DialogTitle,{children:"Update Item or Service"}),(0,r.jsx)(d.DialogDescription,{children:"Update details of existing Item or Service"})]}),(0,r.jsx)(g,{itemId:e})]})]})}var x=s(85824);function y({itemId:e}){let{toast:t}=(0,u.pm)(),s=n.h.useUtils(),{mutate:o,isPending:i}=n.h.items.deleteItem.useMutation({onSuccess:e=>{"success"===e.status?(t({description:e.message,variant:"default"}),s.items.listItems.invalidate(),s.items.listItemsByCategory.invalidate()):t({description:e.message,variant:"destructive"})},onError:e=>{console.error(e),t({description:"Network error,please try again",variant:"destructive"})}});return(0,r.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,r.jsx)(b,{itemId:e}),(0,r.jsx)(a.TooltipProvider,{children:(0,r.jsxs)(a.Tooltip,{children:[(0,r.jsx)(a.TooltipTrigger,{asChild:!0,children:(0,r.jsx)(l.z,{onClick:()=>{o({itemId:e})},variant:"outline",size:"icon",className:"border-2.5 rounded-full transition-colors duration-200 hover:bg-destructive hover:text-white",children:i?(0,r.jsx)(c.Z,{}):(0,r.jsx)(x.Z,{className:"size-5"})})}),(0,r.jsx)(a.TooltipContent,{className:"rounded-md border bg-popover p-1",children:(0,r.jsx)("p",{children:"Delete"})})]})})]})}let k=[{accessorKey:"itemName",header:"Item Name"},{accessorKey:"unitOfMeasure",header:"Unit Of Measure"},{accessorKey:"categoryName",header:"Item Category"},{accessorKey:"reorder",header:"Re-order level"},{accessorKey:"itemId",header:()=>(0,r.jsx)("div",{className:"text-center",children:"Action"}),cell:({row:e})=>{let t=e.original;return(0,r.jsx)(y,{itemId:t.itemId})}}];var C=s(90183);function D(){let e=(0,i.useSearchParams)(),t=e.get("category"),s=e.get("page"),{data:a,isPending:l}=n.h.items.listItemsByCategory.useQuery({categoryId:t??void 0,page:s??"0"}),d=(a?.items??[]).map(e=>({itemId:e.items.itemId,itemName:e.items.itemName,categoryName:e.categories?.categoryName??"",reorder:e.items.reorderLevel??"",unitOfMeasure:e.items.unitOfMeasure})),p=a?.count;return l?(0,r.jsx)(C.M,{rows:10}):(0,r.jsx)("div",{children:(0,r.jsx)(o.Z,{columns:k,data:d,rowCount:p??0})})}},54999:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(9680),o=s(24353),n=s(34212);function i(){return(0,r.jsx)(o.default,{src:n.Z,alt:"..."})}},50730:(e,t,s)=>{"use strict";s.d(t,{S:()=>o,l:()=>n});var r=s(87728);let o=r.z.object({itemName:r.z.string().min(2,{message:"Item name is required"}),unitOfmeasure:r.z.string().min(2,{message:"Unit Of Measure is required"}),categoryId:r.z.string().min(2,{message:"Category is required"}),reorderLevel:r.z.string().optional()}),n=r.z.object({itemId:r.z.string().min(2,{message:"Item id is required"}),itemName:r.z.string().min(2,{message:"Item name is required"}),unitOfmeasure:r.z.string().min(2,{message:"Unit Of Measure is required"}),reorderLevel:r.z.string().optional()})},85824:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(27299).Z)("Delete",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]])},16141:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(27299).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},88787:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(88173);function o({children:e}){return(0,r.jsx)("section",{className:"mt-6 w-full",children:(0,r.jsx)("div",{children:e})})}},43332:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(88838).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/user/inventory/products-and-services/_components/CategoriesDropdown.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/user/inventory/products-and-services/_components/CategoriesDropdown.tsx","default")},86360:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(88838).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/user/inventory/products-and-services/_components/CreateItemForm.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/user/inventory/products-and-services/_components/CreateItemForm.tsx","default")},6480:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(88838).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/user/inventory/products-and-services/_components/ProductsAndServicesTable.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/user/inventory/products-and-services/_components/ProductsAndServicesTable.tsx","default")},87049:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(88173);s(11775);var o=s(6480),n=s(74041),i=s(18664),a=s(81247),l=s(86360);function d(){return(0,r.jsxs)(i.Dialog,{children:[(0,r.jsx)(i.DialogTrigger,{asChild:!0,children:(0,r.jsxs)(n.z,{variant:"default",children:[(0,r.jsx)(a.Z,{className:"me-2 size-4"})," Add Product or Service"]})}),(0,r.jsxs)(i.DialogContent,{className:"w-[460px] rounded-sm",children:[(0,r.jsxs)(i.DialogHeader,{children:[(0,r.jsx)(i.DialogTitle,{children:"New Item or Service"}),(0,r.jsx)(i.DialogDescription,{children:"Add a new product or service to your shop"})]}),(0,r.jsx)(l.default,{})]})]})}var p=s(43332);async function c(){return(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Products & Services"}),(0,r.jsxs)("div",{className:"flex flex-col gap-10",children:[(0,r.jsxs)("div",{className:"inline-flex items-end justify-between",children:[(0,r.jsx)("div",{className:"w-[300px]",children:(0,r.jsx)(p.default,{})}),(0,r.jsx)(d,{})]}),(0,r.jsx)(o.default,{})]})]})}},18664:(e,t,s)=>{"use strict";s.d(t,{Dialog:()=>o,DialogContent:()=>i,DialogDescription:()=>d,DialogHeader:()=>a,DialogTitle:()=>l,DialogTrigger:()=>n});var r=s(88838);let o=(0,r.registerClientReference)(function(){throw Error("Attempted to call Dialog() from the server but Dialog is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/components/ui/dialog.tsx","Dialog");(0,r.registerClientReference)(function(){throw Error("Attempted to call DialogPortal() from the server but DialogPortal is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/components/ui/dialog.tsx","DialogPortal"),(0,r.registerClientReference)(function(){throw Error("Attempted to call DialogOverlay() from the server but DialogOverlay is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/components/ui/dialog.tsx","DialogOverlay"),(0,r.registerClientReference)(function(){throw Error("Attempted to call DialogClose() from the server but DialogClose is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/components/ui/dialog.tsx","DialogClose");let n=(0,r.registerClientReference)(function(){throw Error("Attempted to call DialogTrigger() from the server but DialogTrigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/components/ui/dialog.tsx","DialogTrigger"),i=(0,r.registerClientReference)(function(){throw Error("Attempted to call DialogContent() from the server but DialogContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/components/ui/dialog.tsx","DialogContent"),a=(0,r.registerClientReference)(function(){throw Error("Attempted to call DialogHeader() from the server but DialogHeader is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/components/ui/dialog.tsx","DialogHeader");(0,r.registerClientReference)(function(){throw Error("Attempted to call DialogFooter() from the server but DialogFooter is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/components/ui/dialog.tsx","DialogFooter");let l=(0,r.registerClientReference)(function(){throw Error("Attempted to call DialogTitle() from the server but DialogTitle is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/components/ui/dialog.tsx","DialogTitle"),d=(0,r.registerClientReference)(function(){throw Error("Attempted to call DialogDescription() from the server but DialogDescription is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/components/ui/dialog.tsx","DialogDescription")}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[964,320,559,45,95,788,484,794,994,594,621],()=>s(84949));module.exports=r})();