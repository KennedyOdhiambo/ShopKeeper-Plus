/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/trpc/[trpc]/route";
exports.ids = ["app/api/trpc/[trpc]/route"];
exports.modules = {

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("bcrypt");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "perf_hooks":
/*!*****************************!*\
  !*** external "perf_hooks" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("perf_hooks");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/next@15.0.2_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute&page=%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute.ts&appDir=%2FUsers%2Fkennedyodhiambo%2FDesktop%2Fcanvas%2Fshopkeeper-plus%2Fapps%2Fweb%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fkennedyodhiambo%2FDesktop%2Fcanvas%2Fshopkeeper-plus%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@15.0.2_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute&page=%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute.ts&appDir=%2FUsers%2Fkennedyodhiambo%2FDesktop%2Fcanvas%2Fshopkeeper-plus%2Fapps%2Fweb%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fkennedyodhiambo%2FDesktop%2Fcanvas%2Fshopkeeper-plus%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/../../node_modules/.pnpm/next@15.0.2_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/../../node_modules/.pnpm/next@15.0.2_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/../../node_modules/.pnpm/next@15.0.2_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_kennedyodhiambo_Desktop_canvas_shopkeeper_plus_apps_web_src_app_api_trpc_trpc_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/trpc/[trpc]/route.ts */ \"(rsc)/./src/app/api/trpc/[trpc]/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/trpc/[trpc]/route\",\n        pathname: \"/api/trpc/[trpc]\",\n        filename: \"route\",\n        bundlePath: \"app/api/trpc/[trpc]/route\"\n    },\n    resolvedPagePath: \"/Users/kennedyodhiambo/Desktop/canvas/shopkeeper-plus/apps/web/src/app/api/trpc/[trpc]/route.ts\",\n    nextConfigOutput,\n    userland: _Users_kennedyodhiambo_Desktop_canvas_shopkeeper_plus_apps_web_src_app_api_trpc_trpc_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTUuMC4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xX19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyL2luZGV4LmpzP25hbWU9YXBwJTJGYXBpJTJGdHJwYyUyRiU1QnRycGMlNUQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnRycGMlMkYlNUJ0cnBjJTVEJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGdHJwYyUyRiU1QnRycGMlNUQlMkZyb3V0ZS50cyZhcHBEaXI9JTJGVXNlcnMlMkZrZW5uZWR5b2RoaWFtYm8lMkZEZXNrdG9wJTJGY2FudmFzJTJGc2hvcGtlZXBlci1wbHVzJTJGYXBwcyUyRndlYiUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZrZW5uZWR5b2RoaWFtYm8lMkZEZXNrdG9wJTJGY2FudmFzJTJGc2hvcGtlZXBlci1wbHVzJTJGYXBwcyUyRndlYiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDK0M7QUFDNUg7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7O0FBRTFGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLz9lMGM3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMva2VubmVkeW9kaGlhbWJvL0Rlc2t0b3AvY2FudmFzL3Nob3BrZWVwZXItcGx1cy9hcHBzL3dlYi9zcmMvYXBwL2FwaS90cnBjL1t0cnBjXS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvdHJwYy9bdHJwY10vcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS90cnBjL1t0cnBjXVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvdHJwYy9bdHJwY10vcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMva2VubmVkeW9kaGlhbWJvL0Rlc2t0b3AvY2FudmFzL3Nob3BrZWVwZXItcGx1cy9hcHBzL3dlYi9zcmMvYXBwL2FwaS90cnBjL1t0cnBjXS9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/next@15.0.2_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute&page=%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute.ts&appDir=%2FUsers%2Fkennedyodhiambo%2FDesktop%2Fcanvas%2Fshopkeeper-plus%2Fapps%2Fweb%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fkennedyodhiambo%2FDesktop%2Fcanvas%2Fshopkeeper-plus%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/next@15.0.2_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@15.0.2_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/next@15.0.2_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@15.0.2_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/trpc/[trpc]/route.ts":
/*!******************************************!*\
  !*** ./src/app/api/trpc/[trpc]/route.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ handler),\n/* harmony export */   POST: () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _server_api_trpc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/server/api/trpc */ \"(rsc)/./src/server/api/trpc.ts\");\n/* harmony import */ var _trpc_server_adapters_fetch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @trpc/server/adapters/fetch */ \"(rsc)/../../node_modules/.pnpm/@trpc+server@11.0.0-rc.608/node_modules/@trpc/server/dist/adapters/fetch/index.mjs\");\n/* harmony import */ var _server_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/server/api */ \"(rsc)/./src/server/api/index.ts\");\n\n\n\n/**\n * This wraps the `createTRPCContext` helper and provides the required context for the tRPC API when\n * handling a HTTP request (e.g. when you make requests from Client Components).\n */ const createContext = async (req)=>{\n    return (0,_server_api_trpc__WEBPACK_IMPORTED_MODULE_0__.createTRPCContext)({\n        headers: req.headers\n    });\n};\nconst handler = async (req)=>{\n    const context = await createContext(req);\n    const response = await (0,_trpc_server_adapters_fetch__WEBPACK_IMPORTED_MODULE_1__.fetchRequestHandler)({\n        endpoint: '/api/trpc',\n        req,\n        router: _server_api__WEBPACK_IMPORTED_MODULE_2__.appRouter,\n        createContext: ()=>context,\n        onError: process.env.VERCEL_ENV === 'development' ? ({ path, error })=>{\n            console.error(`‚ùå tRPC failed on ${path ?? '<no-path>'}: ${error.message}`);\n        } : undefined\n    });\n    return response;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS90cnBjL1t0cnBjXS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFxRDtBQUVZO0FBQ3pCO0FBQ3hDOzs7Q0FHQyxHQUNELE1BQU1HLGdCQUFnQixPQUFPQztJQUMzQixPQUFPSixtRUFBaUJBLENBQUM7UUFDdkJLLFNBQVNELElBQUlDLE9BQU87SUFDdEI7QUFDRjtBQUVBLE1BQU1DLFVBQVUsT0FBT0Y7SUFFckIsTUFBTUcsVUFBVSxNQUFNSixjQUFjQztJQUNwQyxNQUFNSSxXQUFXLE1BQU1QLGdGQUFtQkEsQ0FBQztRQUN6Q1EsVUFBVTtRQUNWTDtRQUNBTSxRQUFRUixrREFBU0E7UUFDakJDLGVBQWUsSUFBTUk7UUFDckJJLFNBQ0VDLFFBQVFDLEdBQUcsQ0FBQ0MsVUFBVSxLQUFLLGdCQUN2QixDQUFDLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFFO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxDQUFDLGlCQUFpQixFQUFFRCxRQUFRLFlBQVksRUFBRSxFQUFFQyxNQUFNRSxPQUFPLEVBQUU7UUFDM0UsSUFDQUM7SUFDUjtJQUVBLE9BQU9YO0FBR1Q7QUFFMEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2FwaS90cnBjL1t0cnBjXS9yb3V0ZS50cz80M2Q3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVRSUENDb250ZXh0IH0gZnJvbSBcIkAvc2VydmVyL2FwaS90cnBjXCJcbmltcG9ydCB7IE5leHRSZXF1ZXN0IH0gZnJvbSBcIm5leHQvc2VydmVyXCJcbmltcG9ydCB7IGZldGNoUmVxdWVzdEhhbmRsZXIgfSBmcm9tICdAdHJwYy9zZXJ2ZXIvYWRhcHRlcnMvZmV0Y2gnXG5pbXBvcnQgeyBhcHBSb3V0ZXIgfSBmcm9tIFwiQC9zZXJ2ZXIvYXBpXCJcbi8qKlxuICogVGhpcyB3cmFwcyB0aGUgYGNyZWF0ZVRSUENDb250ZXh0YCBoZWxwZXIgYW5kIHByb3ZpZGVzIHRoZSByZXF1aXJlZCBjb250ZXh0IGZvciB0aGUgdFJQQyBBUEkgd2hlblxuICogaGFuZGxpbmcgYSBIVFRQIHJlcXVlc3QgKGUuZy4gd2hlbiB5b3UgbWFrZSByZXF1ZXN0cyBmcm9tIENsaWVudCBDb21wb25lbnRzKS5cbiAqL1xuY29uc3QgY3JlYXRlQ29udGV4dCA9IGFzeW5jIChyZXE6IE5leHRSZXF1ZXN0KSA9PiB7XG4gIHJldHVybiBjcmVhdGVUUlBDQ29udGV4dCh7XG4gICAgaGVhZGVyczogcmVxLmhlYWRlcnMsXG4gIH0pXG59XG5cbmNvbnN0IGhhbmRsZXIgPSBhc3luYyAocmVxOiBOZXh0UmVxdWVzdCkgPT4ge1xuXG4gIGNvbnN0IGNvbnRleHQgPSBhd2FpdCBjcmVhdGVDb250ZXh0KHJlcSlcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaFJlcXVlc3RIYW5kbGVyKHtcbiAgICBlbmRwb2ludDogJy9hcGkvdHJwYycsXG4gICAgcmVxLFxuICAgIHJvdXRlcjogYXBwUm91dGVyLFxuICAgIGNyZWF0ZUNvbnRleHQ6ICgpID0+IGNvbnRleHQsXG4gICAgb25FcnJvcjpcbiAgICAgIHByb2Nlc3MuZW52LlZFUkNFTF9FTlYgPT09ICdkZXZlbG9wbWVudCdcbiAgICAgICAgPyAoeyBwYXRoLCBlcnJvciB9KSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgdFJQQyBmYWlsZWQgb24gJHtwYXRoID8/ICc8bm8tcGF0aD4nfTogJHtlcnJvci5tZXNzYWdlfWApXG4gICAgICAgICAgfVxuICAgICAgICA6IHVuZGVmaW5lZCxcbiAgfSlcblxuICByZXR1cm4gcmVzcG9uc2VcblxuIFxufVxuXG5leHBvcnQgeyBoYW5kbGVyIGFzIEdFVCwgaGFuZGxlciBhcyBQT1NUIH1cbiJdLCJuYW1lcyI6WyJjcmVhdGVUUlBDQ29udGV4dCIsImZldGNoUmVxdWVzdEhhbmRsZXIiLCJhcHBSb3V0ZXIiLCJjcmVhdGVDb250ZXh0IiwicmVxIiwiaGVhZGVycyIsImhhbmRsZXIiLCJjb250ZXh0IiwicmVzcG9uc2UiLCJlbmRwb2ludCIsInJvdXRlciIsIm9uRXJyb3IiLCJwcm9jZXNzIiwiZW52IiwiVkVSQ0VMX0VOViIsInBhdGgiLCJlcnJvciIsImNvbnNvbGUiLCJtZXNzYWdlIiwidW5kZWZpbmVkIiwiR0VUIiwiUE9TVCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/trpc/[trpc]/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/const.ts":
/*!**************************!*\
  !*** ./src/lib/const.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PAGE_SIZE: () => (/* binding */ PAGE_SIZE)\n/* harmony export */ });\nconst PAGE_SIZE = 10;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2NvbnN0LnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyxNQUFNQSxZQUFZLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbnN0LnRzP2I3OGQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFBBR0VfU0laRSA9IDEwO1xuIl0sIm5hbWVzIjpbIlBBR0VfU0laRSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/const.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/utils.ts":
/*!**************************!*\
  !*** ./src/lib/utils.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cn: () => (/* binding */ cn),\n/* harmony export */   formatMoney: () => (/* binding */ formatMoney),\n/* harmony export */   formatPhoneNumber: () => (/* binding */ formatPhoneNumber),\n/* harmony export */   getFirstLetters: () => (/* binding */ getFirstLetters),\n/* harmony export */   toCamelCase: () => (/* binding */ toCamelCase)\n/* harmony export */ });\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ \"(rsc)/../../node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tailwind-merge */ \"(rsc)/../../node_modules/.pnpm/tailwind-merge@2.5.4/node_modules/tailwind-merge/dist/bundle-mjs.mjs\");\n\n\nfunction cn(...inputs) {\n    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_1__.twMerge)((0,clsx__WEBPACK_IMPORTED_MODULE_0__.clsx)(inputs));\n}\nfunction formatPhoneNumber(phone) {\n    const phoneNumber = phone.replace(/[^+0-9]/g, '').replace(/[^\\w\\s]/gi, '').replace(/^7/, '2547').replace(/^01/, '25401').replace(/^10/, '25410').replace(/^11/, '25411').replace(/^25407/, '2547').replace(/^0/, '254');\n    return phoneNumber;\n}\nfunction formatMoney(amount) {\n    if (amount === undefined) return;\n    return new Intl.NumberFormat('en-KE', {\n        style: 'currency',\n        currency: 'KES'\n    }).format(+amount);\n}\nfunction getFirstLetters(str, numWords = Infinity) {\n    if (str === null || str === undefined) return;\n    let result = ' ';\n    let wordCount = 0;\n    for(let i = 0; i < str.length && wordCount < numWords; i++)if (str[i] !== ' ') {\n        result += str[i]; //capture first letter\n        wordCount++; //increment word count\n        while(str[i + 1] !== ' ' && str[i + 1] !== undefined)i++; //skip remaining characters\n    }\n    return result;\n}\nfunction toCamelCase(input) {\n    const words = input.trim().split(/\\s+/);\n    if (words.length === 1) {\n        return words[0].toLowerCase();\n    }\n    return words.map((word, index)=>{\n        if (index === 0) {\n            return word.toLowerCase();\n        }\n        return word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();\n    }).join('');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3V0aWxzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBNkM7QUFDSjtBQUVsQyxTQUFTRSxHQUFHLEdBQUdDLE1BQW9CO0lBQ3ZDLE9BQU9GLHVEQUFPQSxDQUFDRCwwQ0FBSUEsQ0FBQ0c7QUFDdkI7QUFFTyxTQUFTQyxrQkFBa0JDLEtBQWE7SUFDNUMsTUFBTUMsY0FBY0QsTUFDaEJFLE9BQU8sQ0FBQyxZQUFZLElBQ3BCQSxPQUFPLENBQUMsYUFBYSxJQUNyQkEsT0FBTyxDQUFDLE1BQU0sUUFDZEEsT0FBTyxDQUFDLE9BQU8sU0FDZkEsT0FBTyxDQUFDLE9BQU8sU0FDZkEsT0FBTyxDQUFDLE9BQU8sU0FDZkEsT0FBTyxDQUFDLFVBQVUsUUFDbEJBLE9BQU8sQ0FBQyxNQUFNO0lBQ2xCLE9BQU9EO0FBQ1Y7QUFFTyxTQUFTRSxZQUFZQyxNQUFtQztJQUM1RCxJQUFJQSxXQUFXQyxXQUFXO0lBQzFCLE9BQU8sSUFBSUMsS0FBS0MsWUFBWSxDQUFDLFNBQVM7UUFBRUMsT0FBTztRQUFZQyxVQUFVO0lBQU0sR0FBR0MsTUFBTSxDQUFDLENBQUNOO0FBQ3pGO0FBRU8sU0FBU08sZ0JBQWdCQyxHQUE4QixFQUFFQyxXQUFXQyxRQUFRO0lBQ2hGLElBQUlGLFFBQVEsUUFBUUEsUUFBUVAsV0FBVztJQUV2QyxJQUFJVSxTQUFTO0lBQ2IsSUFBSUMsWUFBWTtJQUVoQixJQUFLLElBQUlDLElBQUksR0FBR0EsSUFBSUwsSUFBSU0sTUFBTSxJQUFJRixZQUFZSCxVQUFVSSxJQUNyRCxJQUFJTCxHQUFHLENBQUNLLEVBQUUsS0FBSyxLQUFLO1FBQ2pCRixVQUFVSCxHQUFHLENBQUNLLEVBQUUsRUFBRSxzQkFBc0I7UUFDeENELGFBQWEsc0JBQXNCO1FBQ25DLE1BQU9KLEdBQUcsQ0FBQ0ssSUFBSSxFQUFFLEtBQUssT0FBT0wsR0FBRyxDQUFDSyxJQUFJLEVBQUUsS0FBS1osVUFBV1ksS0FBSywyQkFBMkI7SUFDMUY7SUFFSCxPQUFPRjtBQUNWO0FBRU8sU0FBU0ksWUFBWUMsS0FBYTtJQUN0QyxNQUFNQyxRQUFRRCxNQUFNRSxJQUFJLEdBQUdDLEtBQUssQ0FBQztJQUVqQyxJQUFJRixNQUFNSCxNQUFNLEtBQUssR0FBRztRQUNyQixPQUFPRyxLQUFLLENBQUMsRUFBRSxDQUFDRyxXQUFXO0lBQzlCO0lBRUEsT0FBT0gsTUFDSEksR0FBRyxDQUFDLENBQUNDLE1BQU1DO1FBQ1QsSUFBSUEsVUFBVSxHQUFHO1lBQ2QsT0FBT0QsS0FBS0YsV0FBVztRQUMxQjtRQUNBLE9BQU9FLEtBQUtFLE1BQU0sQ0FBQyxHQUFHQyxXQUFXLEtBQUtILEtBQUtJLEtBQUssQ0FBQyxHQUFHTixXQUFXO0lBQ2xFLEdBQ0NPLElBQUksQ0FBQztBQUNaIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi91dGlscy50cz83YzFjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHR5cGUgQ2xhc3NWYWx1ZSwgY2xzeCB9IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IHsgdHdNZXJnZSB9IGZyb20gJ3RhaWx3aW5kLW1lcmdlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNuKC4uLmlucHV0czogQ2xhc3NWYWx1ZVtdKSB7XG4gICByZXR1cm4gdHdNZXJnZShjbHN4KGlucHV0cykpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0UGhvbmVOdW1iZXIocGhvbmU6IHN0cmluZykge1xuICAgY29uc3QgcGhvbmVOdW1iZXIgPSBwaG9uZVxuICAgICAgLnJlcGxhY2UoL1teKzAtOV0vZywgJycpXG4gICAgICAucmVwbGFjZSgvW15cXHdcXHNdL2dpLCAnJylcbiAgICAgIC5yZXBsYWNlKC9eNy8sICcyNTQ3JylcbiAgICAgIC5yZXBsYWNlKC9eMDEvLCAnMjU0MDEnKVxuICAgICAgLnJlcGxhY2UoL14xMC8sICcyNTQxMCcpXG4gICAgICAucmVwbGFjZSgvXjExLywgJzI1NDExJylcbiAgICAgIC5yZXBsYWNlKC9eMjU0MDcvLCAnMjU0NycpXG4gICAgICAucmVwbGFjZSgvXjAvLCAnMjU0Jyk7XG4gICByZXR1cm4gcGhvbmVOdW1iZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRNb25leShhbW91bnQ6IG51bWJlciB8IHN0cmluZyB8IHVuZGVmaW5lZCkge1xuICAgaWYgKGFtb3VudCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICByZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KCdlbi1LRScsIHsgc3R5bGU6ICdjdXJyZW5jeScsIGN1cnJlbmN5OiAnS0VTJyB9KS5mb3JtYXQoK2Ftb3VudCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaXJzdExldHRlcnMoc3RyOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkLCBudW1Xb3JkcyA9IEluZmluaXR5KSB7XG4gICBpZiAoc3RyID09PSBudWxsIHx8IHN0ciA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgIGxldCByZXN1bHQgPSAnICc7XG4gICBsZXQgd29yZENvdW50ID0gMDtcblxuICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoICYmIHdvcmRDb3VudCA8IG51bVdvcmRzOyBpKyspXG4gICAgICBpZiAoc3RyW2ldICE9PSAnICcpIHtcbiAgICAgICAgIHJlc3VsdCArPSBzdHJbaV07IC8vY2FwdHVyZSBmaXJzdCBsZXR0ZXJcbiAgICAgICAgIHdvcmRDb3VudCsrOyAvL2luY3JlbWVudCB3b3JkIGNvdW50XG4gICAgICAgICB3aGlsZSAoc3RyW2kgKyAxXSAhPT0gJyAnICYmIHN0cltpICsgMV0gIT09IHVuZGVmaW5lZCkgaSsrOyAvL3NraXAgcmVtYWluaW5nIGNoYXJhY3RlcnNcbiAgICAgIH1cblxuICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvQ2FtZWxDYXNlKGlucHV0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgY29uc3Qgd29yZHMgPSBpbnB1dC50cmltKCkuc3BsaXQoL1xccysvKTtcblxuICAgaWYgKHdvcmRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIHdvcmRzWzBdLnRvTG93ZXJDYXNlKCk7XG4gICB9XG5cbiAgIHJldHVybiB3b3Jkc1xuICAgICAgLm1hcCgod29yZCwgaW5kZXgpID0+IHtcbiAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgIH1cbiAgICAgICAgIHJldHVybiB3b3JkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgd29yZC5zbGljZSgxKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgfSlcbiAgICAgIC5qb2luKCcnKTtcbn1cbiJdLCJuYW1lcyI6WyJjbHN4IiwidHdNZXJnZSIsImNuIiwiaW5wdXRzIiwiZm9ybWF0UGhvbmVOdW1iZXIiLCJwaG9uZSIsInBob25lTnVtYmVyIiwicmVwbGFjZSIsImZvcm1hdE1vbmV5IiwiYW1vdW50IiwidW5kZWZpbmVkIiwiSW50bCIsIk51bWJlckZvcm1hdCIsInN0eWxlIiwiY3VycmVuY3kiLCJmb3JtYXQiLCJnZXRGaXJzdExldHRlcnMiLCJzdHIiLCJudW1Xb3JkcyIsIkluZmluaXR5IiwicmVzdWx0Iiwid29yZENvdW50IiwiaSIsImxlbmd0aCIsInRvQ2FtZWxDYXNlIiwiaW5wdXQiLCJ3b3JkcyIsInRyaW0iLCJzcGxpdCIsInRvTG93ZXJDYXNlIiwibWFwIiwid29yZCIsImluZGV4IiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsImpvaW4iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/utils.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/api/index.ts":
/*!*********************************!*\
  !*** ./src/server/api/index.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   appRouter: () => (/* binding */ appRouter),\n/* harmony export */   createCaller: () => (/* binding */ createCaller)\n/* harmony export */ });\n/* harmony import */ var _trpc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./trpc */ \"(rsc)/./src/server/api/trpc.ts\");\n/* harmony import */ var _routers_businessTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./routers/businessTypes */ \"(rsc)/./src/server/api/routers/businessTypes.ts\");\n/* harmony import */ var _routers_authentication__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./routers/authentication */ \"(rsc)/./src/server/api/routers/authentication.ts\");\n/* harmony import */ var _routers_sales__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./routers/sales */ \"(rsc)/./src/server/api/routers/sales.ts\");\n/* harmony import */ var _routers_expense__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./routers/expense */ \"(rsc)/./src/server/api/routers/expense.ts\");\n/* harmony import */ var _routers_customers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./routers/customers */ \"(rsc)/./src/server/api/routers/customers.ts\");\n/* harmony import */ var _routers_items__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./routers/items */ \"(rsc)/./src/server/api/routers/items.ts\");\n/* harmony import */ var _routers_salesItems__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./routers/salesItems */ \"(rsc)/./src/server/api/routers/salesItems.ts\");\n/* harmony import */ var _routers_categories__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./routers/categories */ \"(rsc)/./src/server/api/routers/categories.ts\");\n/* harmony import */ var _routers_inventory__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./routers/inventory */ \"(rsc)/./src/server/api/routers/inventory.ts\");\n/* harmony import */ var _routers_creditDebt__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./routers/creditDebt */ \"(rsc)/./src/server/api/routers/creditDebt.ts\");\n\n\n\n\n\n\n\n\n\n\n\nconst appRouter = (0,_trpc__WEBPACK_IMPORTED_MODULE_0__.createTRPCRouter)({\n    businessTypes: _routers_businessTypes__WEBPACK_IMPORTED_MODULE_1__.businessTypesRouter,\n    authentication: _routers_authentication__WEBPACK_IMPORTED_MODULE_2__.authRouter,\n    sales: _routers_sales__WEBPACK_IMPORTED_MODULE_3__.salesRouter,\n    expense: _routers_expense__WEBPACK_IMPORTED_MODULE_4__.expenseRouter,\n    customers: _routers_customers__WEBPACK_IMPORTED_MODULE_5__.customersRouter,\n    items: _routers_items__WEBPACK_IMPORTED_MODULE_6__.itemsRouter,\n    salesItems: _routers_salesItems__WEBPACK_IMPORTED_MODULE_7__.salesItemsRouter,\n    categories: _routers_categories__WEBPACK_IMPORTED_MODULE_8__.categoriesRouter,\n    inventory: _routers_inventory__WEBPACK_IMPORTED_MODULE_9__.inventoryRouter,\n    creditDebt: _routers_creditDebt__WEBPACK_IMPORTED_MODULE_10__.creditDebtRouter\n});\nconst createCaller = (0,_trpc__WEBPACK_IMPORTED_MODULE_0__.createCallerFactory)(appRouter);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL2FwaS9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQStEO0FBQ0Q7QUFDUjtBQUNSO0FBQ0k7QUFDSTtBQUNSO0FBQ1U7QUFDQTtBQUNGO0FBQ0U7QUFFakQsTUFBTVksWUFBWVgsdURBQWdCQSxDQUFDO0lBQ3ZDWSxlQUFlWCx1RUFBbUJBO0lBQ2xDWSxnQkFBZ0JYLCtEQUFVQTtJQUMxQlksT0FBT1gsdURBQVdBO0lBQ2xCWSxTQUFTWCwyREFBYUE7SUFDdEJZLFdBQVdYLCtEQUFlQTtJQUMxQlksT0FBT1gsdURBQVdBO0lBQ2xCWSxZQUFZWCxpRUFBZ0JBO0lBQzVCWSxZQUFZWCxpRUFBZ0JBO0lBQzVCWSxXQUFXWCwrREFBZUE7SUFDMUJZLFlBQVlYLGtFQUFnQkE7QUFDL0IsR0FBRztBQUdJLE1BQU1ZLGVBQWV2QiwwREFBbUJBLENBQUNZLFdBQVciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2FwaS9pbmRleC50cz83NzVlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNhbGxlckZhY3RvcnksIGNyZWF0ZVRSUENSb3V0ZXIgfSBmcm9tICcuL3RycGMnO1xuaW1wb3J0IHsgYnVzaW5lc3NUeXBlc1JvdXRlciB9IGZyb20gJy4vcm91dGVycy9idXNpbmVzc1R5cGVzJztcbmltcG9ydCB7IGF1dGhSb3V0ZXIgfSBmcm9tICcuL3JvdXRlcnMvYXV0aGVudGljYXRpb24nO1xuaW1wb3J0IHsgc2FsZXNSb3V0ZXIgfSBmcm9tICcuL3JvdXRlcnMvc2FsZXMnO1xuaW1wb3J0IHsgZXhwZW5zZVJvdXRlciB9IGZyb20gJy4vcm91dGVycy9leHBlbnNlJztcbmltcG9ydCB7IGN1c3RvbWVyc1JvdXRlciB9IGZyb20gJy4vcm91dGVycy9jdXN0b21lcnMnO1xuaW1wb3J0IHsgaXRlbXNSb3V0ZXIgfSBmcm9tICcuL3JvdXRlcnMvaXRlbXMnO1xuaW1wb3J0IHsgc2FsZXNJdGVtc1JvdXRlciB9IGZyb20gJy4vcm91dGVycy9zYWxlc0l0ZW1zJztcbmltcG9ydCB7IGNhdGVnb3JpZXNSb3V0ZXIgfSBmcm9tICcuL3JvdXRlcnMvY2F0ZWdvcmllcyc7XG5pbXBvcnQgeyBpbnZlbnRvcnlSb3V0ZXIgfSBmcm9tICcuL3JvdXRlcnMvaW52ZW50b3J5JztcbmltcG9ydCB7IGNyZWRpdERlYnRSb3V0ZXIgfSBmcm9tICcuL3JvdXRlcnMvY3JlZGl0RGVidCc7XG5cbmV4cG9ydCBjb25zdCBhcHBSb3V0ZXIgPSBjcmVhdGVUUlBDUm91dGVyKHtcbiAgIGJ1c2luZXNzVHlwZXM6IGJ1c2luZXNzVHlwZXNSb3V0ZXIsXG4gICBhdXRoZW50aWNhdGlvbjogYXV0aFJvdXRlcixcbiAgIHNhbGVzOiBzYWxlc1JvdXRlcixcbiAgIGV4cGVuc2U6IGV4cGVuc2VSb3V0ZXIsXG4gICBjdXN0b21lcnM6IGN1c3RvbWVyc1JvdXRlcixcbiAgIGl0ZW1zOiBpdGVtc1JvdXRlcixcbiAgIHNhbGVzSXRlbXM6IHNhbGVzSXRlbXNSb3V0ZXIsXG4gICBjYXRlZ29yaWVzOiBjYXRlZ29yaWVzUm91dGVyLFxuICAgaW52ZW50b3J5OiBpbnZlbnRvcnlSb3V0ZXIsXG4gICBjcmVkaXREZWJ0OiBjcmVkaXREZWJ0Um91dGVyLFxufSk7XG5cbmV4cG9ydCB0eXBlIEFwcFJvdXRlciA9IHR5cGVvZiBhcHBSb3V0ZXI7XG5leHBvcnQgY29uc3QgY3JlYXRlQ2FsbGVyID0gY3JlYXRlQ2FsbGVyRmFjdG9yeShhcHBSb3V0ZXIpO1xuIl0sIm5hbWVzIjpbImNyZWF0ZUNhbGxlckZhY3RvcnkiLCJjcmVhdGVUUlBDUm91dGVyIiwiYnVzaW5lc3NUeXBlc1JvdXRlciIsImF1dGhSb3V0ZXIiLCJzYWxlc1JvdXRlciIsImV4cGVuc2VSb3V0ZXIiLCJjdXN0b21lcnNSb3V0ZXIiLCJpdGVtc1JvdXRlciIsInNhbGVzSXRlbXNSb3V0ZXIiLCJjYXRlZ29yaWVzUm91dGVyIiwiaW52ZW50b3J5Um91dGVyIiwiY3JlZGl0RGVidFJvdXRlciIsImFwcFJvdXRlciIsImJ1c2luZXNzVHlwZXMiLCJhdXRoZW50aWNhdGlvbiIsInNhbGVzIiwiZXhwZW5zZSIsImN1c3RvbWVycyIsIml0ZW1zIiwic2FsZXNJdGVtcyIsImNhdGVnb3JpZXMiLCJpbnZlbnRvcnkiLCJjcmVkaXREZWJ0IiwiY3JlYXRlQ2FsbGVyIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/server/api/index.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/api/routers/authentication.ts":
/*!**************************************************!*\
  !*** ./src/server/api/routers/authentication.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authRouter: () => (/* binding */ authRouter)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/.pnpm/zod@3.23.8/node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _trpc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../trpc */ \"(rsc)/./src/server/api/trpc.ts\");\n/* harmony import */ var _db_schema_users__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../db/schema/users */ \"(rsc)/./src/server/db/schema/users.ts\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/sql/expressions/conditions.js\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bcrypt__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/utils */ \"(rsc)/./src/lib/utils.ts\");\n\n\n\n\n\n\nconst authRouter = (0,_trpc__WEBPACK_IMPORTED_MODULE_0__.createTRPCRouter)({\n    signup: _trpc__WEBPACK_IMPORTED_MODULE_0__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n        fullName: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().min(2),\n        phoneNumber: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().min(2),\n        password: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().min(6),\n        businessName: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().min(2),\n        businessType: zod__WEBPACK_IMPORTED_MODULE_4__.z.string(),\n        businessLocation: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().min(2)\n    })).mutation(async ({ ctx, input })=>{\n        const formattedPhone = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.formatPhoneNumber)(input.phoneNumber);\n        const existingUser = await ctx.db.select().from(_db_schema_users__WEBPACK_IMPORTED_MODULE_1__.users).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_db_schema_users__WEBPACK_IMPORTED_MODULE_1__.users.phoneNumber, formattedPhone));\n        if (existingUser.length > 0) {\n            return {\n                status: 'fail',\n                message: 'Phone number already exists'\n            };\n        }\n        const salt = await bcrypt__WEBPACK_IMPORTED_MODULE_2___default().genSalt();\n        const encryptedPassword = await bcrypt__WEBPACK_IMPORTED_MODULE_2___default().hash(input.password, salt);\n        await ctx.db.insert(_db_schema_users__WEBPACK_IMPORTED_MODULE_1__.users).values({\n            fullName: input.fullName,\n            phoneNumber: formattedPhone,\n            password: encryptedPassword,\n            businessName: input.businessName,\n            businessTypeId: input.businessType,\n            businessLocation: input.businessLocation,\n            dateJoined: new Date().toISOString().slice(0, 19).replace('T', ' ')\n        });\n        return {\n            status: 'success',\n            message: 'Account succesfully created'\n        };\n    }),\n    login: _trpc__WEBPACK_IMPORTED_MODULE_0__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n        phoneNumber: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().min(2),\n        password: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().min(6)\n    })).mutation(async ({ ctx, input })=>{\n        const { password, phoneNumber } = input;\n        const formattedPhone = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.formatPhoneNumber)(phoneNumber);\n        const existingUser = await ctx.db.select().from(_db_schema_users__WEBPACK_IMPORTED_MODULE_1__.users).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_db_schema_users__WEBPACK_IMPORTED_MODULE_1__.users.phoneNumber, formattedPhone));\n        if (!existingUser.length) {\n            return {\n                status: 'fail',\n                message: 'Phone number is not registered'\n            };\n        }\n        const passwordMatch = await bcrypt__WEBPACK_IMPORTED_MODULE_2___default().compare(password, existingUser[0].password);\n        if (!passwordMatch) {\n            return {\n                status: 'fail',\n                message: 'Incorrect password'\n            };\n        }\n        return {\n            status: 'success',\n            message: 'Login succesfull, redirecting to dashboard...'\n        };\n    })\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL2FwaS9yb3V0ZXJzL2F1dGhlbnRpY2F0aW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXdCO0FBQ29DO0FBQ2Q7QUFDYjtBQUNMO0FBQ29CO0FBRXpDLE1BQU1PLGFBQWFOLHVEQUFnQkEsQ0FBQztJQUN4Q08sUUFBUU4sa0RBQWVBLENBQ25CTyxLQUFLLENBQ0hULGtDQUFDQSxDQUFDVSxNQUFNLENBQUM7UUFDTkMsVUFBVVgsa0NBQUNBLENBQUNZLE1BQU0sR0FBR0MsR0FBRyxDQUFDO1FBQ3pCQyxhQUFhZCxrQ0FBQ0EsQ0FBQ1ksTUFBTSxHQUFHQyxHQUFHLENBQUM7UUFDNUJFLFVBQVVmLGtDQUFDQSxDQUFDWSxNQUFNLEdBQUdDLEdBQUcsQ0FBQztRQUN6QkcsY0FBY2hCLGtDQUFDQSxDQUFDWSxNQUFNLEdBQUdDLEdBQUcsQ0FBQztRQUM3QkksY0FBY2pCLGtDQUFDQSxDQUFDWSxNQUFNO1FBQ3RCTSxrQkFBa0JsQixrQ0FBQ0EsQ0FBQ1ksTUFBTSxHQUFHQyxHQUFHLENBQUM7SUFDcEMsSUFFRk0sUUFBUSxDQUFDLE9BQU8sRUFBRUMsR0FBRyxFQUFFWCxLQUFLLEVBQUU7UUFDNUIsTUFBTVksaUJBQWlCZiw2REFBaUJBLENBQUNHLE1BQU1LLFdBQVc7UUFDMUQsTUFBTVEsZUFBZSxNQUFNRixJQUFJRyxFQUFFLENBQzdCQyxNQUFNLEdBQ05DLElBQUksQ0FBQ3RCLG1EQUFLQSxFQUNWdUIsS0FBSyxDQUFDdEIsK0NBQUVBLENBQUNELG1EQUFLQSxDQUFDVyxXQUFXLEVBQUVPO1FBRWhDLElBQUlDLGFBQWFLLE1BQU0sR0FBRyxHQUFHO1lBQzFCLE9BQU87Z0JBQ0pDLFFBQVE7Z0JBQ1JDLFNBQVM7WUFDWjtRQUNIO1FBQ0EsTUFBTUMsT0FBTyxNQUFNekIscURBQWM7UUFDakMsTUFBTTJCLG9CQUFvQixNQUFNM0Isa0RBQVcsQ0FBQ0ksTUFBTU0sUUFBUSxFQUFFZTtRQUM1RCxNQUFNVixJQUFJRyxFQUFFLENBQUNXLE1BQU0sQ0FBQy9CLG1EQUFLQSxFQUFFZ0MsTUFBTSxDQUFDO1lBQy9CeEIsVUFBVUYsTUFBTUUsUUFBUTtZQUN4QkcsYUFBYU87WUFDYk4sVUFBVWlCO1lBQ1ZoQixjQUFjUCxNQUFNTyxZQUFZO1lBQ2hDb0IsZ0JBQWdCM0IsTUFBTVEsWUFBWTtZQUNsQ0Msa0JBQWtCVCxNQUFNUyxnQkFBZ0I7WUFDeENtQixZQUFZLElBQUlDLE9BQU9DLFdBQVcsR0FBR0MsS0FBSyxDQUFDLEdBQUcsSUFBSUMsT0FBTyxDQUFDLEtBQUs7UUFDbEU7UUFFQSxPQUFPO1lBQ0piLFFBQVE7WUFDUkMsU0FBUztRQUNaO0lBQ0g7SUFFSGEsT0FBT3hDLGtEQUFlQSxDQUNsQk8sS0FBSyxDQUNIVCxrQ0FBQ0EsQ0FBQ1UsTUFBTSxDQUFDO1FBQ05JLGFBQWFkLGtDQUFDQSxDQUFDWSxNQUFNLEdBQUdDLEdBQUcsQ0FBQztRQUM1QkUsVUFBVWYsa0NBQUNBLENBQUNZLE1BQU0sR0FBR0MsR0FBRyxDQUFDO0lBQzVCLElBRUZNLFFBQVEsQ0FBQyxPQUFPLEVBQUVDLEdBQUcsRUFBRVgsS0FBSyxFQUFFO1FBQzVCLE1BQU0sRUFBRU0sUUFBUSxFQUFFRCxXQUFXLEVBQUUsR0FBR0w7UUFFbEMsTUFBTVksaUJBQWlCZiw2REFBaUJBLENBQUNRO1FBRXpDLE1BQU1RLGVBQWUsTUFBTUYsSUFBSUcsRUFBRSxDQUM3QkMsTUFBTSxHQUNOQyxJQUFJLENBQUN0QixtREFBS0EsRUFDVnVCLEtBQUssQ0FBQ3RCLCtDQUFFQSxDQUFDRCxtREFBS0EsQ0FBQ1csV0FBVyxFQUFFTztRQUVoQyxJQUFJLENBQUNDLGFBQWFLLE1BQU0sRUFBRTtZQUN2QixPQUFPO2dCQUNKQyxRQUFRO2dCQUNSQyxTQUFTO1lBQ1o7UUFDSDtRQUVBLE1BQU1jLGdCQUFnQixNQUFNdEMscURBQWMsQ0FBQ1UsVUFBVU8sWUFBWSxDQUFDLEVBQUUsQ0FBQ1AsUUFBUTtRQUM3RSxJQUFJLENBQUM0QixlQUFlO1lBQ2pCLE9BQU87Z0JBQ0pmLFFBQVE7Z0JBQ1JDLFNBQVM7WUFDWjtRQUNIO1FBRUEsT0FBTztZQUNKRCxRQUFRO1lBQ1JDLFNBQVM7UUFDWjtJQUNIO0FBQ04sR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zZXJ2ZXIvYXBpL3JvdXRlcnMvYXV0aGVudGljYXRpb24udHM/ZjYxNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcbmltcG9ydCB7IGNyZWF0ZVRSUENSb3V0ZXIsIHB1YmxpY1Byb2NlZHVyZSB9IGZyb20gJy4uL3RycGMnO1xuaW1wb3J0IHsgdXNlcnMgfSBmcm9tICcuLi8uLi9kYi9zY2hlbWEvdXNlcnMnO1xuaW1wb3J0IHsgZXEgfSBmcm9tICdkcml6emxlLW9ybSc7XG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCc7XG5pbXBvcnQgeyBmb3JtYXRQaG9uZU51bWJlciB9IGZyb20gJ0AvbGliL3V0aWxzJztcblxuZXhwb3J0IGNvbnN0IGF1dGhSb3V0ZXIgPSBjcmVhdGVUUlBDUm91dGVyKHtcbiAgIHNpZ251cDogcHVibGljUHJvY2VkdXJlXG4gICAgICAuaW5wdXQoXG4gICAgICAgICB6Lm9iamVjdCh7XG4gICAgICAgICAgICBmdWxsTmFtZTogei5zdHJpbmcoKS5taW4oMiksXG4gICAgICAgICAgICBwaG9uZU51bWJlcjogei5zdHJpbmcoKS5taW4oMiksXG4gICAgICAgICAgICBwYXNzd29yZDogei5zdHJpbmcoKS5taW4oNiksXG4gICAgICAgICAgICBidXNpbmVzc05hbWU6IHouc3RyaW5nKCkubWluKDIpLFxuICAgICAgICAgICAgYnVzaW5lc3NUeXBlOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgYnVzaW5lc3NMb2NhdGlvbjogei5zdHJpbmcoKS5taW4oMiksXG4gICAgICAgICB9KSxcbiAgICAgIClcbiAgICAgIC5tdXRhdGlvbihhc3luYyAoeyBjdHgsIGlucHV0IH0pID0+IHtcbiAgICAgICAgIGNvbnN0IGZvcm1hdHRlZFBob25lID0gZm9ybWF0UGhvbmVOdW1iZXIoaW5wdXQucGhvbmVOdW1iZXIpO1xuICAgICAgICAgY29uc3QgZXhpc3RpbmdVc2VyID0gYXdhaXQgY3R4LmRiXG4gICAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAgIC5mcm9tKHVzZXJzKVxuICAgICAgICAgICAgLndoZXJlKGVxKHVzZXJzLnBob25lTnVtYmVyLCBmb3JtYXR0ZWRQaG9uZSkpO1xuXG4gICAgICAgICBpZiAoZXhpc3RpbmdVc2VyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICBzdGF0dXM6ICdmYWlsJyxcbiAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdQaG9uZSBudW1iZXIgYWxyZWFkeSBleGlzdHMnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgIH1cbiAgICAgICAgIGNvbnN0IHNhbHQgPSBhd2FpdCBiY3J5cHQuZ2VuU2FsdCgpO1xuICAgICAgICAgY29uc3QgZW5jcnlwdGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChpbnB1dC5wYXNzd29yZCwgc2FsdCk7XG4gICAgICAgICBhd2FpdCBjdHguZGIuaW5zZXJ0KHVzZXJzKS52YWx1ZXMoe1xuICAgICAgICAgICAgZnVsbE5hbWU6IGlucHV0LmZ1bGxOYW1lLFxuICAgICAgICAgICAgcGhvbmVOdW1iZXI6IGZvcm1hdHRlZFBob25lLFxuICAgICAgICAgICAgcGFzc3dvcmQ6IGVuY3J5cHRlZFBhc3N3b3JkLFxuICAgICAgICAgICAgYnVzaW5lc3NOYW1lOiBpbnB1dC5idXNpbmVzc05hbWUsXG4gICAgICAgICAgICBidXNpbmVzc1R5cGVJZDogaW5wdXQuYnVzaW5lc3NUeXBlLFxuICAgICAgICAgICAgYnVzaW5lc3NMb2NhdGlvbjogaW5wdXQuYnVzaW5lc3NMb2NhdGlvbixcbiAgICAgICAgICAgIGRhdGVKb2luZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxOSkucmVwbGFjZSgnVCcsICcgJyksXG4gICAgICAgICB9KTtcblxuICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgbWVzc2FnZTogJ0FjY291bnQgc3VjY2VzZnVsbHkgY3JlYXRlZCcsXG4gICAgICAgICB9O1xuICAgICAgfSksXG5cbiAgIGxvZ2luOiBwdWJsaWNQcm9jZWR1cmVcbiAgICAgIC5pbnB1dChcbiAgICAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgICAgIHBob25lTnVtYmVyOiB6LnN0cmluZygpLm1pbigyKSxcbiAgICAgICAgICAgIHBhc3N3b3JkOiB6LnN0cmluZygpLm1pbig2KSxcbiAgICAgICAgIH0pLFxuICAgICAgKVxuICAgICAgLm11dGF0aW9uKGFzeW5jICh7IGN0eCwgaW5wdXQgfSkgPT4ge1xuICAgICAgICAgY29uc3QgeyBwYXNzd29yZCwgcGhvbmVOdW1iZXIgfSA9IGlucHV0O1xuXG4gICAgICAgICBjb25zdCBmb3JtYXR0ZWRQaG9uZSA9IGZvcm1hdFBob25lTnVtYmVyKHBob25lTnVtYmVyKTtcblxuICAgICAgICAgY29uc3QgZXhpc3RpbmdVc2VyID0gYXdhaXQgY3R4LmRiXG4gICAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAgIC5mcm9tKHVzZXJzKVxuICAgICAgICAgICAgLndoZXJlKGVxKHVzZXJzLnBob25lTnVtYmVyLCBmb3JtYXR0ZWRQaG9uZSkpO1xuXG4gICAgICAgICBpZiAoIWV4aXN0aW5nVXNlci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICBzdGF0dXM6ICdmYWlsJyxcbiAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdQaG9uZSBudW1iZXIgaXMgbm90IHJlZ2lzdGVyZWQnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgIH1cblxuICAgICAgICAgY29uc3QgcGFzc3dvcmRNYXRjaCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBleGlzdGluZ1VzZXJbMF0ucGFzc3dvcmQpO1xuICAgICAgICAgaWYgKCFwYXNzd29yZE1hdGNoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgc3RhdHVzOiAnZmFpbCcsXG4gICAgICAgICAgICAgICBtZXNzYWdlOiAnSW5jb3JyZWN0IHBhc3N3b3JkJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICB9XG5cbiAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdMb2dpbiBzdWNjZXNmdWxsLCByZWRpcmVjdGluZyB0byBkYXNoYm9hcmQuLi4nLFxuICAgICAgICAgfTtcbiAgICAgIH0pLFxufSk7XG4iXSwibmFtZXMiOlsieiIsImNyZWF0ZVRSUENSb3V0ZXIiLCJwdWJsaWNQcm9jZWR1cmUiLCJ1c2VycyIsImVxIiwiYmNyeXB0IiwiZm9ybWF0UGhvbmVOdW1iZXIiLCJhdXRoUm91dGVyIiwic2lnbnVwIiwiaW5wdXQiLCJvYmplY3QiLCJmdWxsTmFtZSIsInN0cmluZyIsIm1pbiIsInBob25lTnVtYmVyIiwicGFzc3dvcmQiLCJidXNpbmVzc05hbWUiLCJidXNpbmVzc1R5cGUiLCJidXNpbmVzc0xvY2F0aW9uIiwibXV0YXRpb24iLCJjdHgiLCJmb3JtYXR0ZWRQaG9uZSIsImV4aXN0aW5nVXNlciIsImRiIiwic2VsZWN0IiwiZnJvbSIsIndoZXJlIiwibGVuZ3RoIiwic3RhdHVzIiwibWVzc2FnZSIsInNhbHQiLCJnZW5TYWx0IiwiZW5jcnlwdGVkUGFzc3dvcmQiLCJoYXNoIiwiaW5zZXJ0IiwidmFsdWVzIiwiYnVzaW5lc3NUeXBlSWQiLCJkYXRlSm9pbmVkIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwic2xpY2UiLCJyZXBsYWNlIiwibG9naW4iLCJwYXNzd29yZE1hdGNoIiwiY29tcGFyZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/server/api/routers/authentication.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/api/routers/businessTypes.ts":
/*!*************************************************!*\
  !*** ./src/server/api/routers/businessTypes.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   businessTypesRouter: () => (/* binding */ businessTypesRouter)\n/* harmony export */ });\n/* harmony import */ var _db_schema_businessTypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../db/schema/businessTypes */ \"(rsc)/./src/server/db/schema/businessTypes.ts\");\n/* harmony import */ var _trpc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../trpc */ \"(rsc)/./src/server/api/trpc.ts\");\n\n\nconst businessTypesRouter = (0,_trpc__WEBPACK_IMPORTED_MODULE_1__.createTRPCRouter)({\n    listBusinessTypes: _trpc__WEBPACK_IMPORTED_MODULE_1__.publicProcedure.query(async ({ ctx })=>{\n        const res = await ctx.db.select().from(_db_schema_businessTypes__WEBPACK_IMPORTED_MODULE_0__.businessTypes);\n        return res;\n    })\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL2FwaS9yb3V0ZXJzL2J1c2luZXNzVHlwZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQzhEO0FBQ0Y7QUFFckQsTUFBTUcsc0JBQXNCRix1REFBZ0JBLENBQUM7SUFDcERHLG1CQUFtQkYsa0RBQWVBLENBQUNHLEtBQUssQ0FBRSxPQUFPLEVBQUNDLEdBQUcsRUFBQztRQUNsRCxNQUFNQyxNQUFNLE1BQU1ELElBQUlFLEVBQUUsQ0FBQ0MsTUFBTSxHQUFHQyxJQUFJLENBQUNWLG1FQUFhQTtRQUNwRCxPQUFPTztJQUNYO0FBQ0EsR0FBRSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zZXJ2ZXIvYXBpL3JvdXRlcnMvYnVzaW5lc3NUeXBlcy50cz80MThjIl0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHsgYnVzaW5lc3NUeXBlcyB9IGZyb20gXCIuLi8uLi9kYi9zY2hlbWEvYnVzaW5lc3NUeXBlc1wiO1xuaW1wb3J0IHsgY3JlYXRlVFJQQ1JvdXRlciwgcHVibGljUHJvY2VkdXJlIH0gZnJvbSBcIi4uL3RycGNcIjtcblxuZXhwb3J0IGNvbnN0IGJ1c2luZXNzVHlwZXNSb3V0ZXIgPSBjcmVhdGVUUlBDUm91dGVyKHtcbmxpc3RCdXNpbmVzc1R5cGVzOiBwdWJsaWNQcm9jZWR1cmUucXVlcnkoIGFzeW5jICh7Y3R4fSkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGN0eC5kYi5zZWxlY3QoKS5mcm9tKGJ1c2luZXNzVHlwZXMpXG4gICAgcmV0dXJuIHJlc1xufSlcbn0pIl0sIm5hbWVzIjpbImJ1c2luZXNzVHlwZXMiLCJjcmVhdGVUUlBDUm91dGVyIiwicHVibGljUHJvY2VkdXJlIiwiYnVzaW5lc3NUeXBlc1JvdXRlciIsImxpc3RCdXNpbmVzc1R5cGVzIiwicXVlcnkiLCJjdHgiLCJyZXMiLCJkYiIsInNlbGVjdCIsImZyb20iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/server/api/routers/businessTypes.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/api/routers/categories.ts":
/*!**********************************************!*\
  !*** ./src/server/api/routers/categories.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   categoriesRouter: () => (/* binding */ categoriesRouter)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/.pnpm/zod@3.23.8/node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _trpc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../trpc */ \"(rsc)/./src/server/api/trpc.ts\");\n/* harmony import */ var _server_db_schema_categories__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/server/db/schema/categories */ \"(rsc)/./src/server/db/schema/categories.ts\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/sql/expressions/conditions.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/sql/functions/aggregate.js\");\n/* harmony import */ var _validation_categoriesValidation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/validation/categoriesValidation */ \"(rsc)/./src/validation/categoriesValidation.ts\");\n/* harmony import */ var _server_db_schema_users__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/server/db/schema/users */ \"(rsc)/./src/server/db/schema/users.ts\");\n/* harmony import */ var _lib_const__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/const */ \"(rsc)/./src/lib/const.ts\");\n\n\n\n\n\n\n\nconst categoriesRouter = (0,_trpc__WEBPACK_IMPORTED_MODULE_0__.createTRPCRouter)({\n    createCategory: _trpc__WEBPACK_IMPORTED_MODULE_0__.publicProcedure.input(_validation_categoriesValidation__WEBPACK_IMPORTED_MODULE_2__.newCategoryValidation.extend({\n        userId: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().min(2, {\n            message: 'UserId is required'\n        })\n    })).mutation(async ({ ctx, input })=>{\n        const { categoryName, description, userId } = input;\n        const { db } = ctx;\n        const checkUser = await db.select().from(_server_db_schema_users__WEBPACK_IMPORTED_MODULE_3__.users).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.eq)(_server_db_schema_users__WEBPACK_IMPORTED_MODULE_3__.users.userId, userId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.eq)(_server_db_schema_users__WEBPACK_IMPORTED_MODULE_3__.users.status, 'active')));\n        if (!checkUser.length) return {\n            status: 'error',\n            message: 'User not found'\n        };\n        await db.insert(_server_db_schema_categories__WEBPACK_IMPORTED_MODULE_1__.categories).values({\n            categoryName,\n            description,\n            userId\n        });\n        return {\n            status: 'success',\n            message: 'Category succesfully added'\n        };\n    }),\n    updateCategory: _trpc__WEBPACK_IMPORTED_MODULE_0__.publicProcedure.input(_validation_categoriesValidation__WEBPACK_IMPORTED_MODULE_2__.newCategoryValidation.extend({\n        categoryId: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().min(2, {\n            message: 'CategoryId is required'\n        })\n    })).mutation(async ({ ctx, input })=>{\n        const { categoryId, categoryName, description } = input;\n        const { db } = ctx;\n        const existingCategory = await db.select().from(_server_db_schema_categories__WEBPACK_IMPORTED_MODULE_1__.categories).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.eq)(_server_db_schema_categories__WEBPACK_IMPORTED_MODULE_1__.categories.categoryId, categoryId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.eq)(_server_db_schema_categories__WEBPACK_IMPORTED_MODULE_1__.categories.status, 'active')));\n        if (!existingCategory.length) return {\n            status: 'error',\n            message: 'Category not found'\n        };\n        await db.update(_server_db_schema_categories__WEBPACK_IMPORTED_MODULE_1__.categories).set({\n            categoryName,\n            description\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.eq)(_server_db_schema_categories__WEBPACK_IMPORTED_MODULE_1__.categories.categoryId, categoryId));\n        return {\n            status: 'success',\n            message: 'Category succesfully updated!'\n        };\n    }),\n    deleteCategory: _trpc__WEBPACK_IMPORTED_MODULE_0__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_5__.z.object({\n        categoryId: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().min(2, {\n            message: 'CategoryId is required'\n        })\n    })).mutation(async ({ ctx, input })=>{\n        const { categoryId } = input;\n        const { db } = ctx;\n        const existingCategory = await db.select().from(_server_db_schema_categories__WEBPACK_IMPORTED_MODULE_1__.categories).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.eq)(_server_db_schema_categories__WEBPACK_IMPORTED_MODULE_1__.categories.categoryId, categoryId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.eq)(_server_db_schema_categories__WEBPACK_IMPORTED_MODULE_1__.categories.status, 'active')));\n        if (!existingCategory.length) return {\n            status: 'error',\n            message: 'Category not found'\n        };\n        await db.update(_server_db_schema_categories__WEBPACK_IMPORTED_MODULE_1__.categories).set({\n            status: 'deleted'\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.eq)(_server_db_schema_categories__WEBPACK_IMPORTED_MODULE_1__.categories.categoryId, categoryId));\n        return {\n            status: 'success',\n            message: 'Category succesfully deleted'\n        };\n    }),\n    listCategories: _trpc__WEBPACK_IMPORTED_MODULE_0__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_5__.z.object({\n        userId: zod__WEBPACK_IMPORTED_MODULE_5__.z.string()\n    })).query(async ({ ctx, input })=>{\n        const { userId } = input;\n        const { db } = ctx;\n        const productCategories = await db.select().from(_server_db_schema_categories__WEBPACK_IMPORTED_MODULE_1__.categories).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.eq)(_server_db_schema_categories__WEBPACK_IMPORTED_MODULE_1__.categories.userId, userId));\n        return productCategories;\n    }),\n    listPaginatedCategories: _trpc__WEBPACK_IMPORTED_MODULE_0__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_5__.z.object({\n        userId: zod__WEBPACK_IMPORTED_MODULE_5__.z.string(),\n        page: zod__WEBPACK_IMPORTED_MODULE_5__.z.string()\n    })).query(async ({ ctx, input })=>{\n        const { page, userId } = input;\n        const { db } = ctx;\n        const offset = Number(page) * _lib_const__WEBPACK_IMPORTED_MODULE_4__.PAGE_SIZE;\n        const selectQuery = db.select().from(_server_db_schema_categories__WEBPACK_IMPORTED_MODULE_1__.categories).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.eq)(_server_db_schema_categories__WEBPACK_IMPORTED_MODULE_1__.categories.userId, userId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.eq)(_server_db_schema_categories__WEBPACK_IMPORTED_MODULE_1__.categories.status, 'active'))).limit(_lib_const__WEBPACK_IMPORTED_MODULE_4__.PAGE_SIZE).offset(offset);\n        const countQuery = db.select({\n            count: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.count)()\n        }).from(_server_db_schema_categories__WEBPACK_IMPORTED_MODULE_1__.categories).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.eq)(_server_db_schema_categories__WEBPACK_IMPORTED_MODULE_1__.categories.userId, userId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.eq)(_server_db_schema_categories__WEBPACK_IMPORTED_MODULE_1__.categories.status, 'active')));\n        const [categoriesResult, countResult] = await Promise.all([\n            selectQuery.execute(),\n            countQuery.execute()\n        ]);\n        return {\n            categories: categoriesResult,\n            totalCount: countResult[0].count\n        };\n    }),\n    getCategoryDetails: _trpc__WEBPACK_IMPORTED_MODULE_0__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_5__.z.object({\n        categoryId: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().min(1, {\n            message: 'Category Id is required'\n        })\n    })).query(async ({ ctx, input })=>{\n        const { categoryId } = input;\n        const { db } = ctx;\n        const existingCategory = await db.select().from(_server_db_schema_categories__WEBPACK_IMPORTED_MODULE_1__.categories).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.eq)(_server_db_schema_categories__WEBPACK_IMPORTED_MODULE_1__.categories.categoryId, categoryId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.eq)(_server_db_schema_categories__WEBPACK_IMPORTED_MODULE_1__.categories.status, 'active')));\n        if (!existingCategory.length) return {\n            status: 'error',\n            message: 'Category not found'\n        };\n        return {\n            status: 'success',\n            category: existingCategory[0]\n        };\n    })\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL2FwaS9yb3V0ZXJzL2NhdGVnb3JpZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXdCO0FBQ29DO0FBQ0Q7QUFDZDtBQUM2QjtBQUN6QjtBQUNUO0FBRWpDLE1BQU1VLG1CQUFtQlQsdURBQWdCQSxDQUFDO0lBQzlDVSxnQkFBZ0JULGtEQUFlQSxDQUMzQlUsS0FBSyxDQUNITCxtRkFBcUJBLENBQUNNLE1BQU0sQ0FBQztRQUMxQkMsUUFBUWQsa0NBQUNBLENBQUNlLE1BQU0sR0FBR0MsR0FBRyxDQUFDLEdBQUc7WUFBRUMsU0FBUztRQUFxQjtJQUM3RCxJQUVGQyxRQUFRLENBQUMsT0FBTyxFQUFFQyxHQUFHLEVBQUVQLEtBQUssRUFBRTtRQUM1QixNQUFNLEVBQUVRLFlBQVksRUFBRUMsV0FBVyxFQUFFUCxNQUFNLEVBQUUsR0FBR0Y7UUFDOUMsTUFBTSxFQUFFVSxFQUFFLEVBQUUsR0FBR0g7UUFFZixNQUFNSSxZQUFZLE1BQU1ELEdBQ3BCRSxNQUFNLEdBQ05DLElBQUksQ0FBQ2pCLDBEQUFLQSxFQUNWa0IsS0FBSyxDQUFDdEIsZ0RBQUdBLENBQUNFLCtDQUFFQSxDQUFDRSwwREFBS0EsQ0FBQ00sTUFBTSxFQUFFQSxTQUFTUiwrQ0FBRUEsQ0FBQ0UsMERBQUtBLENBQUNtQixNQUFNLEVBQUU7UUFDekQsSUFBSSxDQUFDSixVQUFVSyxNQUFNLEVBQ2xCLE9BQU87WUFDSkQsUUFBUTtZQUNSVixTQUFTO1FBQ1o7UUFFSCxNQUFNSyxHQUFHTyxNQUFNLENBQUMxQixvRUFBVUEsRUFBRTJCLE1BQU0sQ0FBQztZQUNoQ1Y7WUFDQUM7WUFDQVA7UUFDSDtRQUVBLE9BQU87WUFDSmEsUUFBUTtZQUNSVixTQUFTO1FBQ1o7SUFDSDtJQUVIYyxnQkFBZ0I3QixrREFBZUEsQ0FDM0JVLEtBQUssQ0FDSEwsbUZBQXFCQSxDQUFDTSxNQUFNLENBQUM7UUFDMUJtQixZQUFZaEMsa0NBQUNBLENBQUNlLE1BQU0sR0FBR0MsR0FB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QUVvQixVQUFVLEVBQUUsR0FBR3BCO1FBQ3ZCLE1BQU0sRUFBRVUsRUFBRSxFQUFFLEdBQUdIO1FBRWYsTUFBTWMsbUJBQW1CLE1BQU1YLEdBQzNCRSxNQUFNLEdBQ05DLElBQUksQ0FBQ3RCLG9FQUFVQSxFQUNmdUIsS0FBSyxDQUFDdEIsZ0RBQUdBLENBQUNFLCtDQUFFQSxDQUFDSCxvRUFBVUEsQ0FBQzZCLFVBQVUsRUFBRUEsYUFBYTFCLCtDQUFFQSxDQUFDSCxvRUFBVUEsQ0FBQ3dCLE1BQU0sRUFBRTtRQUUzRSxJQUFJLENBQUNNLGlCQUFpQkwsTUFBTSxFQUN6QixPQUFPO1lBQ0pELFFBQVE7WUFDUlYsU0FBUztRQUNaO1FBRUgsT0FBTztZQUNKVSxRQUFRO1lBQ1I0QixVQUFVdEIsZ0JBQWdCLENBQUMsRUFBRTtRQUNoQztJQUNIO0FBQ04sR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zZXJ2ZXIvYXBpL3JvdXRlcnMvY2F0ZWdvcmllcy50cz9lNTE1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuaW1wb3J0IHsgY3JlYXRlVFJQQ1JvdXRlciwgcHVibGljUHJvY2VkdXJlIH0gZnJvbSAnLi4vdHJwYyc7XG5pbXBvcnQgeyBjYXRlZ29yaWVzIH0gZnJvbSAnQC9zZXJ2ZXIvZGIvc2NoZW1hL2NhdGVnb3JpZXMnO1xuaW1wb3J0IHsgYW5kLCBjb3VudCwgZXEgfSBmcm9tICdkcml6emxlLW9ybSc7XG5pbXBvcnQgeyBuZXdDYXRlZ29yeVZhbGlkYXRpb24gfSBmcm9tICdAL3ZhbGlkYXRpb24vY2F0ZWdvcmllc1ZhbGlkYXRpb24nO1xuaW1wb3J0IHsgdXNlcnMgfSBmcm9tICdAL3NlcnZlci9kYi9zY2hlbWEvdXNlcnMnO1xuaW1wb3J0IHsgUEFHRV9TSVpFIH0gZnJvbSAnQC9saWIvY29uc3QnO1xuXG5leHBvcnQgY29uc3QgY2F0ZWdvcmllc1JvdXRlciA9IGNyZWF0ZVRSUENSb3V0ZXIoe1xuICAgY3JlYXRlQ2F0ZWdvcnk6IHB1YmxpY1Byb2NlZHVyZVxuICAgICAgLmlucHV0KFxuICAgICAgICAgbmV3Q2F0ZWdvcnlWYWxpZGF0aW9uLmV4dGVuZCh7XG4gICAgICAgICAgICB1c2VySWQ6IHouc3RyaW5nKCkubWluKDIsIHsgbWVzc2FnZTogJ1VzZXJJZCBpcyByZXF1aXJlZCcgfSksXG4gICAgICAgICB9KSxcbiAgICAgIClcbiAgICAgIC5tdXRhdGlvbihhc3luYyAoeyBjdHgsIGlucHV0IH0pID0+IHtcbiAgICAgICAgIGNvbnN0IHsgY2F0ZWdvcnlOYW1lLCBkZXNjcmlwdGlvbiwgdXNlcklkIH0gPSBpbnB1dDtcbiAgICAgICAgIGNvbnN0IHsgZGIgfSA9IGN0eDtcblxuICAgICAgICAgY29uc3QgY2hlY2tVc2VyID0gYXdhaXQgZGJcbiAgICAgICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAgICAgLmZyb20odXNlcnMpXG4gICAgICAgICAgICAud2hlcmUoYW5kKGVxKHVzZXJzLnVzZXJJZCwgdXNlcklkKSwgZXEodXNlcnMuc3RhdHVzLCAnYWN0aXZlJykpKTtcbiAgICAgICAgIGlmICghY2hlY2tVc2VyLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicgYXMgY29uc3QsXG4gICAgICAgICAgICAgICBtZXNzYWdlOiAnVXNlciBub3QgZm91bmQnLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgYXdhaXQgZGIuaW5zZXJ0KGNhdGVnb3JpZXMpLnZhbHVlcyh7XG4gICAgICAgICAgICBjYXRlZ29yeU5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgIH0pO1xuXG4gICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycgYXMgY29uc3QsXG4gICAgICAgICAgICBtZXNzYWdlOiAnQ2F0ZWdvcnkgc3VjY2VzZnVsbHkgYWRkZWQnLFxuICAgICAgICAgfTtcbiAgICAgIH0pLFxuXG4gICB1cGRhdGVDYXRlZ29yeTogcHVibGljUHJvY2VkdXJlXG4gICAgICAuaW5wdXQoXG4gICAgICAgICBuZXdDYXRlZ29yeVZhbGlkYXRpb24uZXh0ZW5kKHtcbiAgICAgICAgICAgIGNhdGVnb3J5SWQ6IHouc3RyaW5nKCkubWluKDIsIHsgbWVzc2FnZTogJ0NhdGVnb3J5SWQgaXMgcmVxdWlyZWQnIH0pLFxuICAgICAgICAgfSksXG4gICAgICApXG4gICAgICAubXV0YXRpb24oYXN5bmMgKHsgY3R4LCBpbnB1dCB9KSA9PiB7XG4gICAgICAgICBjb25zdCB7IGNhdGVnb3J5SWQsIGNhdGVnb3J5TmFtZSwgZGVzY3JpcHRpb24gfSA9IGlucHV0O1xuICAgICAgICAgY29uc3QgeyBkYiB9ID0gY3R4O1xuXG4gICAgICAgICBjb25zdCBleGlzdGluZ0NhdGVnb3J5ID0gYXdhaXQgZGJcbiAgICAgICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAgICAgLmZyb20oY2F0ZWdvcmllcylcbiAgICAgICAgICAgIC53aGVyZShhbmQoZXEoY2F0ZWdvcmllcy5jYXRlZ29yeUlkLCBjYXRlZ29yeUlkKSwgZXEoY2F0ZWdvcmllcy5zdGF0dXMsICdhY3RpdmUnKSkpO1xuXG4gICAgICAgICBpZiAoIWV4aXN0aW5nQ2F0ZWdvcnkubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdDYXRlZ29yeSBub3QgZm91bmQnLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgYXdhaXQgZGJcbiAgICAgICAgICAgIC51cGRhdGUoY2F0ZWdvcmllcylcbiAgICAgICAgICAgIC5zZXQoeyBjYXRlZ29yeU5hbWUsIGRlc2NyaXB0aW9uIH0pXG4gICAgICAgICAgICAud2hlcmUoZXEoY2F0ZWdvcmllcy5jYXRlZ29yeUlkLCBjYXRlZ29yeUlkKSk7XG5cbiAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyBhcyBjb25zdCxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdDYXRlZ29yeSBzdWNjZXNmdWxseSB1cGRhdGVkIScsXG4gICAgICAgICB9O1xuICAgICAgfSksXG5cbiAgIGRlbGV0ZUNhdGVnb3J5OiBwdWJsaWNQcm9jZWR1cmVcbiAgICAgIC5pbnB1dChcbiAgICAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgICAgIGNhdGVnb3J5SWQ6IHouc3RyaW5nKCkubWluKDIsIHsgbWVzc2FnZTogJ0NhdGVnb3J5SWQgaXMgcmVxdWlyZWQnIH0pLFxuICAgICAgICAgfSksXG4gICAgICApXG4gICAgICAubXV0YXRpb24oYXN5bmMgKHsgY3R4LCBpbnB1dCB9KSA9PiB7XG4gICAgICAgICBjb25zdCB7IGNhdGVnb3J5SWQgfSA9IGlucHV0O1xuICAgICAgICAgY29uc3QgeyBkYiB9ID0gY3R4O1xuXG4gICAgICAgICBjb25zdCBleGlzdGluZ0NhdGVnb3J5ID0gYXdhaXQgZGJcbiAgICAgICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAgICAgLmZyb20oY2F0ZWdvcmllcylcbiAgICAgICAgICAgIC53aGVyZShhbmQoZXEoY2F0ZWdvcmllcy5jYXRlZ29yeUlkLCBjYXRlZ29yeUlkKSwgZXEoY2F0ZWdvcmllcy5zdGF0dXMsICdhY3RpdmUnKSkpO1xuXG4gICAgICAgICBpZiAoIWV4aXN0aW5nQ2F0ZWdvcnkubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdDYXRlZ29yeSBub3QgZm91bmQnLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgYXdhaXQgZGJcbiAgICAgICAgICAgIC51cGRhdGUoY2F0ZWdvcmllcylcbiAgICAgICAgICAgIC5zZXQoeyBzdGF0dXM6ICdkZWxldGVkJyB9KVxuICAgICAgICAgICAgLndoZXJlKGVxKGNhdGVnb3JpZXMuY2F0ZWdvcnlJZCwgY2F0ZWdvcnlJZCkpO1xuXG4gICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycgYXMgY29uc3QsXG4gICAgICAgICAgICBtZXNzYWdlOiAnQ2F0ZWdvcnkgc3VjY2VzZnVsbHkgZGVsZXRlZCcsXG4gICAgICAgICB9O1xuICAgICAgfSksXG5cbiAgIGxpc3RDYXRlZ29yaWVzOiBwdWJsaWNQcm9jZWR1cmVcbiAgICAgIC5pbnB1dChcbiAgICAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgICAgIHVzZXJJZDogei5zdHJpbmcoKSxcbiAgICAgICAgIH0pLFxuICAgICAgKVxuICAgICAgLnF1ZXJ5KGFzeW5jICh7IGN0eCwgaW5wdXQgfSkgPT4ge1xuICAgICAgICAgY29uc3QgeyB1c2VySWQgfSA9IGlucHV0O1xuICAgICAgICAgY29uc3QgeyBkYiB9ID0gY3R4O1xuXG4gICAgICAgICBjb25zdCBwcm9kdWN0Q2F0ZWdvcmllcyA9IGF3YWl0IGRiXG4gICAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAgIC5mcm9tKGNhdGVnb3JpZXMpXG4gICAgICAgICAgICAud2hlcmUoZXEoY2F0ZWdvcmllcy51c2VySWQsIHVzZXJJZCkpO1xuXG4gICAgICAgICByZXR1cm4gcHJvZHVjdENhdGVnb3JpZXM7XG4gICAgICB9KSxcblxuICAgbGlzdFBhZ2luYXRlZENhdGVnb3JpZXM6IHB1YmxpY1Byb2NlZHVyZVxuICAgICAgLmlucHV0KFxuICAgICAgICAgei5vYmplY3Qoe1xuICAgICAgICAgICAgdXNlcklkOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgcGFnZTogei5zdHJpbmcoKSxcbiAgICAgICAgIH0pLFxuICAgICAgKVxuICAgICAgLnF1ZXJ5KGFzeW5jICh7IGN0eCwgaW5wdXQgfSkgPT4ge1xuICAgICAgICAgY29uc3QgeyBwYWdlLCB1c2VySWQgfSA9IGlucHV0O1xuICAgICAgICAgY29uc3QgeyBkYiB9ID0gY3R4O1xuXG4gICAgICAgICBjb25zdCBvZmZzZXQgPSBOdW1iZXIocGFnZSkgKiBQQUdFX1NJWkU7XG5cbiAgICAgICAgIGNvbnN0IHNlbGVjdFF1ZXJ5ID0gZGJcbiAgICAgICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAgICAgLmZyb20oY2F0ZWdvcmllcylcbiAgICAgICAgICAgIC53aGVyZShhbmQoZXEoY2F0ZWdvcmllcy51c2VySWQsIHVzZXJJZCksIGVxKGNhdGVnb3JpZXMuc3RhdHVzLCAnYWN0aXZlJykpKVxuICAgICAgICAgICAgLmxpbWl0KFBBR0VfU0laRSlcbiAgICAgICAgICAgIC5vZmZzZXQob2Zmc2V0KTtcblxuICAgICAgICAgY29uc3QgY291bnRRdWVyeSA9IGRiXG4gICAgICAgICAgICAuc2VsZWN0KHsgY291bnQ6IGNvdW50KCkgfSlcbiAgICAgICAgICAgIC5mcm9tKGNhdGVnb3JpZXMpXG4gICAgICAgICAgICAud2hlcmUoYW5kKGVxKGNhdGVnb3JpZXMudXNlcklkLCB1c2VySWQpLCBlcShjYXRlZ29yaWVzLnN0YXR1cywgJ2FjdGl2ZScpKSk7XG5cbiAgICAgICAgIGNvbnN0IFtjYXRlZ29yaWVzUmVzdWx0LCBjb3VudFJlc3VsdF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICBzZWxlY3RRdWVyeS5leGVjdXRlKCksXG4gICAgICAgICAgICBjb3VudFF1ZXJ5LmV4ZWN1dGUoKSxcbiAgICAgICAgIF0pO1xuXG4gICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2F0ZWdvcmllczogY2F0ZWdvcmllc1Jlc3VsdCxcbiAgICAgICAgICAgIHRvdGFsQ291bnQ6IGNvdW50UmVzdWx0WzBdLmNvdW50LFxuICAgICAgICAgfTtcbiAgICAgIH0pLFxuXG4gICBnZXRDYXRlZ29yeURldGFpbHM6IHB1YmxpY1Byb2NlZHVyZVxuICAgICAgLmlucHV0KFxuICAgICAgICAgei5vYmplY3Qoe1xuICAgICAgICAgICAgY2F0ZWdvcnlJZDogei5zdHJpbmcoKS5taW4oMSwgeyBtZXNzYWdlOiAnQ2F0ZWdvcnkgSWQgaXMgcmVxdWlyZWQnIH0pLFxuICAgICAgICAgfSksXG4gICAgICApXG4gICAgICAucXVlcnkoYXN5bmMgKHsgY3R4LCBpbnB1dCB9KSA9PiB7XG4gICAgICAgICBjb25zdCB7IGNhdGVnb3J5SWQgfSA9IGlucHV0O1xuICAgICAgICAgY29uc3QgeyBkYiB9ID0gY3R4O1xuXG4gICAgICAgICBjb25zdCBleGlzdGluZ0NhdGVnb3J5ID0gYXdhaXQgZGJcbiAgICAgICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAgICAgLmZyb20oY2F0ZWdvcmllcylcbiAgICAgICAgICAgIC53aGVyZShhbmQoZXEoY2F0ZWdvcmllcy5jYXRlZ29yeUlkLCBjYXRlZ29yeUlkKSwgZXEoY2F0ZWdvcmllcy5zdGF0dXMsICdhY3RpdmUnKSkpO1xuXG4gICAgICAgICBpZiAoIWV4aXN0aW5nQ2F0ZWdvcnkubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdDYXRlZ29yeSBub3QgZm91bmQnLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnIGFzIGNvbnN0LFxuICAgICAgICAgICAgY2F0ZWdvcnk6IGV4aXN0aW5nQ2F0ZWdvcnlbMF0sXG4gICAgICAgICB9O1xuICAgICAgfSksXG59KTtcbiJdLCJuYW1lcyI6WyJ6IiwiY3JlYXRlVFJQQ1JvdXRlciIsInB1YmxpY1Byb2NlZHVyZSIsImNhdGVnb3JpZXMiLCJhbmQiLCJjb3VudCIsImVxIiwibmV3Q2F0ZWdvcnlWYWxpZGF0aW9uIiwidXNlcnMiLCJQQUdFX1NJWkUiLCJjYXRlZ29yaWVzUm91dGVyIiwiY3JlYXRlQ2F0ZWdvcnkiLCJpbnB1dCIsImV4dGVuZCIsInVzZXJJZCIsInN0cmluZyIsIm1pbiIsIm1lc3NhZ2UiLCJtdXRhdGlvbiIsImN0eCIsImNhdGVnb3J5TmFtZSIsImRlc2NyaXB0aW9uIiwiZGIiLCJjaGVja1VzZXIiLCJzZWxlY3QiLCJmcm9tIiwid2hlcmUiLCJzdGF0dXMiLCJsZW5ndGgiLCJpbnNlcnQiLCJ2YWx1ZXMiLCJ1cGRhdGVDYXRlZ29yeSIsImNhdGVnb3J5SWQiLCJleGlzdGluZ0NhdGVnb3J5IiwidXBkYXRlIiwic2V0IiwiZGVsZXRlQ2F0ZWdvcnkiLCJvYmplY3QiLCJsaXN0Q2F0ZWdvcmllcyIsInF1ZXJ5IiwicHJvZHVjdENhdGVnb3JpZXMiLCJsaXN0UGFnaW5hdGVkQ2F0ZWdvcmllcyIsInBhZ2UiLCJvZmZzZXQiLCJOdW1iZXIiLCJzZWxlY3RRdWVyeSIsImxpbWl0IiwiY291bnRRdWVyeSIsImNhdGVnb3JpZXNSZXN1bHQiLCJjb3VudFJlc3VsdCIsIlByb21pc2UiLCJhbGwiLCJleGVjdXRlIiwidG90YWxDb3VudCIsImdldENhdGVnb3J5RGV0YWlscyIsImNhdGVnb3J5Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/server/api/routers/categories.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/api/routers/creditDebt.ts":
/*!**********************************************!*\
  !*** ./src/server/api/routers/creditDebt.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   creditDebtRouter: () => (/* binding */ creditDebtRouter)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/.pnpm/zod@3.23.8/node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _trpc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../trpc */ \"(rsc)/./src/server/api/trpc.ts\");\n/* harmony import */ var _server_db_schema_users__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/server/db/schema/users */ \"(rsc)/./src/server/db/schema/users.ts\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/sql/expressions/conditions.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/sql/functions/aggregate.js\");\n/* harmony import */ var _lib_const__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/const */ \"(rsc)/./src/lib/const.ts\");\n/* harmony import */ var _server_db_schema_creditDebt__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/server/db/schema/creditDebt */ \"(rsc)/./src/server/db/schema/creditDebt.ts\");\n/* harmony import */ var _server_db_schema_customers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/server/db/schema/customers */ \"(rsc)/./src/server/db/schema/customers.ts\");\n\n\n\n\n\n\n\nconst creditDebtRouter = (0,_trpc__WEBPACK_IMPORTED_MODULE_0__.createTRPCRouter)({\n    listCreditDebt: _trpc__WEBPACK_IMPORTED_MODULE_0__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_5__.z.object({\n        userId: zod__WEBPACK_IMPORTED_MODULE_5__.z.string(),\n        page: zod__WEBPACK_IMPORTED_MODULE_5__.z.string(),\n        type: zod__WEBPACK_IMPORTED_MODULE_5__.z.enum([\n            'credit',\n            'debt',\n            'all'\n        ])\n    })).query(async ({ ctx, input })=>{\n        const { userId, page, type } = input;\n        const { db } = ctx;\n        const offset = Number(page) * _lib_const__WEBPACK_IMPORTED_MODULE_2__.PAGE_SIZE;\n        const userDetails = await db.select().from(_server_db_schema_users__WEBPACK_IMPORTED_MODULE_1__.users).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.eq)(_server_db_schema_users__WEBPACK_IMPORTED_MODULE_1__.users.userId, userId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.eq)(_server_db_schema_users__WEBPACK_IMPORTED_MODULE_1__.users.status, 'active')));\n        if (!userDetails.length) return {\n            status: 'Error',\n            message: 'user not found'\n        };\n        const conditions = [\n            (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.eq)(_server_db_schema_creditDebt__WEBPACK_IMPORTED_MODULE_3__.creditDebt.status, 'active'),\n            (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.eq)(_server_db_schema_creditDebt__WEBPACK_IMPORTED_MODULE_3__.creditDebt.userId, userDetails[0].userId)\n        ];\n        if (type === 'credit') {\n            conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.eq)(_server_db_schema_creditDebt__WEBPACK_IMPORTED_MODULE_3__.creditDebt.transactionType, 'credit'));\n        }\n        if (type === 'debt') {\n            conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.eq)(_server_db_schema_creditDebt__WEBPACK_IMPORTED_MODULE_3__.creditDebt.transactionType, 'debt'));\n        }\n        const creditDebtQuery = db.select().from(_server_db_schema_creditDebt__WEBPACK_IMPORTED_MODULE_3__.creditDebt).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.and)(...conditions)).limit(_lib_const__WEBPACK_IMPORTED_MODULE_2__.PAGE_SIZE).offset(offset).leftJoin(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_4__.customers, (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.eq)(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_4__.customers.customerId, _server_db_schema_creditDebt__WEBPACK_IMPORTED_MODULE_3__.creditDebt.customerId));\n        const countQuery = db.select({\n            count: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.count)()\n        }).from(_server_db_schema_creditDebt__WEBPACK_IMPORTED_MODULE_3__.creditDebt).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.and)(...conditions));\n        const [creditDebtResult, countResult] = await Promise.all([\n            creditDebtQuery,\n            countQuery\n        ]);\n        return {\n            status: 'success',\n            creditDebt: creditDebtResult,\n            count: countResult[0].count\n        };\n    })\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL2FwaS9yb3V0ZXJzL2NyZWRpdERlYnQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXdCO0FBQ29DO0FBQ1g7QUFDSjtBQUNMO0FBQ21CO0FBQ0Y7QUFFbEQsTUFBTVUsbUJBQW1CVCx1REFBZ0JBLENBQUM7SUFDOUNVLGdCQUFnQlQsa0RBQWVBLENBQzNCVSxLQUFLLENBQ0haLGtDQUFDQSxDQUFDYSxNQUFNLENBQUM7UUFDTkMsUUFBUWQsa0NBQUNBLENBQUNlLE1BQU07UUFDaEJDLE1BQU1oQixrQ0FBQ0EsQ0FBQ2UsTUFBTTtRQUNkRSxNQUFNakIsa0NBQUNBLENBQUNrQixJQUFJLENBQUM7WUFBQztZQUFVO1lBQVE7U0FBTTtJQUN6QyxJQUVGQyxLQUFLLENBQUMsT0FBTyxFQUFFQyxHQUFHLEVBQUVSLEtBQUssRUFBRTtRQUN6QixNQUFNLEVBQUVFLE1BQU0sRUFBRUUsSUFBSSxFQUFFQyxJQUFJLEVBQUUsR0FBR0w7UUFDL0IsTUFBTSxFQUFFUyxFQUFFLEVBQUUsR0FBR0Q7UUFFZixNQUFNRSxTQUFTQyxPQUFPUCxRQUFRVCxpREFBU0E7UUFFdkMsTUFBTWlCLGNBQWMsTUFBTUgsR0FDdEJJLE1BQU0sR0FDTkMsSUFBSSxDQUFDdkIsMERBQUtBLEVBQ1Z3QixLQUFLLENBQUN2QixnREFBR0EsQ0FBQ0UsK0NBQUVBLENBQUNILDBEQUFLQSxDQUFDVyxNQUFNLEVBQUVBLFNBQVNSLCtDQUFFQSxDQUFDSCwwREFBS0EsQ0FBQ3lCLE1BQU0sRUFBRTtRQUN6RCxJQUFJLENBQUNKLFlBQVlLLE1BQU0sRUFDcEIsT0FBTztZQUNKRCxRQUFRO1lBQ1JFLFNBQVM7UUFDWjtRQUVILE1BQU1DLGFBQWE7WUFDaEJ6QiwrQ0FBRUEsQ0FBQ0Usb0VBQVVBLENBQUNvQixNQUFNLEVBQUU7WUFDdEJ0QiwrQ0FBRUEsQ0FBQ0Usb0VBQVVBLENBQUNNLE1BQU0sRUFBRVUsV0FBVyxDQUFDLEVBQUUsQ0FBQ1YsTUFBTTtTQUM3QztRQUVELElBQUlHLFNBQVMsVUFBVTtZQUNwQmMsV0FBV0MsSUFBSSxDQUFDMUIsK0NBQUVBLENBQUNFLG9FQUFVQSxDQUFDeUIsZUFBZSxFQUFFO1FBQ2xEO1FBRUEsSUFBSWhCLFNBQVMsUUFBUTtZQUNsQmMsV0FBV0MsSUFBSSxDQUFDMUIsK0NBQUVBLENBQUNFLG9FQUFVQSxDQUFDeUIsZUFBZSxFQUFFO1FBQ2xEO1FBRUEsTUFBTUMsa0JBQWtCYixHQUNwQkksTUFBTSxHQUNOQyxJQUFJLENBQUNsQixvRUFBVUEsRUFDZm1CLEtBQUssQ0FBQ3ZCLGdEQUFHQSxJQUFJMkIsYUFDYkksS0FBSyxDQUFDNUIsaURBQVNBLEVBQ2ZlLE1BQU0sQ0FBQ0EsUUFDUGMsUUFBUSxDQUFDM0Isa0VBQVNBLEVBQUVILCtDQUFFQSxDQUFDRyxrRUFBU0EsQ0FBQzRCLFVBQVUsRUFBRTdCLG9FQUFVQSxDQUFDNkIsVUFBVTtRQUV0RSxNQUFNQyxhQUFhakIsR0FDZkksTUFBTSxDQUFDO1lBQUVwQixPQUFPQSxrREFBS0E7UUFBRyxHQUN4QnFCLElBQUksQ0FBQ2xCLG9FQUFVQSxFQUNmbUIsS0FBSyxDQUFDdkIsZ0RBQUdBLElBQUkyQjtRQUVqQixNQUFNLENBQUNRLGtCQUFrQkMsWUFBWSxHQUFHLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQztZQUFDUjtZQUFpQkk7U0FBVztRQUV2RixPQUFPO1lBQ0pWLFFBQVE7WUFDUnBCLFlBQVkrQjtZQUNabEMsT0FBT21DLFdBQVcsQ0FBQyxFQUFFLENBQUNuQyxLQUFLO1FBQzlCO0lBQ0g7QUFDTixHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZlci9hcGkvcm91dGVycy9jcmVkaXREZWJ0LnRzP2I0NzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5pbXBvcnQgeyBjcmVhdGVUUlBDUm91dGVyLCBwdWJsaWNQcm9jZWR1cmUgfSBmcm9tICcuLi90cnBjJztcbmltcG9ydCB7IHVzZXJzIH0gZnJvbSAnQC9zZXJ2ZXIvZGIvc2NoZW1hL3VzZXJzJztcbmltcG9ydCB7IGFuZCwgY291bnQsIGVxIH0gZnJvbSAnZHJpenpsZS1vcm0nO1xuaW1wb3J0IHsgUEFHRV9TSVpFIH0gZnJvbSAnQC9saWIvY29uc3QnO1xuaW1wb3J0IHsgY3JlZGl0RGVidCB9IGZyb20gJ0Avc2VydmVyL2RiL3NjaGVtYS9jcmVkaXREZWJ0JztcbmltcG9ydCB7IGN1c3RvbWVycyB9IGZyb20gJ0Avc2VydmVyL2RiL3NjaGVtYS9jdXN0b21lcnMnO1xuXG5leHBvcnQgY29uc3QgY3JlZGl0RGVidFJvdXRlciA9IGNyZWF0ZVRSUENSb3V0ZXIoe1xuICAgbGlzdENyZWRpdERlYnQ6IHB1YmxpY1Byb2NlZHVyZVxuICAgICAgLmlucHV0KFxuICAgICAgICAgei5vYmplY3Qoe1xuICAgICAgICAgICAgdXNlcklkOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgcGFnZTogei5zdHJpbmcoKSxcbiAgICAgICAgICAgIHR5cGU6IHouZW51bShbJ2NyZWRpdCcsICdkZWJ0JywgJ2FsbCddKSxcbiAgICAgICAgIH0pLFxuICAgICAgKVxuICAgICAgLnF1ZXJ5KGFzeW5jICh7IGN0eCwgaW5wdXQgfSkgPT4ge1xuICAgICAgICAgY29uc3QgeyB1c2VySWQsIHBhZ2UsIHR5cGUgfSA9IGlucHV0O1xuICAgICAgICAgY29uc3QgeyBkYiB9ID0gY3R4O1xuXG4gICAgICAgICBjb25zdCBvZmZzZXQgPSBOdW1iZXIocGFnZSkgKiBQQUdFX1NJWkU7XG5cbiAgICAgICAgIGNvbnN0IHVzZXJEZXRhaWxzID0gYXdhaXQgZGJcbiAgICAgICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAgICAgLmZyb20odXNlcnMpXG4gICAgICAgICAgICAud2hlcmUoYW5kKGVxKHVzZXJzLnVzZXJJZCwgdXNlcklkKSwgZXEodXNlcnMuc3RhdHVzLCAnYWN0aXZlJykpKTtcbiAgICAgICAgIGlmICghdXNlckRldGFpbHMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgIHN0YXR1czogJ0Vycm9yJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgIG1lc3NhZ2U6ICd1c2VyIG5vdCBmb3VuZCcsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICBjb25zdCBjb25kaXRpb25zID0gW1xuICAgICAgICAgICAgZXEoY3JlZGl0RGVidC5zdGF0dXMsICdhY3RpdmUnKSxcbiAgICAgICAgICAgIGVxKGNyZWRpdERlYnQudXNlcklkLCB1c2VyRGV0YWlsc1swXS51c2VySWQpLFxuICAgICAgICAgXTtcblxuICAgICAgICAgaWYgKHR5cGUgPT09ICdjcmVkaXQnKSB7XG4gICAgICAgICAgICBjb25kaXRpb25zLnB1c2goZXEoY3JlZGl0RGVidC50cmFuc2FjdGlvblR5cGUsICdjcmVkaXQnKSk7XG4gICAgICAgICB9XG5cbiAgICAgICAgIGlmICh0eXBlID09PSAnZGVidCcpIHtcbiAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaChlcShjcmVkaXREZWJ0LnRyYW5zYWN0aW9uVHlwZSwgJ2RlYnQnKSk7XG4gICAgICAgICB9XG5cbiAgICAgICAgIGNvbnN0IGNyZWRpdERlYnRRdWVyeSA9IGRiXG4gICAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAgIC5mcm9tKGNyZWRpdERlYnQpXG4gICAgICAgICAgICAud2hlcmUoYW5kKC4uLmNvbmRpdGlvbnMpKVxuICAgICAgICAgICAgLmxpbWl0KFBBR0VfU0laRSlcbiAgICAgICAgICAgIC5vZmZzZXQob2Zmc2V0KVxuICAgICAgICAgICAgLmxlZnRKb2luKGN1c3RvbWVycywgZXEoY3VzdG9tZXJzLmN1c3RvbWVySWQsIGNyZWRpdERlYnQuY3VzdG9tZXJJZCkpO1xuXG4gICAgICAgICBjb25zdCBjb3VudFF1ZXJ5ID0gZGJcbiAgICAgICAgICAgIC5zZWxlY3QoeyBjb3VudDogY291bnQoKSB9KVxuICAgICAgICAgICAgLmZyb20oY3JlZGl0RGVidClcbiAgICAgICAgICAgIC53aGVyZShhbmQoLi4uY29uZGl0aW9ucykpO1xuXG4gICAgICAgICBjb25zdCBbY3JlZGl0RGVidFJlc3VsdCwgY291bnRSZXN1bHRdID0gYXdhaXQgUHJvbWlzZS5hbGwoW2NyZWRpdERlYnRRdWVyeSwgY291bnRRdWVyeV0pO1xuXG4gICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycgYXMgY29uc3QsXG4gICAgICAgICAgICBjcmVkaXREZWJ0OiBjcmVkaXREZWJ0UmVzdWx0LFxuICAgICAgICAgICAgY291bnQ6IGNvdW50UmVzdWx0WzBdLmNvdW50LFxuICAgICAgICAgfTtcbiAgICAgIH0pLFxufSk7XG4iXSwibmFtZXMiOlsieiIsImNyZWF0ZVRSUENSb3V0ZXIiLCJwdWJsaWNQcm9jZWR1cmUiLCJ1c2VycyIsImFuZCIsImNvdW50IiwiZXEiLCJQQUdFX1NJWkUiLCJjcmVkaXREZWJ0IiwiY3VzdG9tZXJzIiwiY3JlZGl0RGVidFJvdXRlciIsImxpc3RDcmVkaXREZWJ0IiwiaW5wdXQiLCJvYmplY3QiLCJ1c2VySWQiLCJzdHJpbmciLCJwYWdlIiwidHlwZSIsImVudW0iLCJxdWVyeSIsImN0eCIsImRiIiwib2Zmc2V0IiwiTnVtYmVyIiwidXNlckRldGFpbHMiLCJzZWxlY3QiLCJmcm9tIiwid2hlcmUiLCJzdGF0dXMiLCJsZW5ndGgiLCJtZXNzYWdlIiwiY29uZGl0aW9ucyIsInB1c2giLCJ0cmFuc2FjdGlvblR5cGUiLCJjcmVkaXREZWJ0UXVlcnkiLCJsaW1pdCIsImxlZnRKb2luIiwiY3VzdG9tZXJJZCIsImNvdW50UXVlcnkiLCJjcmVkaXREZWJ0UmVzdWx0IiwiY291bnRSZXN1bHQiLCJQcm9taXNlIiwiYWxsIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/server/api/routers/creditDebt.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/api/routers/customers.ts":
/*!*********************************************!*\
  !*** ./src/server/api/routers/customers.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   customersRouter: () => (/* binding */ customersRouter)\n/* harmony export */ });\n/* harmony import */ var _server_db_schema_customers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/server/db/schema/customers */ \"(rsc)/./src/server/db/schema/customers.ts\");\n/* harmony import */ var _trpc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../trpc */ \"(rsc)/./src/server/api/trpc.ts\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/.pnpm/zod@3.23.8/node_modules/zod/lib/index.mjs\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/sql/expressions/conditions.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/sql/functions/aggregate.js\");\n/* harmony import */ var _validation_customerValidation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/validation/customerValidation */ \"(rsc)/./src/validation/customerValidation.ts\");\n/* harmony import */ var _lib_const__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/const */ \"(rsc)/./src/lib/const.ts\");\n\n\n\n\n\n\nconst customersRouter = (0,_trpc__WEBPACK_IMPORTED_MODULE_1__.createTRPCRouter)({\n    listCustomers: _trpc__WEBPACK_IMPORTED_MODULE_1__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n        userId: zod__WEBPACK_IMPORTED_MODULE_4__.z.string(),\n        page: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().optional()\n    })).query(async ({ ctx, input })=>{\n        const { userId, page } = input;\n        const offset = Number(page ?? '') * _lib_const__WEBPACK_IMPORTED_MODULE_3__.PAGE_SIZE;\n        const customersQuery = ctx.db.select().from(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_0__.customers).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_0__.customers.userId, userId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_0__.customers.status, 'active'))).limit(_lib_const__WEBPACK_IMPORTED_MODULE_3__.PAGE_SIZE).offset(offset);\n        const countQuery = ctx.db.select({\n            value: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.count)()\n        }).from(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_0__.customers).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_0__.customers.userId, userId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_0__.customers.status, 'active')));\n        const [customersResult, countResult] = await Promise.all([\n            customersQuery.execute(),\n            countQuery.execute()\n        ]);\n        return {\n            customers: customersResult,\n            count: countResult[0].value\n        };\n    }),\n    createCustomer: _trpc__WEBPACK_IMPORTED_MODULE_1__.publicProcedure.input(_validation_customerValidation__WEBPACK_IMPORTED_MODULE_2__.newCustomerValidation.extend({\n        userId: zod__WEBPACK_IMPORTED_MODULE_4__.z.string()\n    })).mutation(async ({ ctx, input })=>{\n        const { customerContact, customerName, kraPin, userId } = input;\n        const payload = {\n            customerName,\n            customerContact,\n            kraPin,\n            userId\n        };\n        const insert = await ctx.db.insert(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_0__.customers).values(payload).returning();\n        if (!insert.length) {\n            return {\n                status: 'error',\n                message: 'Error adding user'\n            };\n        }\n        return {\n            status: 'success',\n            message: 'Customer succesfully added'\n        };\n    }),\n    editCustomer: _trpc__WEBPACK_IMPORTED_MODULE_1__.publicProcedure.input(_validation_customerValidation__WEBPACK_IMPORTED_MODULE_2__.newCustomerValidation.extend({\n        customerId: zod__WEBPACK_IMPORTED_MODULE_4__.z.string()\n    })).mutation(async ({ ctx, input })=>{\n        const { customerId, customerName, kraPin, customerContact } = input;\n        const { db } = ctx;\n        const existingCustomer = await db.select().from(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_0__.customers).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_0__.customers.customerId, customerId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_0__.customers.status, 'active')));\n        if (!existingCustomer.length) {\n            return {\n                status: 'error',\n                message: 'Customer not found'\n            };\n        }\n        await db.update(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_0__.customers).set({\n            customerName: customerName,\n            kraPin: kraPin,\n            customerContact: customerContact\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_0__.customers.customerId, customerId));\n        return {\n            status: 'success',\n            message: 'Customer Information succesfully updated'\n        };\n    }),\n    deleteCustomer: _trpc__WEBPACK_IMPORTED_MODULE_1__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n        customerId: zod__WEBPACK_IMPORTED_MODULE_4__.z.string()\n    })).mutation(async ({ ctx, input })=>{\n        const { customerId } = input;\n        const { db } = ctx;\n        const existingCustomer = await db.select().from(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_0__.customers).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_0__.customers.customerId, customerId));\n        if (!existingCustomer.length) {\n            return {\n                status: 'error',\n                message: 'Customer not found'\n            };\n        }\n        await db.update(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_0__.customers).set({\n            status: 'deleted'\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_0__.customers.customerId, customerId));\n        return {\n            status: 'success',\n            message: 'Customer deleted succesfully'\n        };\n    }),\n    getCustomer: _trpc__WEBPACK_IMPORTED_MODULE_1__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n        customerId: zod__WEBPACK_IMPORTED_MODULE_4__.z.string()\n    })).query(async ({ ctx, input })=>{\n        const { customerId } = input;\n        const { db } = ctx;\n        const existingCustomer = await db.select().from(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_0__.customers).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_0__.customers.customerId, customerId));\n        if (!existingCustomer.length) {\n            return {\n                status: 'error',\n                message: 'Customer not found'\n            };\n        }\n        return {\n            status: 'success',\n            cusromer: existingCustomer[0]\n        };\n    })\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL2FwaS9yb3V0ZXJzL2N1c3RvbWVycy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUF5RTtBQUNiO0FBQ3BDO0FBQ3FCO0FBQzJCO0FBQ2hDO0FBRWpDLE1BQU1TLGtCQUFrQlIsdURBQWdCQSxDQUFDO0lBQzdDUyxlQUFlUixrREFBZUEsQ0FDMUJTLEtBQUssQ0FDSFIsa0NBQUNBLENBQUNTLE1BQU0sQ0FBQztRQUNOQyxRQUFRVixrQ0FBQ0EsQ0FBQ1csTUFBTTtRQUNoQkMsTUFBTVosa0NBQUNBLENBQUNXLE1BQU0sR0FBR0UsUUFBUTtJQUM1QixJQUVGQyxLQUFLLENBQUMsT0FBTyxFQUFFQyxHQUFHLEVBQUVQLEtBQUssRUFBRTtRQUN6QixNQUFNLEVBQUVFLE1BQU0sRUFBRUUsSUFBSSxFQUFFLEdBQUdKO1FBQ3pCLE1BQU1RLFNBQVNDLE9BQU9MLFFBQVEsTUFBTVAsaURBQVNBO1FBRTdDLE1BQU1hLGlCQUFpQkgsSUFBSUksRUFBRSxDQUN6QkMsTUFBTSxHQUNOQyxJQUFJLENBQUN4QixrRUFBU0EsRUFDZHlCLEtBQUssQ0FBQ3JCLGdEQUFHQSxDQUFDRSwrQ0FBRUEsQ0FBQ04sa0VBQVNBLENBQUNhLE1BQU0sRUFBRUEsU0FBU1AsK0NBQUVBLENBQUNOLGtFQUFTQSxDQUFDMEIsTUFBTSxFQUFFLFlBQzdEQyxLQUFLLENBQUNuQixpREFBU0EsRUFDZlcsTUFBTSxDQUFDQTtRQUVYLE1BQU1TLGFBQWFWLElBQUlJLEVBQUUsQ0FDckJDLE1BQU0sQ0FBQztZQUFFTSxPQUFPeEIsa0RBQUtBO1FBQUcsR0FDeEJtQixJQUFJLENBQUN4QixrRUFBU0EsRUFDZHlCLEtBQUssQ0FBQ3JCLGdEQUFHQSxDQUFDRSwrQ0FBRUEsQ0FBQ04sa0VBQVNBLENBQUNhLE1BQU0sRUFBRUEsU0FBU1AsK0NBQUVBLENBQUNOLGtFQUFTQSxDQUFDMEIsTUFBTSxFQUFFO1FBRWpFLE1BQU0sQ0FBQ0ksaUJBQWlCQyxZQUFZLEdBQUcsTUFB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LEdBQUcsQ0FBQztZQUFFekIsUUFBUTtRQUFVLEdBQ3hCRCxLQUFLLENBQUNuQiwrQ0FBRUEsQ0FBQ04sa0VBQVNBLENBQUNnRCxVQUFVLEVBQUVBO1FBRW5DLE9BQU87WUFDSnRCLFFBQVE7WUFDUm9CLFNBQVM7UUFDWjtJQUNIO0lBRUhPLGFBQWFuRCxrREFBZUEsQ0FDeEJTLEtBQUssQ0FDSFIsa0NBQUNBLENBQUNTLE1BQU0sQ0FBQztRQUNOb0MsWUFBWTdDLGtDQUFDQSxDQUFDVyxNQUFNO0lBQ3ZCLElBRUZHLEtBQUssQ0FBQyxPQUFPLEVBQUVDLEdBQUcsRUFBRVAsS0FBSyxFQUFFO1FBQ3pCLE1BQU0sRUFBRXFDLFVBQVUsRUFBRSxHQUFHckM7UUFDdkIsTUFBTSxFQUFFVyxFQUFFLEVBQUUsR0FBR0o7UUFFZixNQUFNK0IsbUJBQW1CLE1BQU0zQixHQUMzQkMsTUFBTSxHQUNOQyxJQUFJLENBQUN4QixrRUFBU0EsRUFDZHlCLEtBQUssQ0FBQ25CLCtDQUFFQSxDQUFDTixrRUFBU0EsQ0FBQ2dELFVBQVUsRUFBRUE7UUFFbkMsSUFBSSxDQUFDQyxpQkFBaUJKLE1BQU0sRUFBRTtZQUMzQixPQUFPO2dCQUNKbkIsUUFBUTtnQkFDUm9CLFNBQVM7WUFDWjtRQUNIO1FBRUEsT0FBTztZQUNKcEIsUUFBUTtZQUNSNEIsVUFBVUwsZ0JBQWdCLENBQUMsRUFBRTtRQUNoQztJQUNIO0FBQ04sR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zZXJ2ZXIvYXBpL3JvdXRlcnMvY3VzdG9tZXJzLnRzPzU3OTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3VzdG9tZXJzLCBJbnNlcnRDdXN0b21lciB9IGZyb20gJ0Avc2VydmVyL2RiL3NjaGVtYS9jdXN0b21lcnMnO1xuaW1wb3J0IHsgY3JlYXRlVFJQQ1JvdXRlciwgcHVibGljUHJvY2VkdXJlIH0gZnJvbSAnLi4vdHJwYyc7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcbmltcG9ydCB7IGFuZCwgY291bnQsIGVxIH0gZnJvbSAnZHJpenpsZS1vcm0nO1xuaW1wb3J0IHsgbmV3Q3VzdG9tZXJWYWxpZGF0aW9uIH0gZnJvbSAnQC92YWxpZGF0aW9uL2N1c3RvbWVyVmFsaWRhdGlvbic7XG5pbXBvcnQgeyBQQUdFX1NJWkUgfSBmcm9tICdAL2xpYi9jb25zdCc7XG5cbmV4cG9ydCBjb25zdCBjdXN0b21lcnNSb3V0ZXIgPSBjcmVhdGVUUlBDUm91dGVyKHtcbiAgIGxpc3RDdXN0b21lcnM6IHB1YmxpY1Byb2NlZHVyZVxuICAgICAgLmlucHV0KFxuICAgICAgICAgei5vYmplY3Qoe1xuICAgICAgICAgICAgdXNlcklkOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgcGFnZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICAgfSksXG4gICAgICApXG4gICAgICAucXVlcnkoYXN5bmMgKHsgY3R4LCBpbnB1dCB9KSA9PiB7XG4gICAgICAgICBjb25zdCB7IHVzZXJJZCwgcGFnZSB9ID0gaW5wdXQ7XG4gICAgICAgICBjb25zdCBvZmZzZXQgPSBOdW1iZXIocGFnZSA/PyAnJykgKiBQQUdFX1NJWkU7XG5cbiAgICAgICAgIGNvbnN0IGN1c3RvbWVyc1F1ZXJ5ID0gY3R4LmRiXG4gICAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAgIC5mcm9tKGN1c3RvbWVycylcbiAgICAgICAgICAgIC53aGVyZShhbmQoZXEoY3VzdG9tZXJzLnVzZXJJZCwgdXNlcklkKSwgZXEoY3VzdG9tZXJzLnN0YXR1cywgJ2FjdGl2ZScpKSlcbiAgICAgICAgICAgIC5saW1pdChQQUdFX1NJWkUpXG4gICAgICAgICAgICAub2Zmc2V0KG9mZnNldCk7XG5cbiAgICAgICAgIGNvbnN0IGNvdW50UXVlcnkgPSBjdHguZGJcbiAgICAgICAgICAgIC5zZWxlY3QoeyB2YWx1ZTogY291bnQoKSB9KVxuICAgICAgICAgICAgLmZyb20oY3VzdG9tZXJzKVxuICAgICAgICAgICAgLndoZXJlKGFuZChlcShjdXN0b21lcnMudXNlcklkLCB1c2VySWQpLCBlcShjdXN0b21lcnMuc3RhdHVzLCAnYWN0aXZlJykpKTtcblxuICAgICAgICAgY29uc3QgW2N1c3RvbWVyc1Jlc3VsdCwgY291bnRSZXN1bHRdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgY3VzdG9tZXJzUXVlcnkuZXhlY3V0ZSgpLFxuICAgICAgICAgICAgY291bnRRdWVyeS5leGVjdXRlKCksXG4gICAgICAgICBdKTtcbiAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjdXN0b21lcnM6IGN1c3RvbWVyc1Jlc3VsdCxcbiAgICAgICAgICAgIGNvdW50OiBjb3VudFJlc3VsdFswXS52YWx1ZSxcbiAgICAgICAgIH07XG4gICAgICB9KSxcblxuICAgY3JlYXRlQ3VzdG9tZXI6IHB1YmxpY1Byb2NlZHVyZVxuICAgICAgLmlucHV0KFxuICAgICAgICAgbmV3Q3VzdG9tZXJWYWxpZGF0aW9uLmV4dGVuZCh7XG4gICAgICAgICAgICB1c2VySWQ6IHouc3RyaW5nKCksXG4gICAgICAgICB9KSxcbiAgICAgIClcbiAgICAgIC5tdXRhdGlvbihhc3luYyAoeyBjdHgsIGlucHV0IH0pID0+IHtcbiAgICAgICAgIGNvbnN0IHsgY3VzdG9tZXJDb250YWN0LCBjdXN0b21lck5hbWUsIGtyYVBpbiwgdXNlcklkIH0gPSBpbnB1dDtcblxuICAgICAgICAgY29uc3QgcGF5bG9hZDogSW5zZXJ0Q3VzdG9tZXIgPSB7XG4gICAgICAgICAgICBjdXN0b21lck5hbWUsXG4gICAgICAgICAgICBjdXN0b21lckNvbnRhY3QsXG4gICAgICAgICAgICBrcmFQaW4sXG4gICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICB9O1xuXG4gICAgICAgICBjb25zdCBpbnNlcnQgPSBhd2FpdCBjdHguZGIuaW5zZXJ0KGN1c3RvbWVycykudmFsdWVzKHBheWxvYWQpLnJldHVybmluZygpO1xuXG4gICAgICAgICBpZiAoIWluc2VydC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgICAgICAgICBtZXNzYWdlOiAnRXJyb3IgYWRkaW5nIHVzZXInLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgIH1cblxuICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgbWVzc2FnZTogJ0N1c3RvbWVyIHN1Y2Nlc2Z1bGx5IGFkZGVkJyxcbiAgICAgICAgIH07XG4gICAgICB9KSxcblxuICAgZWRpdEN1c3RvbWVyOiBwdWJsaWNQcm9jZWR1cmVcbiAgICAgIC5pbnB1dChcbiAgICAgICAgIG5ld0N1c3RvbWVyVmFsaWRhdGlvbi5leHRlbmQoe1xuICAgICAgICAgICAgY3VzdG9tZXJJZDogei5zdHJpbmcoKSxcbiAgICAgICAgIH0pLFxuICAgICAgKVxuICAgICAgLm11dGF0aW9uKGFzeW5jICh7IGN0eCwgaW5wdXQgfSkgPT4ge1xuICAgICAgICAgY29uc3QgeyBjdXN0b21lcklkLCBjdXN0b21lck5hbWUsIGtyYVBpbiwgY3VzdG9tZXJDb250YWN0IH0gPSBpbnB1dDtcbiAgICAgICAgIGNvbnN0IHsgZGIgfSA9IGN0eDtcblxuICAgICAgICAgY29uc3QgZXhpc3RpbmdDdXN0b21lciA9IGF3YWl0IGRiXG4gICAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAgIC5mcm9tKGN1c3RvbWVycylcbiAgICAgICAgICAgIC53aGVyZShhbmQoZXEoY3VzdG9tZXJzLmN1c3RvbWVySWQsIGN1c3RvbWVySWQpLCBlcShjdXN0b21lcnMuc3RhdHVzLCAnYWN0aXZlJykpKTtcbiAgICAgICAgIGlmICghZXhpc3RpbmdDdXN0b21lci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicgYXMgY29uc3QsXG4gICAgICAgICAgICAgICBtZXNzYWdlOiAnQ3VzdG9tZXIgbm90IGZvdW5kJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICB9XG5cbiAgICAgICAgIGF3YWl0IGRiXG4gICAgICAgICAgICAudXBkYXRlKGN1c3RvbWVycylcbiAgICAgICAgICAgIC5zZXQoe1xuICAgICAgICAgICAgICAgY3VzdG9tZXJOYW1lOiBjdXN0b21lck5hbWUsXG4gICAgICAgICAgICAgICBrcmFQaW46IGtyYVBpbixcbiAgICAgICAgICAgICAgIGN1c3RvbWVyQ29udGFjdDogY3VzdG9tZXJDb250YWN0LFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVyZShlcShjdXN0b21lcnMuY3VzdG9tZXJJZCwgY3VzdG9tZXJJZCkpO1xuXG4gICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycgYXMgY29uc3QsXG4gICAgICAgICAgICBtZXNzYWdlOiAnQ3VzdG9tZXIgSW5mb3JtYXRpb24gc3VjY2VzZnVsbHkgdXBkYXRlZCcsXG4gICAgICAgICB9O1xuICAgICAgfSksXG5cbiAgIGRlbGV0ZUN1c3RvbWVyOiBwdWJsaWNQcm9jZWR1cmVcbiAgICAgIC5pbnB1dChcbiAgICAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgICAgIGN1c3RvbWVySWQ6IHouc3RyaW5nKCksXG4gICAgICAgICB9KSxcbiAgICAgIClcbiAgICAgIC5tdXRhdGlvbihhc3luYyAoeyBjdHgsIGlucHV0IH0pID0+IHtcbiAgICAgICAgIGNvbnN0IHsgY3VzdG9tZXJJZCB9ID0gaW5wdXQ7XG4gICAgICAgICBjb25zdCB7IGRiIH0gPSBjdHg7XG5cbiAgICAgICAgIGNvbnN0IGV4aXN0aW5nQ3VzdG9tZXIgPSBhd2FpdCBkYlxuICAgICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgICAuZnJvbShjdXN0b21lcnMpXG4gICAgICAgICAgICAud2hlcmUoZXEoY3VzdG9tZXJzLmN1c3RvbWVySWQsIGN1c3RvbWVySWQpKTtcblxuICAgICAgICAgaWYgKCFleGlzdGluZ0N1c3RvbWVyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdDdXN0b21lciBub3QgZm91bmQnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgIH1cblxuICAgICAgICAgYXdhaXQgZGJcbiAgICAgICAgICAgIC51cGRhdGUoY3VzdG9tZXJzKVxuICAgICAgICAgICAgLnNldCh7IHN0YXR1czogJ2RlbGV0ZWQnIH0pXG4gICAgICAgICAgICAud2hlcmUoZXEoY3VzdG9tZXJzLmN1c3RvbWVySWQsIGN1c3RvbWVySWQpKTtcblxuICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnIGFzIGNvbnN0LFxuICAgICAgICAgICAgbWVzc2FnZTogJ0N1c3RvbWVyIGRlbGV0ZWQgc3VjY2VzZnVsbHknLFxuICAgICAgICAgfTtcbiAgICAgIH0pLFxuXG4gICBnZXRDdXN0b21lcjogcHVibGljUHJvY2VkdXJlXG4gICAgICAuaW5wdXQoXG4gICAgICAgICB6Lm9iamVjdCh7XG4gICAgICAgICAgICBjdXN0b21lcklkOiB6LnN0cmluZygpLFxuICAgICAgICAgfSksXG4gICAgICApXG4gICAgICAucXVlcnkoYXN5bmMgKHsgY3R4LCBpbnB1dCB9KSA9PiB7XG4gICAgICAgICBjb25zdCB7IGN1c3RvbWVySWQgfSA9IGlucHV0O1xuICAgICAgICAgY29uc3QgeyBkYiB9ID0gY3R4O1xuXG4gICAgICAgICBjb25zdCBleGlzdGluZ0N1c3RvbWVyID0gYXdhaXQgZGJcbiAgICAgICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAgICAgLmZyb20oY3VzdG9tZXJzKVxuICAgICAgICAgICAgLndoZXJlKGVxKGN1c3RvbWVycy5jdXN0b21lcklkLCBjdXN0b21lcklkKSk7XG5cbiAgICAgICAgIGlmICghZXhpc3RpbmdDdXN0b21lci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicgYXMgY29uc3QsXG4gICAgICAgICAgICAgICBtZXNzYWdlOiAnQ3VzdG9tZXIgbm90IGZvdW5kJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICB9XG5cbiAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyBhcyBjb25zdCxcbiAgICAgICAgICAgIGN1c3JvbWVyOiBleGlzdGluZ0N1c3RvbWVyWzBdLFxuICAgICAgICAgfTtcbiAgICAgIH0pLFxufSk7XG4iXSwibmFtZXMiOlsiY3VzdG9tZXJzIiwiY3JlYXRlVFJQQ1JvdXRlciIsInB1YmxpY1Byb2NlZHVyZSIsInoiLCJhbmQiLCJjb3VudCIsImVxIiwibmV3Q3VzdG9tZXJWYWxpZGF0aW9uIiwiUEFHRV9TSVpFIiwiY3VzdG9tZXJzUm91dGVyIiwibGlzdEN1c3RvbWVycyIsImlucHV0Iiwib2JqZWN0IiwidXNlcklkIiwic3RyaW5nIiwicGFnZSIsIm9wdGlvbmFsIiwicXVlcnkiLCJjdHgiLCJvZmZzZXQiLCJOdW1iZXIiLCJjdXN0b21lcnNRdWVyeSIsImRiIiwic2VsZWN0IiwiZnJvbSIsIndoZXJlIiwic3RhdHVzIiwibGltaXQiLCJjb3VudFF1ZXJ5IiwidmFsdWUiLCJjdXN0b21lcnNSZXN1bHQiLCJjb3VudFJlc3VsdCIsIlByb21pc2UiLCJhbGwiLCJleGVjdXRlIiwiY3JlYXRlQ3VzdG9tZXIiLCJleHRlbmQiLCJtdXRhdGlvbiIsImN1c3RvbWVyQ29udGFjdCIsImN1c3RvbWVyTmFtZSIsImtyYVBpbiIsInBheWxvYWQiLCJpbnNlcnQiLCJ2YWx1ZXMiLCJyZXR1cm5pbmciLCJsZW5ndGgiLCJtZXNzYWdlIiwiZWRpdEN1c3RvbWVyIiwiY3VzdG9tZXJJZCIsImV4aXN0aW5nQ3VzdG9tZXIiLCJ1cGRhdGUiLCJzZXQiLCJkZWxldGVDdXN0b21lciIsImdldEN1c3RvbWVyIiwiY3Vzcm9tZXIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/server/api/routers/customers.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/api/routers/expense.ts":
/*!*******************************************!*\
  !*** ./src/server/api/routers/expense.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   expenseRouter: () => (/* binding */ expenseRouter)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/.pnpm/zod@3.23.8/node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _trpc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../trpc */ \"(rsc)/./src/server/api/trpc.ts\");\n/* harmony import */ var _server_db_schema_expenses__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/server/db/schema/expenses */ \"(rsc)/./src/server/db/schema/expenses.ts\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/sql/expressions/conditions.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/sql/functions/aggregate.js\");\n/* harmony import */ var _lib_const__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/const */ \"(rsc)/./src/lib/const.ts\");\n/* harmony import */ var _validation_expenseValidation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/validation/expenseValidation */ \"(rsc)/./src/validation/expenseValidation.ts\");\n/* harmony import */ var _server_db_schema_users__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/server/db/schema/users */ \"(rsc)/./src/server/db/schema/users.ts\");\n\n\n\n\n\n\n\nconst expenseRouter = (0,_trpc__WEBPACK_IMPORTED_MODULE_0__.createTRPCRouter)({\n    createExpense: _trpc__WEBPACK_IMPORTED_MODULE_0__.publicProcedure.input(_validation_expenseValidation__WEBPACK_IMPORTED_MODULE_3__.expenseValidation).mutation(async ({ ctx, input })=>{\n        const { expenseAmount, expenseRecipient, expenseReference, paymenDate, userId, expenseDescription } = input;\n        const { db } = ctx;\n        const existingUser = await db.select().from(_server_db_schema_users__WEBPACK_IMPORTED_MODULE_4__.users).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_users__WEBPACK_IMPORTED_MODULE_4__.users.userId, userId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_users__WEBPACK_IMPORTED_MODULE_4__.users.status, 'active')));\n        if (!existingUser) return {\n            status: 'error',\n            message: 'User not found'\n        };\n        const insertExpense = {\n            expenseAmount,\n            expenseDescription,\n            expenseRecipient,\n            expenseReference,\n            paymenDate,\n            userId\n        };\n        await db.insert(_server_db_schema_expenses__WEBPACK_IMPORTED_MODULE_1__.expenses).values(insertExpense);\n        return {\n            status: 'success',\n            message: 'Expense succesfully recorded'\n        };\n    }),\n    getExpenseDetails: _trpc__WEBPACK_IMPORTED_MODULE_0__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_6__.z.object({\n        expenseId: zod__WEBPACK_IMPORTED_MODULE_6__.z.string()\n    })).query(async ({ ctx, input })=>{\n        const { expenseId } = input;\n        const { db } = ctx;\n        const expenseDetails = await db.select().from(_server_db_schema_expenses__WEBPACK_IMPORTED_MODULE_1__.expenses).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_expenses__WEBPACK_IMPORTED_MODULE_1__.expenses.expenseId, expenseId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_expenses__WEBPACK_IMPORTED_MODULE_1__.expenses.status, 'active')));\n        if (!expenseDetails.length) return {\n            status: 'error',\n            message: 'Expense not found'\n        };\n        return {\n            status: 'success',\n            expense: expenseDetails[0]\n        };\n    }),\n    updateExpense: _trpc__WEBPACK_IMPORTED_MODULE_0__.publicProcedure.input(_validation_expenseValidation__WEBPACK_IMPORTED_MODULE_3__.updateExpenseValidation).mutation(async ({ ctx, input })=>{\n        const { expenseAmount, expenseDescription, expenseId, expenseRecipient, expenseReference } = input;\n        const { db } = ctx;\n        const existingExpense = await db.select().from(_server_db_schema_expenses__WEBPACK_IMPORTED_MODULE_1__.expenses).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_expenses__WEBPACK_IMPORTED_MODULE_1__.expenses.expenseId, expenseId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_expenses__WEBPACK_IMPORTED_MODULE_1__.expenses.status, 'active')));\n        if (!existingExpense.length) return {\n            status: 'error',\n            message: 'Expense record not found'\n        };\n        await db.update(_server_db_schema_expenses__WEBPACK_IMPORTED_MODULE_1__.expenses).set({\n            expenseAmount,\n            expenseDescription,\n            expenseRecipient,\n            expenseReference\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_expenses__WEBPACK_IMPORTED_MODULE_1__.expenses.expenseId, expenseId));\n        return {\n            status: 'success',\n            message: 'expense updated succesfully'\n        };\n    }),\n    deleteExpense: _trpc__WEBPACK_IMPORTED_MODULE_0__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_6__.z.object({\n        expenseId: zod__WEBPACK_IMPORTED_MODULE_6__.z.string()\n    })).mutation(async ({ ctx, input })=>{\n        const { expenseId } = input;\n        const { db } = ctx;\n        const existingExpense = await db.select().from(_server_db_schema_expenses__WEBPACK_IMPORTED_MODULE_1__.expenses).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_expenses__WEBPACK_IMPORTED_MODULE_1__.expenses.expenseId, expenseId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_expenses__WEBPACK_IMPORTED_MODULE_1__.expenses.status, 'active')));\n        if (!existingExpense.length) return {\n            status: 'error',\n            message: 'Expense not found'\n        };\n        await db.update(_server_db_schema_expenses__WEBPACK_IMPORTED_MODULE_1__.expenses).set({\n            status: 'deleted'\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_expenses__WEBPACK_IMPORTED_MODULE_1__.expenses.expenseId, expenseId));\n        return {\n            status: 'success',\n            message: 'Record deleted succefsully'\n        };\n    }),\n    listExpenses: _trpc__WEBPACK_IMPORTED_MODULE_0__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_6__.z.object({\n        startDate: zod__WEBPACK_IMPORTED_MODULE_6__.z.string().optional(),\n        endDate: zod__WEBPACK_IMPORTED_MODULE_6__.z.string().optional()\n    })).query(async ({ ctx, input })=>{\n        const res = await ctx.db.select().from(_server_db_schema_expenses__WEBPACK_IMPORTED_MODULE_1__.expenses).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.between)(_server_db_schema_expenses__WEBPACK_IMPORTED_MODULE_1__.expenses.paymenDate, input.startDate ?? new Date(2010, 0, 1).toISOString(), input.endDate ?? new Date().toISOString()));\n        return {\n            status: 'success',\n            expenses: res\n        };\n    }),\n    listPaginatedExpense: _trpc__WEBPACK_IMPORTED_MODULE_0__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_6__.z.object({\n        userId: zod__WEBPACK_IMPORTED_MODULE_6__.z.string(),\n        page: zod__WEBPACK_IMPORTED_MODULE_6__.z.string()\n    })).query(async ({ ctx, input })=>{\n        const { page, userId } = input;\n        const { db } = ctx;\n        const offset = +page * _lib_const__WEBPACK_IMPORTED_MODULE_2__.PAGE_SIZE;\n        const expenseQuery = db.select().from(_server_db_schema_expenses__WEBPACK_IMPORTED_MODULE_1__.expenses).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_expenses__WEBPACK_IMPORTED_MODULE_1__.expenses.userId, userId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_expenses__WEBPACK_IMPORTED_MODULE_1__.expenses.status, 'active'))).limit(_lib_const__WEBPACK_IMPORTED_MODULE_2__.PAGE_SIZE).offset(offset);\n        const countQuery = db.select({\n            count: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.count)()\n        }).from(_server_db_schema_expenses__WEBPACK_IMPORTED_MODULE_1__.expenses).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_expenses__WEBPACK_IMPORTED_MODULE_1__.expenses.userId, userId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_expenses__WEBPACK_IMPORTED_MODULE_1__.expenses.status, 'active')));\n        const [expenseResults, countResults] = await Promise.all([\n            expenseQuery,\n            countQuery\n        ]);\n        return {\n            expenses: expenseResults,\n            count: countResults[0].count\n        };\n    })\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL2FwaS9yb3V0ZXJzL2V4cGVuc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXdCO0FBQ29DO0FBQ0w7QUFDRDtBQUNkO0FBQ29EO0FBQzNDO0FBRTFDLE1BQU1ZLGdCQUFnQlgsdURBQWdCQSxDQUFDO0lBQzNDWSxlQUFlWCxrREFBZUEsQ0FBQ1ksS0FBSyxDQUFDTCw0RUFBaUJBLEVBQUVNLFFBQVEsQ0FBQyxPQUFPLEVBQUVDLEdBQUcsRUFBRUYsS0FBSyxFQUFFO1FBQ25GLE1BQU0sRUFDSEcsYUFBYSxFQUNiQyxnQkFBZ0IsRUFDaEJDLGdCQUFnQixFQUNoQkMsVUFBVSxFQUNWQyxNQUFNLEVBQ05DLGtCQUFrQixFQUNwQixHQUFHUjtRQUNKLE1BQU0sRUFBRVMsRUFBRSxFQUFFLEdBQUdQO1FBRWYsTUFBTVEsZUFBZSxNQUFNRCxHQUN2QkUsTUFBTSxHQUNOQyxJQUFJLENBQUNmLDBEQUFLQSxFQUNWZ0IsS0FBSyxDQUFDdkIsZ0RBQUdBLENBQUNHLCtDQUFFQSxDQUFDSSwwREFBS0EsQ0FBQ1UsTUFBTSxFQUFFQSxTQUFTZCwrQ0FBRUEsQ0FBQ0ksMERBQUtBLENBQUNpQixNQUFNLEVBQUU7UUFDekQsSUFBSSxDQUFDSixjQUNGLE9BQU87WUFDSkksUUFBUTtZQUNSQyxTQUFTO1FBQ1o7UUFFSCxNQUFNQyxnQkFBZ0I7WUFDbkJiO1lBQ0FLO1lBQ0FKO1lBQ0FDO1lBQ0FDO1lBQ0FDO1FBQ0g7UUFFQSxNQUFNRSxHQUFHUSxNQUFNLENBQUM1QixnRUFBUUEsRUFBRTZCLE1BQU0sQ0FBQ0Y7UUFFakMsT0FBTztZQUNKRixRQUFRO1lBQ1JDLFNBQVM7UUFDWjtJQUNIO0lBRUFJLG1CQUFtQi9CLGtEQUFlQSxDQUM5QlksS0FBSyxDQUNIZCxrQ0FBQ0EsQ0FBQ2tDLE1BQU0sQ0FBQztRQUNOQyxXQUFXbkMsa0NBQUNBLENBQUNvQyxNQUFNO0lBQ3RCLElBRUZDLEtBQUssQ0FBQyxPQUFPLEVBQUVyQixHQUFHLEVB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S0E7UUFBRyxHQUN4Qm9CLElBQUksQ0FBQ3ZCLGdFQUFRQSxFQUNid0IsS0FBSyxDQUFDdkIsZ0RBQUdBLENBQUNHLCtDQUFFQSxDQUFDSixnRUFBUUEsQ0FBQ2tCLE1BQU0sRUFBRUEsU0FBU2QsK0NBQUVBLENBQUNKLGdFQUFRQSxDQUFDeUIsTUFBTSxFQUFFO1FBRS9ELE1BQU0sQ0FBQytCLGdCQUFnQkMsYUFBYSxHQUFHLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQztZQUFDTjtZQUFjRTtTQUFXO1FBRW5GLE9BQU87WUFDSnZELFVBQVV3RDtZQUNWckQsT0FBT3NELFlBQVksQ0FBQyxFQUFFLENBQUN0RCxLQUFLO1FBQy9CO0lBQ0g7QUFDTixHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZlci9hcGkvcm91dGVycy9leHBlbnNlLnRzP2YxN2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5pbXBvcnQgeyBjcmVhdGVUUlBDUm91dGVyLCBwdWJsaWNQcm9jZWR1cmUgfSBmcm9tICcuLi90cnBjJztcbmltcG9ydCB7IGV4cGVuc2VzIH0gZnJvbSAnQC9zZXJ2ZXIvZGIvc2NoZW1hL2V4cGVuc2VzJztcbmltcG9ydCB7IGFuZCwgYmV0d2VlbiwgY291bnQsIGVxIH0gZnJvbSAnZHJpenpsZS1vcm0nO1xuaW1wb3J0IHsgUEFHRV9TSVpFIH0gZnJvbSAnQC9saWIvY29uc3QnO1xuaW1wb3J0IHsgZXhwZW5zZVZhbGlkYXRpb24sIHVwZGF0ZUV4cGVuc2VWYWxpZGF0aW9uIH0gZnJvbSAnQC92YWxpZGF0aW9uL2V4cGVuc2VWYWxpZGF0aW9uJztcbmltcG9ydCB7IHVzZXJzIH0gZnJvbSAnQC9zZXJ2ZXIvZGIvc2NoZW1hL3VzZXJzJztcblxuZXhwb3J0IGNvbnN0IGV4cGVuc2VSb3V0ZXIgPSBjcmVhdGVUUlBDUm91dGVyKHtcbiAgIGNyZWF0ZUV4cGVuc2U6IHB1YmxpY1Byb2NlZHVyZS5pbnB1dChleHBlbnNlVmFsaWRhdGlvbikubXV0YXRpb24oYXN5bmMgKHsgY3R4LCBpbnB1dCB9KSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgICBleHBlbnNlQW1vdW50LFxuICAgICAgICAgZXhwZW5zZVJlY2lwaWVudCxcbiAgICAgICAgIGV4cGVuc2VSZWZlcmVuY2UsXG4gICAgICAgICBwYXltZW5EYXRlLFxuICAgICAgICAgdXNlcklkLFxuICAgICAgICAgZXhwZW5zZURlc2NyaXB0aW9uLFxuICAgICAgfSA9IGlucHV0O1xuICAgICAgY29uc3QgeyBkYiB9ID0gY3R4O1xuXG4gICAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBkYlxuICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAuZnJvbSh1c2VycylcbiAgICAgICAgIC53aGVyZShhbmQoZXEodXNlcnMudXNlcklkLCB1c2VySWQpLCBlcSh1c2Vycy5zdGF0dXMsICdhY3RpdmUnKSkpO1xuICAgICAgaWYgKCFleGlzdGluZ1VzZXIpXG4gICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InIGFzIGNvbnN0LFxuICAgICAgICAgICAgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyxcbiAgICAgICAgIH07XG5cbiAgICAgIGNvbnN0IGluc2VydEV4cGVuc2UgPSB7XG4gICAgICAgICBleHBlbnNlQW1vdW50LFxuICAgICAgICAgZXhwZW5zZURlc2NyaXB0aW9uLFxuICAgICAgICAgZXhwZW5zZVJlY2lwaWVudCxcbiAgICAgICAgIGV4cGVuc2VSZWZlcmVuY2UsXG4gICAgICAgICBwYXltZW5EYXRlLFxuICAgICAgICAgdXNlcklkLFxuICAgICAgfTtcblxuICAgICAgYXdhaXQgZGIuaW5zZXJ0KGV4cGVuc2VzKS52YWx1ZXMoaW5zZXJ0RXhwZW5zZSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyBhcyBjb25zdCxcbiAgICAgICAgIG1lc3NhZ2U6ICdFeHBlbnNlIHN1Y2Nlc2Z1bGx5IHJlY29yZGVkJyxcbiAgICAgIH07XG4gICB9KSxcblxuICAgZ2V0RXhwZW5zZURldGFpbHM6IHB1YmxpY1Byb2NlZHVyZVxuICAgICAgLmlucHV0KFxuICAgICAgICAgei5vYmplY3Qoe1xuICAgICAgICAgICAgZXhwZW5zZUlkOiB6LnN0cmluZygpLFxuICAgICAgICAgfSksXG4gICAgICApXG4gICAgICAucXVlcnkoYXN5bmMgKHsgY3R4LCBpbnB1dCB9KSA9PiB7XG4gICAgICAgICBjb25zdCB7IGV4cGVuc2VJZCB9ID0gaW5wdXQ7XG4gICAgICAgICBjb25zdCB7IGRiIH0gPSBjdHg7XG5cbiAgICAgICAgIGNvbnN0IGV4cGVuc2VEZXRhaWxzID0gYXdhaXQgZGJcbiAgICAgICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAgICAgLmZyb20oZXhwZW5zZXMpXG4gICAgICAgICAgICAud2hlcmUoYW5kKGVxKGV4cGVuc2VzLmV4cGVuc2VJZCwgZXhwZW5zZUlkKSwgZXEoZXhwZW5zZXMuc3RhdHVzLCAnYWN0aXZlJykpKTtcblxuICAgICAgICAgaWYgKCFleHBlbnNlRGV0YWlscy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InIGFzIGNvbnN0LFxuICAgICAgICAgICAgICAgbWVzc2FnZTogJ0V4cGVuc2Ugbm90IGZvdW5kJyxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyBhcyBjb25zdCxcbiAgICAgICAgICAgIGV4cGVuc2U6IGV4cGVuc2VEZXRhaWxzWzBdLFxuICAgICAgICAgfTtcbiAgICAgIH0pLFxuXG4gICB1cGRhdGVFeHBlbnNlOiBwdWJsaWNQcm9jZWR1cmVcbiAgICAgIC5pbnB1dCh1cGRhdGVFeHBlbnNlVmFsaWRhdGlvbilcbiAgICAgIC5tdXRhdGlvbihhc3luYyAoeyBjdHgsIGlucHV0IH0pID0+IHtcbiAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGV4cGVuc2VBbW91bnQsXG4gICAgICAgICAgICBleHBlbnNlRGVzY3JpcHRpb24sXG4gICAgICAgICAgICBleHBlbnNlSWQsXG4gICAgICAgICAgICBleHBlbnNlUmVjaXBpZW50LFxuICAgICAgICAgICAgZXhwZW5zZVJlZmVyZW5jZSxcbiAgICAgICAgIH0gPSBpbnB1dDtcbiAgICAgICAgIGNvbnN0IHsgZGIgfSA9IGN0eDtcblxuICAgICAgICAgY29uc3QgZXhpc3RpbmdFeHBlbnNlID0gYXdhaXQgZGJcbiAgICAgICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAgICAgLmZyb20oZXhwZW5zZXMpXG4gICAgICAgICAgICAud2hlcmUoYW5kKGVxKGV4cGVuc2VzLmV4cGVuc2VJZCwgZXhwZW5zZUlkKSwgZXEoZXhwZW5zZXMuc3RhdHVzLCAnYWN0aXZlJykpKTtcblxuICAgICAgICAgaWYgKCFleGlzdGluZ0V4cGVuc2UubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdFeHBlbnNlIHJlY29yZCBub3QgZm91bmQnLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgYXdhaXQgZGJcbiAgICAgICAgICAgIC51cGRhdGUoZXhwZW5zZXMpXG4gICAgICAgICAgICAuc2V0KHtcbiAgICAgICAgICAgICAgIGV4cGVuc2VBbW91bnQsXG4gICAgICAgICAgICAgICBleHBlbnNlRGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICBleHBlbnNlUmVjaXBpZW50LFxuICAgICAgICAgICAgICAgZXhwZW5zZVJlZmVyZW5jZSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlcmUoZXEoZXhwZW5zZXMuZXhwZW5zZUlkLCBleHBlbnNlSWQpKTtcblxuICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnIGFzIGNvbnN0LFxuICAgICAgICAgICAgbWVzc2FnZTogJ2V4cGVuc2UgdXBkYXRlZCBzdWNjZXNmdWxseScsXG4gICAgICAgICB9O1xuICAgICAgfSksXG5cbiAgIGRlbGV0ZUV4cGVuc2U6IHB1YmxpY1Byb2NlZHVyZVxuICAgICAgLmlucHV0KFxuICAgICAgICAgei5vYmplY3Qoe1xuICAgICAgICAgICAgZXhwZW5zZUlkOiB6LnN0cmluZygpLFxuICAgICAgICAgfSksXG4gICAgICApXG4gICAgICAubXV0YXRpb24oYXN5bmMgKHsgY3R4LCBpbnB1dCB9KSA9PiB7XG4gICAgICAgICBjb25zdCB7IGV4cGVuc2VJZCB9ID0gaW5wdXQ7XG4gICAgICAgICBjb25zdCB7IGRiIH0gPSBjdHg7XG5cbiAgICAgICAgIGNvbnN0IGV4aXN0aW5nRXhwZW5zZSA9IGF3YWl0IGRiXG4gICAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAgIC5mcm9tKGV4cGVuc2VzKVxuICAgICAgICAgICAgLndoZXJlKGFuZChlcShleHBlbnNlcy5leHBlbnNlSWQsIGV4cGVuc2VJZCksIGVxKGV4cGVuc2VzLnN0YXR1cywgJ2FjdGl2ZScpKSk7XG4gICAgICAgICBpZiAoIWV4aXN0aW5nRXhwZW5zZS5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InIGFzIGNvbnN0LFxuICAgICAgICAgICAgICAgbWVzc2FnZTogJ0V4cGVuc2Ugbm90IGZvdW5kJyxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgIGF3YWl0IGRiXG4gICAgICAgICAgICAudXBkYXRlKGV4cGVuc2VzKVxuICAgICAgICAgICAgLnNldCh7IHN0YXR1czogJ2RlbGV0ZWQnIH0pXG4gICAgICAgICAgICAud2hlcmUoZXEoZXhwZW5zZXMuZXhwZW5zZUlkLCBleHBlbnNlSWQpKTtcblxuICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnIGFzIGNvbnN0LFxuICAgICAgICAgICAgbWVzc2FnZTogJ1JlY29yZCBkZWxldGVkIHN1Y2NlZnN1bGx5JyxcbiAgICAgICAgIH07XG4gICAgICB9KSxcblxuICAgbGlzdEV4cGVuc2VzOiBwdWJsaWNQcm9jZWR1cmVcbiAgICAgIC5pbnB1dChcbiAgICAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgICAgIHN0YXJ0RGF0ZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgZW5kRGF0ZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICAgfSksXG4gICAgICApXG4gICAgICAucXVlcnkoYXN5bmMgKHsgY3R4LCBpbnB1dCB9KSA9PiB7XG4gICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBjdHguZGJcbiAgICAgICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAgICAgLmZyb20oZXhwZW5zZXMpXG4gICAgICAgICAgICAud2hlcmUoXG4gICAgICAgICAgICAgICBiZXR3ZWVuKFxuICAgICAgICAgICAgICAgICAgZXhwZW5zZXMucGF5bWVuRGF0ZSxcbiAgICAgICAgICAgICAgICAgIGlucHV0LnN0YXJ0RGF0ZSA/PyBuZXcgRGF0ZSgyMDEwLCAwLCAxKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgaW5wdXQuZW5kRGF0ZSA/PyBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnIGFzIGNvbnN0LFxuICAgICAgICAgICAgZXhwZW5zZXM6IHJlcyxcbiAgICAgICAgIH07XG4gICAgICB9KSxcblxuICAgbGlzdFBhZ2luYXRlZEV4cGVuc2U6IHB1YmxpY1Byb2NlZHVyZVxuICAgICAgLmlucHV0KFxuICAgICAgICAgei5vYmplY3Qoe1xuICAgICAgICAgICAgdXNlcklkOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgcGFnZTogei5zdHJpbmcoKSxcbiAgICAgICAgIH0pLFxuICAgICAgKVxuICAgICAgLnF1ZXJ5KGFzeW5jICh7IGN0eCwgaW5wdXQgfSkgPT4ge1xuICAgICAgICAgY29uc3QgeyBwYWdlLCB1c2VySWQgfSA9IGlucHV0O1xuICAgICAgICAgY29uc3QgeyBkYiB9ID0gY3R4O1xuXG4gICAgICAgICBjb25zdCBvZmZzZXQgPSArcGFnZSAqIFBBR0VfU0laRTtcblxuICAgICAgICAgY29uc3QgZXhwZW5zZVF1ZXJ5ID0gZGJcbiAgICAgICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAgICAgLmZyb20oZXhwZW5zZXMpXG4gICAgICAgICAgICAud2hlcmUoYW5kKGVxKGV4cGVuc2VzLnVzZXJJZCwgdXNlcklkKSwgZXEoZXhwZW5zZXMuc3RhdHVzLCAnYWN0aXZlJykpKVxuICAgICAgICAgICAgLmxpbWl0KFBBR0VfU0laRSlcbiAgICAgICAgICAgIC5vZmZzZXQob2Zmc2V0KTtcblxuICAgICAgICAgY29uc3QgY291bnRRdWVyeSA9IGRiXG4gICAgICAgICAgICAuc2VsZWN0KHsgY291bnQ6IGNvdW50KCkgfSlcbiAgICAgICAgICAgIC5mcm9tKGV4cGVuc2VzKVxuICAgICAgICAgICAgLndoZXJlKGFuZChlcShleHBlbnNlcy51c2VySWQsIHVzZXJJZCksIGVxKGV4cGVuc2VzLnN0YXR1cywgJ2FjdGl2ZScpKSk7XG5cbiAgICAgICAgIGNvbnN0IFtleHBlbnNlUmVzdWx0cywgY291bnRSZXN1bHRzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtleHBlbnNlUXVlcnksIGNvdW50UXVlcnldKTtcblxuICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGV4cGVuc2VzOiBleHBlbnNlUmVzdWx0cyxcbiAgICAgICAgICAgIGNvdW50OiBjb3VudFJlc3VsdHNbMF0uY291bnQsXG4gICAgICAgICB9O1xuICAgICAgfSksXG59KTtcbiJdLCJuYW1lcyI6WyJ6IiwiY3JlYXRlVFJQQ1JvdXRlciIsInB1YmxpY1Byb2NlZHVyZSIsImV4cGVuc2VzIiwiYW5kIiwiYmV0d2VlbiIsImNvdW50IiwiZXEiLCJQQUdFX1NJWkUiLCJleHBlbnNlVmFsaWRhdGlvbiIsInVwZGF0ZUV4cGVuc2VWYWxpZGF0aW9uIiwidXNlcnMiLCJleHBlbnNlUm91dGVyIiwiY3JlYXRlRXhwZW5zZSIsImlucHV0IiwibXV0YXRpb24iLCJjdHgiLCJleHBlbnNlQW1vdW50IiwiZXhwZW5zZVJlY2lwaWVudCIsImV4cGVuc2VSZWZlcmVuY2UiLCJwYXltZW5EYXRlIiwidXNlcklkIiwiZXhwZW5zZURlc2NyaXB0aW9uIiwiZGIiLCJleGlzdGluZ1VzZXIiLCJzZWxlY3QiLCJmcm9tIiwid2hlcmUiLCJzdGF0dXMiLCJtZXNzYWdlIiwiaW5zZXJ0RXhwZW5zZSIsImluc2VydCIsInZhbHVlcyIsImdldEV4cGVuc2VEZXRhaWxzIiwib2JqZWN0IiwiZXhwZW5zZUlkIiwic3RyaW5nIiwicXVlcnkiLCJleHBlbnNlRGV0YWlscyIsImxlbmd0aCIsImV4cGVuc2UiLCJ1cGRhdGVFeHBlbnNlIiwiZXhpc3RpbmdFeHBlbnNlIiwidXBkYXRlIiwic2V0IiwiZGVsZXRlRXhwZW5zZSIsImxpc3RFeHBlbnNlcyIsInN0YXJ0RGF0ZSIsIm9wdGlvbmFsIiwiZW5kRGF0ZSIsInJlcyIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImxpc3RQYWdpbmF0ZWRFeHBlbnNlIiwicGFnZSIsIm9mZnNldCIsImV4cGVuc2VRdWVyeSIsImxpbWl0IiwiY291bnRRdWVyeSIsImV4cGVuc2VSZXN1bHRzIiwiY291bnRSZXN1bHRzIiwiUHJvbWlzZSIsImFsbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/server/api/routers/expense.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/api/routers/inventory.ts":
/*!*********************************************!*\
  !*** ./src/server/api/routers/inventory.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   inventoryRouter: () => (/* binding */ inventoryRouter)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/.pnpm/zod@3.23.8/node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _trpc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../trpc */ \"(rsc)/./src/server/api/trpc.ts\");\n/* harmony import */ var _lib_const__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/const */ \"(rsc)/./src/lib/const.ts\");\n/* harmony import */ var _server_db_schema_items__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/server/db/schema/items */ \"(rsc)/./src/server/db/schema/items.ts\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/sql/expressions/conditions.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/sql/functions/aggregate.js\");\n/* harmony import */ var _validation_inventoryValidation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/validation/inventoryValidation */ \"(rsc)/./src/validation/inventoryValidation.ts\");\n/* harmony import */ var _server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/server/db/schema/inventory */ \"(rsc)/./src/server/db/schema/inventory.ts\");\n\n\n\n\n\n\n\nconst inventoryRouter = (0,_trpc__WEBPACK_IMPORTED_MODULE_0__.createTRPCRouter)({\n    addInventory: _trpc__WEBPACK_IMPORTED_MODULE_0__.publicProcedure.input(_validation_inventoryValidation__WEBPACK_IMPORTED_MODULE_3__.newInventoryValidation).mutation(async ({ ctx, input })=>{\n        const { buyingPrice, itemId, lastUpdated, quantityAdded, sellingPrice } = input;\n        const { db } = ctx;\n        const existingitem = await db.select().from(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_2__.items).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_2__.items.itemId, itemId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_2__.items.status, 'active')));\n        if (!existingitem.length) return {\n            status: 'error',\n            message: 'Item not found'\n        };\n        const payload = {\n            buyingPrice: String(buyingPrice),\n            itemId: existingitem[0].itemId,\n            lastUpdated,\n            quantityAdded: +quantityAdded,\n            quantityInStock: +quantityAdded,\n            sellingPrice: String(sellingPrice)\n        };\n        await db.insert(_server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_4__.inventory).values(payload);\n        return {\n            status: 'success',\n            message: 'Inventory succesfully added'\n        };\n    }),\n    listInventory: _trpc__WEBPACK_IMPORTED_MODULE_0__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_6__.z.object({\n        itemId: zod__WEBPACK_IMPORTED_MODULE_6__.z.string(),\n        page: zod__WEBPACK_IMPORTED_MODULE_6__.z.string()\n    })).query(async ({ ctx, input })=>{\n        const { itemId, page } = input;\n        const { db } = ctx;\n        const offset = Number(page) * _lib_const__WEBPACK_IMPORTED_MODULE_1__.PAGE_SIZE;\n        const existingItem = await db.select().from(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_2__.items).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_2__.items.itemId, itemId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_2__.items.status, 'active')));\n        if (!existingItem.length) return {\n            status: 'error',\n            message: 'Item not found'\n        };\n        const inventoryQuery = db.select().from(_server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_4__.inventory).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_4__.inventory.itemId, itemId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_4__.inventory.status, 'active'))).limit(_lib_const__WEBPACK_IMPORTED_MODULE_1__.PAGE_SIZE).offset(offset);\n        const countQuery = db.select({\n            count: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.count)()\n        }).from(_server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_4__.inventory).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_4__.inventory.itemId, itemId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_4__.inventory.status, 'active')));\n        const [inventoryEntries, countResult] = await Promise.all([\n            inventoryQuery,\n            countQuery\n        ]);\n        return {\n            status: 'success',\n            inventory: inventoryEntries,\n            item: existingItem[0],\n            count: countResult[0].count\n        };\n    })\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL2FwaS9yb3V0ZXJzL2ludmVudG9yeS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBd0I7QUFDb0M7QUFDcEI7QUFDUztBQUNKO0FBQzZCO0FBQ2pCO0FBRWxELE1BQU1VLGtCQUFrQlQsdURBQWdCQSxDQUFDO0lBQzdDVSxjQUFjVCxrREFBZUEsQ0FBQ1UsS0FBSyxDQUFDSixtRkFBc0JBLEVBQUVLLFFBQVEsQ0FBQyxPQUFPLEVBQUVDLEdBQUcsRUFBRUYsS0FBSyxFQUFFO1FBQ3ZGLE1BQU0sRUFBRUcsV0FBVyxFQUFFQyxNQUFNLEVBQUVDLFdBQVcsRUFBRUMsYUFBYSxFQUFFQyxZQUFZLEVBQUUsR0FBR1A7UUFDMUUsTUFBTSxFQUFFUSxFQUFFLEVBQUUsR0FBR047UUFFZixNQUFNTyxlQUFlLE1BQU1ELEdBQ3ZCRSxNQUFNLEdBQ05DLElBQUksQ0FBQ25CLDBEQUFLQSxFQUNWb0IsS0FBSyxDQUFDbkIsZ0RBQUdBLENBQUNFLCtDQUFFQSxDQUFDSCwwREFBS0EsQ0FBQ1ksTUFBTSxFQUFFQSxTQUFTVCwrQ0FBRUEsQ0FBQ0gsMERBQUtBLENBQUNxQixNQUFNLEVBQUU7UUFDekQsSUFBSSxDQUFDSixhQUFhSyxNQUFNLEVBQ3JCLE9BQU87WUFDSkQsUUFBUTtZQUNSRSxTQUFTO1FBQ1o7UUFFSCxNQUFNQyxVQUFVO1lBQ2JiLGFBQWFjLE9BQU9kO1lBQ3BCQyxRQUFRSyxZQUFZLENBQUMsRUFBRSxDQUFDTCxNQUFNO1lBQzlCQztZQUNBQyxlQUFlLENBQUNBO1lBQ2hCWSxpQkFBaUIsQ0FBQ1o7WUFDbEJDLGNBQWNVLE9BQU9WO1FBQ3hCO1FBRUEsTUFBTUMsR0FBR1csTUFBTSxDQUFDdEIsa0VBQVNBLEVBQUV1QixNQUFNLENBQUNKO1FBRWxDLE9BQU87WUFDSkgsUUFBUTtZQUNSRSxTQUFTO1FBQ1o7SUFDSDtJQUVBTSxlQUFlL0Isa0RBQWVBLENBQzFCVSxLQUFLLENBQ0haLGtDQUFDQSxDQUFDa0MsTUFBTSxDQUFDO1FBQ05sQixRQUFRaEIsa0NBQUNBLENBQUNtQyxNQUFNO1FBQ2hCQyxNQUFNcEMsa0NBQUNBLENBQUNtQyxNQUFNO0lBQ2pCLElBRUZFLEtBQUssQ0FBQyxPQUFPLEVBQUV2QixHQUFHLEVBQUVGLEtBQUssRUFBRTtRQUN6QixNQUFNLEVBQUVJLE1BQU0sRUFBRW9CLElBQUksRUFBRSxHQUFHeEI7UUFDekIsTUFBTSxFQUFFUSxFQUFFLEVBQUUsR0FBR047UUFFZixNQUFNd0IsU0FBU0MsT0FBT0gsUUFBUWpDLGlEQUFTQTtRQUV2QyxNQUFNcUMsZUFBZSxNQUFNcEIsR0FDdkJFLE1BQU0sR0FDTkMsSUFBSSxDQUFDbkIsMERBQUtBLEVBQ1ZvQixLQUFLLENBQUNuQixnREFBR0EsQ0FBQ0UsK0NBQUVBLENBQUNILDBEQUFLQSxDQUFDWSxNQUFNLEVBQUVBLFNBQVNULCtDQUFFQSxDQUFDSCwwREFBS0EsQ0FBQ3FCLE1BQU0sRUFBRTtRQUN6RCxJQUFJLENBQUNlLGFBQWFkLE1BQU0sRUFDckIsT0FBTztZQUNKRCxRQUFRO1lBQ1JFLFNBQVM7UUFDWjtRQUVILE1BQU1jLGlCQUFpQnJCLEdBQ25CRSxNQUFNLEdBQ05DLElBQUksQ0FBQ2Qsa0VBQVNBLEVBQ2RlLEtBQUssQ0FBQ25CLGdEQUFHQSxDQUFDRSwrQ0FBRUEsQ0FBQ0Usa0VBQVNBLENBQUNPLE1BQU0sRUFBRUEsU0FBU1QsK0NBQUVBLENBQUNFLGtFQUFTQSxDQUFDZ0IsTUFBTSxFQUFFLFlBQzdEaUIsS0FBSyxDQUFDdkMsaURBQVNBLEVBQ2ZtQyxNQUFNLENBQUNBO1FBRVgsTUFBTUssYUFBYXZCLEdBQ2ZFLE1BQU0sQ0FBQztZQUFFaEIsT0FBT0Esa0RBQUtBO1FBQUcsR0FDeEJpQixJQUFJLENBQUNkLGtFQUFTQSxFQUNkZSxLQUFLLENBQUNuQixnREFBR0EsQ0FBQ0UsK0NBQUVBLENBQUNFLGtFQUFTQSxDQUFDTyxNQUFNLEVBQUVBLFNBQVNULCtDQUFFQSxDQUFDRSxrRUFBU0EsQ0FBQ2dCLE1BQU0sRUFBRTtRQUVqRSxNQUFNLENBQUNtQixrQkFBa0JDLFlBQVksR0FBRyxNQUFNQyxRQUFRQyxHQUFHLENBQUM7WUFBQ047WUFBZ0JFO1NBQVc7UUFFdEYsT0FBTztZQUNKbEIsUUFBUTtZQUNSaEIsV0FBV21DO1lBQ1hJLE1BQU1SLFlBQVksQ0FBQyxFQUFFO1lBQ3JCbEMsT0FBT3VDLFdBQVcsQ0FBQyxFQUFFLENBQUN2QyxLQUFLO1FBQzlCO0lBQ0g7QUFDTixHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZlci9hcGkvcm91dGVycy9pbnZlbnRvcnkudHM/OGQ3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcbmltcG9ydCB7IGNyZWF0ZVRSUENSb3V0ZXIsIHB1YmxpY1Byb2NlZHVyZSB9IGZyb20gJy4uL3RycGMnO1xuaW1wb3J0IHsgUEFHRV9TSVpFIH0gZnJvbSAnQC9saWIvY29uc3QnO1xuaW1wb3J0IHsgaXRlbXMgfSBmcm9tICdAL3NlcnZlci9kYi9zY2hlbWEvaXRlbXMnO1xuaW1wb3J0IHsgYW5kLCBjb3VudCwgZXEgfSBmcm9tICdkcml6emxlLW9ybSc7XG5pbXBvcnQgeyBuZXdJbnZlbnRvcnlWYWxpZGF0aW9uIH0gZnJvbSAnQC92YWxpZGF0aW9uL2ludmVudG9yeVZhbGlkYXRpb24nO1xuaW1wb3J0IHsgaW52ZW50b3J5IH0gZnJvbSAnQC9zZXJ2ZXIvZGIvc2NoZW1hL2ludmVudG9yeSc7XG5cbmV4cG9ydCBjb25zdCBpbnZlbnRvcnlSb3V0ZXIgPSBjcmVhdGVUUlBDUm91dGVyKHtcbiAgIGFkZEludmVudG9yeTogcHVibGljUHJvY2VkdXJlLmlucHV0KG5ld0ludmVudG9yeVZhbGlkYXRpb24pLm11dGF0aW9uKGFzeW5jICh7IGN0eCwgaW5wdXQgfSkgPT4ge1xuICAgICAgY29uc3QgeyBidXlpbmdQcmljZSwgaXRlbUlkLCBsYXN0VXBkYXRlZCwgcXVhbnRpdHlBZGRlZCwgc2VsbGluZ1ByaWNlIH0gPSBpbnB1dDtcbiAgICAgIGNvbnN0IHsgZGIgfSA9IGN0eDtcblxuICAgICAgY29uc3QgZXhpc3RpbmdpdGVtID0gYXdhaXQgZGJcbiAgICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAgLmZyb20oaXRlbXMpXG4gICAgICAgICAud2hlcmUoYW5kKGVxKGl0ZW1zLml0ZW1JZCwgaXRlbUlkKSwgZXEoaXRlbXMuc3RhdHVzLCAnYWN0aXZlJykpKTtcbiAgICAgIGlmICghZXhpc3RpbmdpdGVtLmxlbmd0aClcbiAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicgYXMgY29uc3QsXG4gICAgICAgICAgICBtZXNzYWdlOiAnSXRlbSBub3QgZm91bmQnLFxuICAgICAgICAgfTtcblxuICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgIGJ1eWluZ1ByaWNlOiBTdHJpbmcoYnV5aW5nUHJpY2UpLFxuICAgICAgICAgaXRlbUlkOiBleGlzdGluZ2l0ZW1bMF0uaXRlbUlkLFxuICAgICAgICAgbGFzdFVwZGF0ZWQsXG4gICAgICAgICBxdWFudGl0eUFkZGVkOiArcXVhbnRpdHlBZGRlZCxcbiAgICAgICAgIHF1YW50aXR5SW5TdG9jazogK3F1YW50aXR5QWRkZWQsXG4gICAgICAgICBzZWxsaW5nUHJpY2U6IFN0cmluZyhzZWxsaW5nUHJpY2UpLFxuICAgICAgfTtcblxuICAgICAgYXdhaXQgZGIuaW5zZXJ0KGludmVudG9yeSkudmFsdWVzKHBheWxvYWQpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycgYXMgY29uc3QsXG4gICAgICAgICBtZXNzYWdlOiAnSW52ZW50b3J5IHN1Y2Nlc2Z1bGx5IGFkZGVkJyxcbiAgICAgIH07XG4gICB9KSxcblxuICAgbGlzdEludmVudG9yeTogcHVibGljUHJvY2VkdXJlXG4gICAgICAuaW5wdXQoXG4gICAgICAgICB6Lm9iamVjdCh7XG4gICAgICAgICAgICBpdGVtSWQ6IHouc3RyaW5nKCksXG4gICAgICAgICAgICBwYWdlOiB6LnN0cmluZygpLFxuICAgICAgICAgfSksXG4gICAgICApXG4gICAgICAucXVlcnkoYXN5bmMgKHsgY3R4LCBpbnB1dCB9KSA9PiB7XG4gICAgICAgICBjb25zdCB7IGl0ZW1JZCwgcGFnZSB9ID0gaW5wdXQ7XG4gICAgICAgICBjb25zdCB7IGRiIH0gPSBjdHg7XG5cbiAgICAgICAgIGNvbnN0IG9mZnNldCA9IE51bWJlcihwYWdlKSAqIFBBR0VfU0laRTtcblxuICAgICAgICAgY29uc3QgZXhpc3RpbmdJdGVtID0gYXdhaXQgZGJcbiAgICAgICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAgICAgLmZyb20oaXRlbXMpXG4gICAgICAgICAgICAud2hlcmUoYW5kKGVxKGl0ZW1zLml0ZW1JZCwgaXRlbUlkKSwgZXEoaXRlbXMuc3RhdHVzLCAnYWN0aXZlJykpKTtcbiAgICAgICAgIGlmICghZXhpc3RpbmdJdGVtLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicgYXMgY29uc3QsXG4gICAgICAgICAgICAgICBtZXNzYWdlOiAnSXRlbSBub3QgZm91bmQnLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgY29uc3QgaW52ZW50b3J5UXVlcnkgPSBkYlxuICAgICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgICAuZnJvbShpbnZlbnRvcnkpXG4gICAgICAgICAgICAud2hlcmUoYW5kKGVxKGludmVudG9yeS5pdGVtSWQsIGl0ZW1JZCksIGVxKGludmVudG9yeS5zdGF0dXMsICdhY3RpdmUnKSkpXG4gICAgICAgICAgICAubGltaXQoUEFHRV9TSVpFKVxuICAgICAgICAgICAgLm9mZnNldChvZmZzZXQpO1xuXG4gICAgICAgICBjb25zdCBjb3VudFF1ZXJ5ID0gZGJcbiAgICAgICAgICAgIC5zZWxlY3QoeyBjb3VudDogY291bnQoKSB9KVxuICAgICAgICAgICAgLmZyb20oaW52ZW50b3J5KVxuICAgICAgICAgICAgLndoZXJlKGFuZChlcShpbnZlbnRvcnkuaXRlbUlkLCBpdGVtSWQpLCBlcShpbnZlbnRvcnkuc3RhdHVzLCAnYWN0aXZlJykpKTtcblxuICAgICAgICAgY29uc3QgW2ludmVudG9yeUVudHJpZXMsIGNvdW50UmVzdWx0XSA9IGF3YWl0IFByb21pc2UuYWxsKFtpbnZlbnRvcnlRdWVyeSwgY291bnRRdWVyeV0pO1xuXG4gICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycgYXMgY29uc3QsXG4gICAgICAgICAgICBpbnZlbnRvcnk6IGludmVudG9yeUVudHJpZXMsXG4gICAgICAgICAgICBpdGVtOiBleGlzdGluZ0l0ZW1bMF0sXG4gICAgICAgICAgICBjb3VudDogY291bnRSZXN1bHRbMF0uY291bnQsXG4gICAgICAgICB9O1xuICAgICAgfSksXG59KTtcbiJdLCJuYW1lcyI6WyJ6IiwiY3JlYXRlVFJQQ1JvdXRlciIsInB1YmxpY1Byb2NlZHVyZSIsIlBBR0VfU0laRSIsIml0ZW1zIiwiYW5kIiwiY291bnQiLCJlcSIsIm5ld0ludmVudG9yeVZhbGlkYXRpb24iLCJpbnZlbnRvcnkiLCJpbnZlbnRvcnlSb3V0ZXIiLCJhZGRJbnZlbnRvcnkiLCJpbnB1dCIsIm11dGF0aW9uIiwiY3R4IiwiYnV5aW5nUHJpY2UiLCJpdGVtSWQiLCJsYXN0VXBkYXRlZCIsInF1YW50aXR5QWRkZWQiLCJzZWxsaW5nUHJpY2UiLCJkYiIsImV4aXN0aW5naXRlbSIsInNlbGVjdCIsImZyb20iLCJ3aGVyZSIsInN0YXR1cyIsImxlbmd0aCIsIm1lc3NhZ2UiLCJwYXlsb2FkIiwiU3RyaW5nIiwicXVhbnRpdHlJblN0b2NrIiwiaW5zZXJ0IiwidmFsdWVzIiwibGlzdEludmVudG9yeSIsIm9iamVjdCIsInN0cmluZyIsInBhZ2UiLCJxdWVyeSIsIm9mZnNldCIsIk51bWJlciIsImV4aXN0aW5nSXRlbSIsImludmVudG9yeVF1ZXJ5IiwibGltaXQiLCJjb3VudFF1ZXJ5IiwiaW52ZW50b3J5RW50cmllcyIsImNvdW50UmVzdWx0IiwiUHJvbWlzZSIsImFsbCIsIml0ZW0iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/server/api/routers/inventory.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/api/routers/items.ts":
/*!*****************************************!*\
  !*** ./src/server/api/routers/items.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   itemsRouter: () => (/* binding */ itemsRouter)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/.pnpm/zod@3.23.8/node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _trpc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../trpc */ \"(rsc)/./src/server/api/trpc.ts\");\n/* harmony import */ var _server_db_schema_items__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/server/db/schema/items */ \"(rsc)/./src/server/db/schema/items.ts\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/sql/expressions/conditions.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/sql/functions/aggregate.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/sql/expressions/select.js\");\n/* harmony import */ var _server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/server/db/schema/inventory */ \"(rsc)/./src/server/db/schema/inventory.ts\");\n/* harmony import */ var _server_db_schema_categories__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/server/db/schema/categories */ \"(rsc)/./src/server/db/schema/categories.ts\");\n/* harmony import */ var _lib_const__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/const */ \"(rsc)/./src/lib/const.ts\");\n/* harmony import */ var _server_db_schema_users__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/server/db/schema/users */ \"(rsc)/./src/server/db/schema/users.ts\");\n/* harmony import */ var _validation_newItemValidation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/validation/newItemValidation */ \"(rsc)/./src/validation/newItemValidation.ts\");\n\n\n\n\n\n\n\n\n\nconst itemsRouter = (0,_trpc__WEBPACK_IMPORTED_MODULE_0__.createTRPCRouter)({\n    createItem: _trpc__WEBPACK_IMPORTED_MODULE_0__.publicProcedure.input(_validation_newItemValidation__WEBPACK_IMPORTED_MODULE_6__.NewItemValidation.extend({\n        userId: zod__WEBPACK_IMPORTED_MODULE_7__.z.string()\n    })).mutation(async ({ ctx, input })=>{\n        const { userId, itemName, categoryId, reorderLevel, unitOfmeasure } = input;\n        const { db } = ctx;\n        const existingUser = await db.select().from(_server_db_schema_users__WEBPACK_IMPORTED_MODULE_5__.users).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.eq)(_server_db_schema_users__WEBPACK_IMPORTED_MODULE_5__.users.userId, userId));\n        if (!existingUser) {\n            return {\n                status: 'error',\n                message: 'User not found'\n            };\n        }\n        const category = await db.select().from(_server_db_schema_categories__WEBPACK_IMPORTED_MODULE_3__.categories).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.eq)(_server_db_schema_categories__WEBPACK_IMPORTED_MODULE_3__.categories.categoryId, categoryId));\n        if (!category) {\n            return {\n                status: 'error',\n                message: 'Category not found'\n            };\n        }\n        const payload = {\n            itemName,\n            unitOfMeasure: unitOfmeasure,\n            categoryId: category[0].categoryId,\n            userId: existingUser[0].userId,\n            reorderLevel: Number(reorderLevel)\n        };\n        await db.insert(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_1__.items).values(payload);\n        return {\n            status: 'success',\n            message: 'Item succesfully added'\n        };\n    }),\n    updateItem: _trpc__WEBPACK_IMPORTED_MODULE_0__.publicProcedure.input(_validation_newItemValidation__WEBPACK_IMPORTED_MODULE_6__.updateItemValidation).mutation(async ({ ctx, input })=>{\n        const { itemId, itemName, unitOfmeasure, reorderLevel } = input;\n        const { db } = ctx;\n        const existingItem = await db.select().from(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_1__.items).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.eq)(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_1__.items.itemId, itemId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.eq)(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_1__.items.status, 'active')));\n        if (!existingItem.length) return {\n            status: 'error',\n            message: 'Item not found'\n        };\n        await db.update(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_1__.items).set({\n            itemName: itemName,\n            unitOfMeasure: unitOfmeasure,\n            reorderLevel: Number(reorderLevel)\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.eq)(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_1__.items.itemId, itemId));\n        return {\n            status: 'success',\n            message: 'Item updated succesfully'\n        };\n    }),\n    deleteItem: _trpc__WEBPACK_IMPORTED_MODULE_0__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_7__.z.object({\n        itemId: zod__WEBPACK_IMPORTED_MODULE_7__.z.string().min(2, {\n            message: 'ItemId is required'\n        })\n    })).mutation(async ({ ctx, input })=>{\n        const { itemId } = input;\n        const { db } = ctx;\n        const existingItem = await db.select().from(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_1__.items).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.eq)(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_1__.items.itemId, itemId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.eq)(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_1__.items.status, 'active')));\n        if (!existingItem.length) return {\n            status: 'error',\n            message: 'Item not found'\n        };\n        await db.update(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_1__.items).set({\n            status: 'deleted'\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.eq)(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_1__.items.itemId, itemId));\n        return {\n            status: 'success',\n            message: 'Item succesfully deleted'\n        };\n    }),\n    listItems: _trpc__WEBPACK_IMPORTED_MODULE_0__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_7__.z.object({\n        userId: zod__WEBPACK_IMPORTED_MODULE_7__.z.string()\n    })).query(async ({ ctx, input })=>{\n        const { userId } = input;\n        const res = await ctx.db.select().from(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_1__.items).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.eq)(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_1__.items.userId, userId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.eq)(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_1__.items.status, 'active')));\n        return res;\n    }),\n    listItemsByCategory: _trpc__WEBPACK_IMPORTED_MODULE_0__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_7__.z.object({\n        categoryId: zod__WEBPACK_IMPORTED_MODULE_7__.z.string().optional(),\n        page: zod__WEBPACK_IMPORTED_MODULE_7__.z.string()\n    })).query(async ({ ctx, input })=>{\n        const { categoryId, page } = input;\n        const { db } = ctx;\n        const offset = +page * _lib_const__WEBPACK_IMPORTED_MODULE_4__.PAGE_SIZE;\n        let conditions = [\n            (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.eq)(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_1__.items.status, 'active')\n        ];\n        if (categoryId && categoryId !== 'all') {\n            conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.eq)(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_1__.items.categoryId, categoryId));\n        }\n        const itemsQuery = db.select().from(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_1__.items).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.and)(...conditions)).leftJoin(_server_db_schema_categories__WEBPACK_IMPORTED_MODULE_3__.categories, (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.eq)(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_1__.items.categoryId, _server_db_schema_categories__WEBPACK_IMPORTED_MODULE_3__.categories.categoryId)).limit(_lib_const__WEBPACK_IMPORTED_MODULE_4__.PAGE_SIZE).offset(offset);\n        const countQuery = db.select({\n            value: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.count)()\n        }).from(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_1__.items).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.and)(...conditions));\n        const [itemsResult, countResult] = await Promise.all([\n            itemsQuery,\n            countQuery\n        ]);\n        return {\n            items: itemsResult,\n            count: countResult[0].value\n        };\n    }),\n    getItemDetails: _trpc__WEBPACK_IMPORTED_MODULE_0__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_7__.z.object({\n        itemId: zod__WEBPACK_IMPORTED_MODULE_7__.z.string().min(1, {\n            message: 'Item id is required'\n        })\n    })).query(async ({ ctx, input })=>{\n        const { itemId } = input;\n        const { db } = ctx;\n        const existingItem = await db.select().from(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_1__.items).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.eq)(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_1__.items.itemId, itemId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.eq)(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_1__.items.status, 'active')));\n        if (!existingItem.length) return {\n            status: 'error',\n            message: 'Item not found'\n        };\n        return {\n            status: 'success',\n            item: existingItem[0]\n        };\n    }),\n    quantityInStock: _trpc__WEBPACK_IMPORTED_MODULE_0__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_7__.z.object({\n        itemId: zod__WEBPACK_IMPORTED_MODULE_7__.z.string()\n    })).query(async ({ ctx, input })=>{\n        const { itemId } = input;\n        const itemInventory = await ctx.db.select({\n            quantityInStock: _server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_2__.inventory.quantityInStock,\n            uom: _server_db_schema_items__WEBPACK_IMPORTED_MODULE_1__.items.unitOfMeasure,\n            sellingprice: _server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_2__.inventory.sellingPrice\n        }).from(_server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_2__.inventory).leftJoin(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_1__.items, (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.eq)(_server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_2__.inventory.itemId, _server_db_schema_items__WEBPACK_IMPORTED_MODULE_1__.items.itemId)).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.eq)(_server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_2__.inventory.itemId, itemId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.eq)(_server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_2__.inventory.status, 'active'), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.gt)(_server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_2__.inventory.quantityInStock, 0))).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_10__.desc)(_server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_2__.inventory.lastUpdated));\n        const quantityInStock = itemInventory.reduce((start, item)=>item.quantityInStock + start, 0);\n        const uom = itemInventory[0].uom;\n        const sellingPrice = itemInventory[itemInventory.length - 1].sellingprice;\n        return {\n            uom,\n            sellingPrice,\n            quantityInStock\n        };\n    })\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL2FwaS9yb3V0ZXJzL2l0ZW1zLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUF3QjtBQUNvQztBQUNDO0FBQ047QUFDRTtBQUNFO0FBQ25CO0FBQ1M7QUFDd0M7QUFFbEYsTUFBTWUsY0FBY2QsdURBQWdCQSxDQUFDO0lBQ3pDZSxZQUFZZCxrREFBZUEsQ0FDdkJlLEtBQUssQ0FBQ0osNEVBQWlCQSxDQUFDSyxNQUFNLENBQUM7UUFBRUMsUUFBUW5CLGtDQUFDQSxDQUFDb0IsTUFBTTtJQUFHLElBQ3BEQyxRQUFRLENBQUMsT0FBTyxFQUFFQyxHQUFHLEVBQUVMLEtBQUssRUFBRTtRQUM1QixNQUFNLEVBQUVFLE1BQU0sRUFBRUksUUFBUSxFQUFFQyxVQUFVLEVBQUVDLFlBQVksRUFBRUMsYUFBYSxFQUFFLEdBQUdUO1FBQ3RFLE1BQU0sRUFBRVUsRUFBRSxFQUFFLEdBQUdMO1FBRWYsTUFBTU0sZUFBZSxNQUFNRCxHQUFHRSxNQUFNLEdBQUdDLElBQUksQ0FBQ2xCLDBEQUFLQSxFQUFFbUIsS0FBSyxDQUFDeEIsK0NBQUVBLENBQUNLLDBEQUFLQSxDQUFDTyxNQUFNLEVBQUVBO1FBQzFFLElBQUksQ0FBQ1MsY0FBYztZQUNoQixPQUFPO2dCQUNKSSxRQUFRO2dCQUNSQyxTQUFTO1lBQ1o7UUFDSDtRQUVBLE1BQU1DLFdBQVcsTUFBTVAsR0FDbkJFLE1BQU0sR0FDTkMsSUFBSSxDQUFDcEIsb0VBQVVBLEVBQ2ZxQixLQUFLLENBQUN4QiwrQ0FBRUEsQ0FBQ0csb0VBQVVBLENBQUNjLFVBQVUsRUFBRUE7UUFDcEMsSUFBSSxDQUFDVSxVQUFVO1lBQ1osT0FBTztnQkFDSkYsUUFBUTtnQkFDUkMsU0FBUztZQUNaO1FBQ0g7UUFFQSxNQUFNRSxVQUFzQjtZQUN6Qlo7WUFDQWEsZUFBZVY7WUFDZkYsWUFBWVUsUUFBUSxDQUFDLEVBQUUsQ0FBQ1YsVUFBVTtZQUNsQ0wsUUFBUVMsWUFBWSxDQUFDLEVBQUUsQ0FBQ1QsTUFB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QjVELGtFQUFTQSxDQUFDNEQsZUFBZTtZQUMxQ0UsS0FBS3BFLDBEQUFLQSxDQUFDaUMsYUFBYTtZQUN4Qm9DLGNBQWMvRCxrRUFBU0EsQ0FBQ2dFLFlBQVk7UUFDdkMsR0FDQzNDLElBQUksQ0FBQ3JCLGtFQUFTQSxFQUNka0QsUUFBUSxDQUFDeEQsMERBQUtBLEVBQUVJLCtDQUFFQSxDQUFDRSxrRUFBU0EsQ0FBQ2dDLE1BQU0sRUFBRXRDLDBEQUFLQSxDQUFDc0MsTUFBTSxHQUNqRFYsS0FBSyxDQUNIM0IsZ0RBQUdBLENBQ0FHLCtDQUFFQSxDQUFDRSxrRUFBU0EsQ0FBQ2dDLE1BQU0sRUFBRUEsU0FDckJsQywrQ0FBRUEsQ0FBQ0Usa0VBQVNBLENBQUN1QixNQUFNLEVBQUUsV0FDckJ4QiwrQ0FBRUEsQ0FBQ0Msa0VBQVNBLENBQUM0RCxlQUFlLEVBQUUsS0FHbkNLLE9BQU8sQ0FBQ3BFLGtEQUFJQSxDQUFDRyxrRUFBU0EsQ0FBQ2tFLFdBQVc7UUFFdEMsTUFBTU4sa0JBQWtCQyxjQUFjTSxNQUFNLENBQ3pDLENBQUNDLE9BQU9ULE9BQVNBLEtBQUtDLGVBQWUsR0FBR1EsT0FDeEM7UUFFSCxNQUFNTixNQUFNRCxhQUFhLENBQUMsRUFBRSxDQUFDQyxHQUFHO1FBQ2hDLE1BQU1FLGVBQWVILGFBQWEsQ0FBQ0EsY0FBYzNCLE1BQU0sR0FBRyxFQUFFLENBQUM2QixZQUFZO1FBRXpFLE9BQU87WUFBRUQ7WUFBS0U7WUFBY0o7UUFBZ0I7SUFDL0M7QUFDTixHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZlci9hcGkvcm91dGVycy9pdGVtcy50cz8yYjdkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuaW1wb3J0IHsgY3JlYXRlVFJQQ1JvdXRlciwgcHVibGljUHJvY2VkdXJlIH0gZnJvbSAnLi4vdHJwYyc7XG5pbXBvcnQgeyBJbnNlcnRJdGVtLCBpdGVtcyB9IGZyb20gJ0Avc2VydmVyL2RiL3NjaGVtYS9pdGVtcyc7XG5pbXBvcnQgeyBhbmQsIGNvdW50LCBkZXNjLCBlcSwgZ3QgfSBmcm9tICdkcml6emxlLW9ybSc7XG5pbXBvcnQgeyBpbnZlbnRvcnkgfSBmcm9tICdAL3NlcnZlci9kYi9zY2hlbWEvaW52ZW50b3J5JztcbmltcG9ydCB7IGNhdGVnb3JpZXMgfSBmcm9tICdAL3NlcnZlci9kYi9zY2hlbWEvY2F0ZWdvcmllcyc7XG5pbXBvcnQgeyBQQUdFX1NJWkUgfSBmcm9tICdAL2xpYi9jb25zdCc7XG5pbXBvcnQgeyB1c2VycyB9IGZyb20gJ0Avc2VydmVyL2RiL3NjaGVtYS91c2Vycyc7XG5pbXBvcnQgeyBOZXdJdGVtVmFsaWRhdGlvbiwgdXBkYXRlSXRlbVZhbGlkYXRpb24gfSBmcm9tICdAL3ZhbGlkYXRpb24vbmV3SXRlbVZhbGlkYXRpb24nO1xuXG5leHBvcnQgY29uc3QgaXRlbXNSb3V0ZXIgPSBjcmVhdGVUUlBDUm91dGVyKHtcbiAgIGNyZWF0ZUl0ZW06IHB1YmxpY1Byb2NlZHVyZVxuICAgICAgLmlucHV0KE5ld0l0ZW1WYWxpZGF0aW9uLmV4dGVuZCh7IHVzZXJJZDogei5zdHJpbmcoKSB9KSlcbiAgICAgIC5tdXRhdGlvbihhc3luYyAoeyBjdHgsIGlucHV0IH0pID0+IHtcbiAgICAgICAgIGNvbnN0IHsgdXNlcklkLCBpdGVtTmFtZSwgY2F0ZWdvcnlJZCwgcmVvcmRlckxldmVsLCB1bml0T2ZtZWFzdXJlIH0gPSBpbnB1dDtcbiAgICAgICAgIGNvbnN0IHsgZGIgfSA9IGN0eDtcblxuICAgICAgICAgY29uc3QgZXhpc3RpbmdVc2VyID0gYXdhaXQgZGIuc2VsZWN0KCkuZnJvbSh1c2Vycykud2hlcmUoZXEodXNlcnMudXNlcklkLCB1c2VySWQpKTtcbiAgICAgICAgIGlmICghZXhpc3RpbmdVc2VyKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InIGFzIGNvbnN0LFxuICAgICAgICAgICAgICAgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICB9XG5cbiAgICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gYXdhaXQgZGJcbiAgICAgICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAgICAgLmZyb20oY2F0ZWdvcmllcylcbiAgICAgICAgICAgIC53aGVyZShlcShjYXRlZ29yaWVzLmNhdGVnb3J5SWQsIGNhdGVnb3J5SWQpKTtcbiAgICAgICAgIGlmICghY2F0ZWdvcnkpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicgYXMgY29uc3QsXG4gICAgICAgICAgICAgICBtZXNzYWdlOiAnQ2F0ZWdvcnkgbm90IGZvdW5kJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICB9XG5cbiAgICAgICAgIGNvbnN0IHBheWxvYWQ6IEluc2VydEl0ZW0gPSB7XG4gICAgICAgICAgICBpdGVtTmFtZSxcbiAgICAgICAgICAgIHVuaXRPZk1lYXN1cmU6IHVuaXRPZm1lYXN1cmUsXG4gICAgICAgICAgICBjYXRlZ29yeUlkOiBjYXRlZ29yeVswXS5jYXRlZ29yeUlkLFxuICAgICAgICAgICAgdXNlcklkOiBleGlzdGluZ1VzZXJbMF0udXNlcklkLFxuICAgICAgICAgICAgcmVvcmRlckxldmVsOiBOdW1iZXIocmVvcmRlckxldmVsKSxcbiAgICAgICAgIH07XG4gICAgICAgICBhd2FpdCBkYi5pbnNlcnQoaXRlbXMpLnZhbHVlcyhwYXlsb2FkKTtcblxuICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnIGFzIGNvbnN0LFxuICAgICAgICAgICAgbWVzc2FnZTogJ0l0ZW0gc3VjY2VzZnVsbHkgYWRkZWQnLFxuICAgICAgICAgfTtcbiAgICAgIH0pLFxuXG4gICB1cGRhdGVJdGVtOiBwdWJsaWNQcm9jZWR1cmUuaW5wdXQodXBkYXRlSXRlbVZhbGlkYXRpb24pLm11dGF0aW9uKGFzeW5jICh7IGN0eCwgaW5wdXQgfSkgPT4ge1xuICAgICAgY29uc3QgeyBpdGVtSWQsIGl0ZW1OYW1lLCB1bml0T2ZtZWFzdXJlLCByZW9yZGVyTGV2ZWwgfSA9IGlucHV0O1xuICAgICAgY29uc3QgeyBkYiB9ID0gY3R4O1xuXG4gICAgICBjb25zdCBleGlzdGluZ0l0ZW0gPSBhd2FpdCBkYlxuICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAuZnJvbShpdGVtcylcbiAgICAgICAgIC53aGVyZShhbmQoZXEoaXRlbXMuaXRlbUlkLCBpdGVtSWQpLCBlcShpdGVtcy5zdGF0dXMsICdhY3RpdmUnKSkpO1xuICAgICAgaWYgKCFleGlzdGluZ0l0ZW0ubGVuZ3RoKVxuICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyBhcyBjb25zdCxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdJdGVtIG5vdCBmb3VuZCcsXG4gICAgICAgICB9O1xuXG4gICAgICBhd2FpdCBkYlxuICAgICAgICAgLnVwZGF0ZShpdGVtcylcbiAgICAgICAgIC5zZXQoe1xuICAgICAgICAgICAgaXRlbU5hbWU6IGl0ZW1OYW1lLFxuICAgICAgICAgICAgdW5pdE9mTWVhc3VyZTogdW5pdE9mbWVhc3VyZSxcbiAgICAgICAgICAgIHJlb3JkZXJMZXZlbDogTnVtYmVyKHJlb3JkZXJMZXZlbCksXG4gICAgICAgICB9KVxuICAgICAgICAgLndoZXJlKGVxKGl0ZW1zLml0ZW1JZCwgaXRlbUlkKSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyBhcyBjb25zdCxcbiAgICAgICAgIG1lc3NhZ2U6ICdJdGVtIHVwZGF0ZWQgc3VjY2VzZnVsbHknLFxuICAgICAgfTtcbiAgIH0pLFxuXG4gICBkZWxldGVJdGVtOiBwdWJsaWNQcm9jZWR1cmVcbiAgICAgIC5pbnB1dChcbiAgICAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgICAgIGl0ZW1JZDogei5zdHJpbmcoKS5taW4oMiwgeyBtZXNzYWdlOiAnSXRlbUlkIGlzIHJlcXVpcmVkJyB9KSxcbiAgICAgICAgIH0pLFxuICAgICAgKVxuICAgICAgLm11dGF0aW9uKGFzeW5jICh7IGN0eCwgaW5wdXQgfSkgPT4ge1xuICAgICAgICAgY29uc3QgeyBpdGVtSWQgfSA9IGlucHV0O1xuICAgICAgICAgY29uc3QgeyBkYiB9ID0gY3R4O1xuXG4gICAgICAgICBjb25zdCBleGlzdGluZ0l0ZW0gPSBhd2FpdCBkYlxuICAgICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgICAuZnJvbShpdGVtcylcbiAgICAgICAgICAgIC53aGVyZShhbmQoZXEoaXRlbXMuaXRlbUlkLCBpdGVtSWQpLCBlcShpdGVtcy5zdGF0dXMsICdhY3RpdmUnKSkpO1xuICAgICAgICAgaWYgKCFleGlzdGluZ0l0ZW0ubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdJdGVtIG5vdCBmb3VuZCcsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICBhd2FpdCBkYi51cGRhdGUoaXRlbXMpLnNldCh7IHN0YXR1czogJ2RlbGV0ZWQnIH0pLndoZXJlKGVxKGl0ZW1zLml0ZW1JZCwgaXRlbUlkKSk7XG5cbiAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyBhcyBjb25zdCxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdJdGVtIHN1Y2Nlc2Z1bGx5IGRlbGV0ZWQnLFxuICAgICAgICAgfTtcbiAgICAgIH0pLFxuXG4gICBsaXN0SXRlbXM6IHB1YmxpY1Byb2NlZHVyZVxuICAgICAgLmlucHV0KFxuICAgICAgICAgei5vYmplY3Qoe1xuICAgICAgICAgICAgdXNlcklkOiB6LnN0cmluZygpLFxuICAgICAgICAgfSksXG4gICAgICApXG4gICAgICAucXVlcnkoYXN5bmMgKHsgY3R4LCBpbnB1dCB9KSA9PiB7XG4gICAgICAgICBjb25zdCB7IHVzZXJJZCB9ID0gaW5wdXQ7XG4gICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBjdHguZGJcbiAgICAgICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAgICAgLmZyb20oaXRlbXMpXG4gICAgICAgICAgICAud2hlcmUoYW5kKGVxKGl0ZW1zLnVzZXJJZCwgdXNlcklkKSwgZXEoaXRlbXMuc3RhdHVzLCAnYWN0aXZlJykpKTtcblxuICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH0pLFxuXG4gICBsaXN0SXRlbXNCeUNhdGVnb3J5OiBwdWJsaWNQcm9jZWR1cmVcbiAgICAgIC5pbnB1dChcbiAgICAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgICAgIGNhdGVnb3J5SWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIHBhZ2U6IHouc3RyaW5nKCksXG4gICAgICAgICB9KSxcbiAgICAgIClcbiAgICAgIC5xdWVyeShhc3luYyAoeyBjdHgsIGlucHV0IH0pID0+IHtcbiAgICAgICAgIGNvbnN0IHsgY2F0ZWdvcnlJZCwgcGFnZSB9ID0gaW5wdXQ7XG4gICAgICAgICBjb25zdCB7IGRiIH0gPSBjdHg7XG5cbiAgICAgICAgIGNvbnN0IG9mZnNldCA9ICtwYWdlICogUEFHRV9TSVpFO1xuXG4gICAgICAgICBsZXQgY29uZGl0aW9ucyA9IFtlcShpdGVtcy5zdGF0dXMsICdhY3RpdmUnKV07XG5cbiAgICAgICAgIGlmIChjYXRlZ29yeUlkICYmIGNhdGVnb3J5SWQgIT09ICdhbGwnKSB7XG4gICAgICAgICAgICBjb25kaXRpb25zLnB1c2goZXEoaXRlbXMuY2F0ZWdvcnlJZCwgY2F0ZWdvcnlJZCkpO1xuICAgICAgICAgfVxuXG4gICAgICAgICBjb25zdCBpdGVtc1F1ZXJ5ID0gZGJcbiAgICAgICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAgICAgLmZyb20oaXRlbXMpXG4gICAgICAgICAgICAud2hlcmUoYW5kKC4uLmNvbmRpdGlvbnMpKVxuICAgICAgICAgICAgLmxlZnRKb2luKGNhdGVnb3JpZXMsIGVxKGl0ZW1zLmNhdGVnb3J5SWQsIGNhdGVnb3JpZXMuY2F0ZWdvcnlJZCkpXG4gICAgICAgICAgICAubGltaXQoUEFHRV9TSVpFKVxuICAgICAgICAgICAgLm9mZnNldChvZmZzZXQpO1xuXG4gICAgICAgICBjb25zdCBjb3VudFF1ZXJ5ID0gZGJcbiAgICAgICAgICAgIC5zZWxlY3QoeyB2YWx1ZTogY291bnQoKSB9KVxuICAgICAgICAgICAgLmZyb20oaXRlbXMpXG4gICAgICAgICAgICAud2hlcmUoYW5kKC4uLmNvbmRpdGlvbnMpKTtcblxuICAgICAgICAgY29uc3QgW2l0ZW1zUmVzdWx0LCBjb3VudFJlc3VsdF0gPSBhd2FpdCBQcm9taXNlLmFsbChbaXRlbXNRdWVyeSwgY291bnRRdWVyeV0pO1xuXG4gICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXRlbXM6IGl0ZW1zUmVzdWx0LFxuICAgICAgICAgICAgY291bnQ6IGNvdW50UmVzdWx0WzBdLnZhbHVlLFxuICAgICAgICAgfTtcbiAgICAgIH0pLFxuXG4gICBnZXRJdGVtRGV0YWlsczogcHVibGljUHJvY2VkdXJlXG4gICAgICAuaW5wdXQoXG4gICAgICAgICB6Lm9iamVjdCh7XG4gICAgICAgICAgICBpdGVtSWQ6IHouc3RyaW5nKCkubWluKDEsIHsgbWVzc2FnZTogJ0l0ZW0gaWQgaXMgcmVxdWlyZWQnIH0pLFxuICAgICAgICAgfSksXG4gICAgICApXG4gICAgICAucXVlcnkoYXN5bmMgKHsgY3R4LCBpbnB1dCB9KSA9PiB7XG4gICAgICAgICBjb25zdCB7IGl0ZW1JZCB9ID0gaW5wdXQ7XG4gICAgICAgICBjb25zdCB7IGRiIH0gPSBjdHg7XG5cbiAgICAgICAgIGNvbnN0IGV4aXN0aW5nSXRlbSA9IGF3YWl0IGRiXG4gICAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAgIC5mcm9tKGl0ZW1zKVxuICAgICAgICAgICAgLndoZXJlKGFuZChlcShpdGVtcy5pdGVtSWQsIGl0ZW1JZCksIGVxKGl0ZW1zLnN0YXR1cywgJ2FjdGl2ZScpKSk7XG5cbiAgICAgICAgIGlmICghZXhpc3RpbmdJdGVtLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicgYXMgY29uc3QsXG4gICAgICAgICAgICAgICBtZXNzYWdlOiAnSXRlbSBub3QgZm91bmQnLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnIGFzIGNvbnN0LFxuICAgICAgICAgICAgaXRlbTogZXhpc3RpbmdJdGVtWzBdLFxuICAgICAgICAgfTtcbiAgICAgIH0pLFxuXG4gICBxdWFudGl0eUluU3RvY2s6IHB1YmxpY1Byb2NlZHVyZVxuICAgICAgLmlucHV0KFxuICAgICAgICAgei5vYmplY3Qoe1xuICAgICAgICAgICAgaXRlbUlkOiB6LnN0cmluZygpLFxuICAgICAgICAgfSksXG4gICAgICApXG4gICAgICAucXVlcnkoYXN5bmMgKHsgY3R4LCBpbnB1dCB9KSA9PiB7XG4gICAgICAgICBjb25zdCB7IGl0ZW1JZCB9ID0gaW5wdXQ7XG4gICAgICAgICBjb25zdCBpdGVtSW52ZW50b3J5ID0gYXdhaXQgY3R4LmRiXG4gICAgICAgICAgICAuc2VsZWN0KHtcbiAgICAgICAgICAgICAgIHF1YW50aXR5SW5TdG9jazogaW52ZW50b3J5LnF1YW50aXR5SW5TdG9jayxcbiAgICAgICAgICAgICAgIHVvbTogaXRlbXMudW5pdE9mTWVhc3VyZSxcbiAgICAgICAgICAgICAgIHNlbGxpbmdwcmljZTogaW52ZW50b3J5LnNlbGxpbmdQcmljZSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZnJvbShpbnZlbnRvcnkpXG4gICAgICAgICAgICAubGVmdEpvaW4oaXRlbXMsIGVxKGludmVudG9yeS5pdGVtSWQsIGl0ZW1zLml0ZW1JZCkpXG4gICAgICAgICAgICAud2hlcmUoXG4gICAgICAgICAgICAgICBhbmQoXG4gICAgICAgICAgICAgICAgICBlcShpbnZlbnRvcnkuaXRlbUlkLCBpdGVtSWQpLFxuICAgICAgICAgICAgICAgICAgZXEoaW52ZW50b3J5LnN0YXR1cywgJ2FjdGl2ZScpLFxuICAgICAgICAgICAgICAgICAgZ3QoaW52ZW50b3J5LnF1YW50aXR5SW5TdG9jaywgMCksXG4gICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLm9yZGVyQnkoZGVzYyhpbnZlbnRvcnkubGFzdFVwZGF0ZWQpKTtcblxuICAgICAgICAgY29uc3QgcXVhbnRpdHlJblN0b2NrID0gaXRlbUludmVudG9yeS5yZWR1Y2UoXG4gICAgICAgICAgICAoc3RhcnQsIGl0ZW0pID0+IGl0ZW0ucXVhbnRpdHlJblN0b2NrICsgc3RhcnQsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgKTtcbiAgICAgICAgIGNvbnN0IHVvbSA9IGl0ZW1JbnZlbnRvcnlbMF0udW9tO1xuICAgICAgICAgY29uc3Qgc2VsbGluZ1ByaWNlID0gaXRlbUludmVudG9yeVtpdGVtSW52ZW50b3J5Lmxlbmd0aCAtIDFdLnNlbGxpbmdwcmljZTtcblxuICAgICAgICAgcmV0dXJuIHsgdW9tLCBzZWxsaW5nUHJpY2UsIHF1YW50aXR5SW5TdG9jayB9O1xuICAgICAgfSksXG59KTtcbiJdLCJuYW1lcyI6WyJ6IiwiY3JlYXRlVFJQQ1JvdXRlciIsInB1YmxpY1Byb2NlZHVyZSIsIml0ZW1zIiwiYW5kIiwiY291bnQiLCJkZXNjIiwiZXEiLCJndCIsImludmVudG9yeSIsImNhdGVnb3JpZXMiLCJQQUdFX1NJWkUiLCJ1c2VycyIsIk5ld0l0ZW1WYWxpZGF0aW9uIiwidXBkYXRlSXRlbVZhbGlkYXRpb24iLCJpdGVtc1JvdXRlciIsImNyZWF0ZUl0ZW0iLCJpbnB1dCIsImV4dGVuZCIsInVzZXJJZCIsInN0cmluZyIsIm11dGF0aW9uIiwiY3R4IiwiaXRlbU5hbWUiLCJjYXRlZ29yeUlkIiwicmVvcmRlckxldmVsIiwidW5pdE9mbWVhc3VyZSIsImRiIiwiZXhpc3RpbmdVc2VyIiwic2VsZWN0IiwiZnJvbSIsIndoZXJlIiwic3RhdHVzIiwibWVzc2FnZSIsImNhdGVnb3J5IiwicGF5bG9hZCIsInVuaXRPZk1lYXN1cmUiLCJOdW1iZXIiLCJpbnNlcnQiLCJ2YWx1ZXMiLCJ1cGRhdGVJdGVtIiwiaXRlbUlkIiwiZXhpc3RpbmdJdGVtIiwibGVuZ3RoIiwidXBkYXRlIiwic2V0IiwiZGVsZXRlSXRlbSIsIm9iamVjdCIsIm1pbiIsImxpc3RJdGVtcyIsInF1ZXJ5IiwicmVzIiwibGlzdEl0ZW1zQnlDYXRlZ29yeSIsIm9wdGlvbmFsIiwicGFnZSIsIm9mZnNldCIsImNvbmRpdGlvbnMiLCJwdXNoIiwiaXRlbXNRdWVyeSIsImxlZnRKb2luIiwibGltaXQiLCJjb3VudFF1ZXJ5IiwidmFsdWUiLCJpdGVtc1Jlc3VsdCIsImNvdW50UmVzdWx0IiwiUHJvbWlzZSIsImFsbCIsImdldEl0ZW1EZXRhaWxzIiwiaXRlbSIsInF1YW50aXR5SW5TdG9jayIsIml0ZW1JbnZlbnRvcnkiLCJ1b20iLCJzZWxsaW5ncHJpY2UiLCJzZWxsaW5nUHJpY2UiLCJvcmRlckJ5IiwibGFzdFVwZGF0ZWQiLCJyZWR1Y2UiLCJzdGFydCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/server/api/routers/items.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/api/routers/sales.ts":
/*!*****************************************!*\
  !*** ./src/server/api/routers/sales.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   salesRouter: () => (/* binding */ salesRouter)\n/* harmony export */ });\n/* harmony import */ var _server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/server/db/schema/sales */ \"(rsc)/./src/server/db/schema/sales.ts\");\n/* harmony import */ var _trpc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../trpc */ \"(rsc)/./src/server/api/trpc.ts\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/.pnpm/zod@3.23.8/node_modules/zod/lib/index.mjs\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/sql/expressions/conditions.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/sql/expressions/select.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/sql/functions/aggregate.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/sql/sql.js\");\n/* harmony import */ var _server_db_schema_customers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/server/db/schema/customers */ \"(rsc)/./src/server/db/schema/customers.ts\");\n/* harmony import */ var _server_db_schema_users__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/server/db/schema/users */ \"(rsc)/./src/server/db/schema/users.ts\");\n/* harmony import */ var _server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/server/db/schema/inventory */ \"(rsc)/./src/server/db/schema/inventory.ts\");\n/* harmony import */ var _server_db_schema_salesItems__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/server/db/schema/salesItems */ \"(rsc)/./src/server/db/schema/salesItems.ts\");\n/* harmony import */ var _server_db_schema_creditDebt__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/server/db/schema/creditDebt */ \"(rsc)/./src/server/db/schema/creditDebt.ts\");\n/* harmony import */ var _lib_const__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/const */ \"(rsc)/./src/lib/const.ts\");\n\n\n\n\n\n\n\n\n\n\nconst salesRouter = (0,_trpc__WEBPACK_IMPORTED_MODULE_1__.createTRPCRouter)({\n    listSales: _trpc__WEBPACK_IMPORTED_MODULE_1__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_8__.z.object({\n        startDate: zod__WEBPACK_IMPORTED_MODULE_8__.z.string().optional(),\n        endDate: zod__WEBPACK_IMPORTED_MODULE_8__.z.string().optional(),\n        paymentMethod: zod__WEBPACK_IMPORTED_MODULE_8__.z.enum([\n            'cash',\n            'credit',\n            'mpesa'\n        ]).optional(),\n        customerId: zod__WEBPACK_IMPORTED_MODULE_8__.z.string().optional(),\n        page: zod__WEBPACK_IMPORTED_MODULE_8__.z.string().optional()\n    })).query(async ({ ctx, input })=>{\n        const startDate = input.startDate ?? new Date(2010, 0, 1).toISOString();\n        const endDate = input.endDate ?? new Date().toISOString();\n        const conditions = [\n            (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.between)(_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales.salesDate, startDate, endDate)\n        ];\n        if (input.paymentMethod) {\n            conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.eq)(_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales.paymentOption, input.paymentMethod));\n        }\n        if (input.customerId) {\n            conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.eq)(_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales.customerId, input.customerId));\n        }\n        const res = await ctx.db.select().from(_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.and)(...conditions, (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.eq)(_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales.status, 'active'))).leftJoin(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_2__.customers, (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.eq)(_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales.customerId, _server_db_schema_customers__WEBPACK_IMPORTED_MODULE_2__.customers.customerId)).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_10__.desc)(_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales.salesDate)).execute();\n        return {\n            status: 'success',\n            sales: res\n        };\n    }),\n    listPaginatedSales: _trpc__WEBPACK_IMPORTED_MODULE_1__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_8__.z.object({\n        startDate: zod__WEBPACK_IMPORTED_MODULE_8__.z.string().optional(),\n        endDate: zod__WEBPACK_IMPORTED_MODULE_8__.z.string().optional(),\n        paymentMethod: zod__WEBPACK_IMPORTED_MODULE_8__.z.enum([\n            'cash',\n            'credit',\n            'mpesa'\n        ]).optional(),\n        customerId: zod__WEBPACK_IMPORTED_MODULE_8__.z.string().optional(),\n        page: zod__WEBPACK_IMPORTED_MODULE_8__.z.string()\n    })).query(async ({ ctx, input })=>{\n        const startDate = input.startDate ?? new Date(2010, 0, 1).toISOString();\n        const endDate = input.endDate ?? new Date().toISOString();\n        const conditions = [\n            (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.between)(_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales.salesDate, startDate, endDate)\n        ];\n        if (input.paymentMethod) {\n            conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.eq)(_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales.paymentOption, input.paymentMethod));\n        }\n        if (input.customerId) {\n            conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.eq)(_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales.customerId, input.customerId));\n        }\n        const offset = +input.page * _lib_const__WEBPACK_IMPORTED_MODULE_7__.PAGE_SIZE;\n        const salesQuery = ctx.db.select().from(_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.and)(...conditions, (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.eq)(_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales.status, 'active'))).leftJoin(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_2__.customers, (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.eq)(_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales.customerId, _server_db_schema_customers__WEBPACK_IMPORTED_MODULE_2__.customers.customerId)).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_10__.desc)(_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales.salesDate)).limit(_lib_const__WEBPACK_IMPORTED_MODULE_7__.PAGE_SIZE).offset(offset);\n        const countQuery = ctx.db.select({\n            value: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_11__.count)()\n        }).from(_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.and)(...conditions, (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.eq)(_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales.status, 'active')));\n        const [salesResult, countResult] = await Promise.all([\n            salesQuery.execute(),\n            countQuery.execute()\n        ]);\n        const totalCount = countResult[0].value;\n        return {\n            sales: salesResult,\n            totalCount: totalCount\n        };\n    }),\n    deleteSale: _trpc__WEBPACK_IMPORTED_MODULE_1__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_8__.z.object({\n        salesId: zod__WEBPACK_IMPORTED_MODULE_8__.z.string().min(2, {\n            message: 'Sales Id is required'\n        })\n    })).mutation(async ({ ctx, input })=>{\n        const { salesId } = input;\n        const salesInfo = await ctx.db.select().from(_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.eq)(_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales.salesId, salesId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.eq)(_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales.status, 'active')));\n        if (!salesInfo.length) {\n            return {\n                status: 'error',\n                message: 'Record not found'\n            };\n        }\n        const deletedSale = await ctx.db.update(_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales).set({\n            status: 'deleted'\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.eq)(_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales.salesId, salesId)).returning();\n        if (!deletedSale.length) {\n            return {\n                status: 'error',\n                message: 'Failed to delete, please try again'\n            };\n        }\n        const deletedItems = await ctx.db.update(_server_db_schema_salesItems__WEBPACK_IMPORTED_MODULE_5__.salesItems).set({\n            status: 'deleted'\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.eq)(_server_db_schema_salesItems__WEBPACK_IMPORTED_MODULE_5__.salesItems.salesId, deletedSale[0].salesId)).returning();\n        if (!deletedItems.length) {\n            return {\n                status: 'error',\n                message: 'Error deleting associated items,please contact customer care'\n            };\n        }\n        if (deletedSale[0].paymentOption === 'credit') {\n            const salesId = deletedSale[0].salesId;\n            const updatedCredit = await ctx.db.update(_server_db_schema_creditDebt__WEBPACK_IMPORTED_MODULE_6__.creditDebt).set({\n                status: 'deleted'\n            }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.eq)(_server_db_schema_creditDebt__WEBPACK_IMPORTED_MODULE_6__.creditDebt.salesId, salesId));\n            if (!updatedCredit.length) {\n                return {\n                    status: 'error',\n                    message: 'Error updating credit entry, please contact customer care'\n                };\n            }\n            return {\n                status: 'success',\n                message: 'Sales succesfully deleted'\n            };\n        }\n        return {\n            status: 'success',\n            message: 'Sales succesfully deleted!'\n        };\n    }),\n    listMonthlySales: _trpc__WEBPACK_IMPORTED_MODULE_1__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_8__.z.object({\n        startDate: zod__WEBPACK_IMPORTED_MODULE_8__.z.string().optional(),\n        endDate: zod__WEBPACK_IMPORTED_MODULE_8__.z.string().optional()\n    })).query(async ({ ctx, input })=>{\n        const defaultStartDate = new Date();\n        defaultStartDate.setFullYear(defaultStartDate.getFullYear() - 1);\n        const startDate = input.startDate ?? defaultStartDate.toISOString();\n        const endDate = input.endDate ?? new Date().toISOString();\n        const totalMonthlySales = await ctx.db.select({\n            month: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_12__.sql)`to_char(${_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales.salesDate}, 'YYYY-MM')`,\n            total: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_12__.sql)`sum(${_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales.totalCost})`\n        }).from(_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.between)(_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales.salesDate, startDate, endDate)).groupBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_12__.sql)`to_char(${_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales.salesDate}, 'YYYY-MM')`).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_12__.sql)`to_char(${_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales.salesDate}, 'YYYY-MM') ASC`);\n        return totalMonthlySales;\n    }),\n    newSales: _trpc__WEBPACK_IMPORTED_MODULE_1__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_8__.z.object({\n        userId: zod__WEBPACK_IMPORTED_MODULE_8__.z.string().min(1, {\n            message: 'user Id is required'\n        }),\n        salesDate: zod__WEBPACK_IMPORTED_MODULE_8__.z.string(),\n        paymentOption: zod__WEBPACK_IMPORTED_MODULE_8__.z.enum([\n            'cash',\n            'mpesa',\n            'credit'\n        ]).default('cash'),\n        customer: zod__WEBPACK_IMPORTED_MODULE_8__.z.string(),\n        items: zod__WEBPACK_IMPORTED_MODULE_8__.z.array(zod__WEBPACK_IMPORTED_MODULE_8__.z.object({\n            itemId: zod__WEBPACK_IMPORTED_MODULE_8__.z.string().min(2, {\n                message: 'invalid itemId'\n            }),\n            quantity: zod__WEBPACK_IMPORTED_MODULE_8__.z.number().min(1, {\n                message: 'Quantity should be greater than 1'\n            })\n        }))\n    })).mutation(async ({ ctx, input })=>{\n        return await ctx.db.transaction(async (tx)=>{\n            try {\n                const { customer, items, paymentOption, salesDate, userId } = input;\n                const user = await tx.select().from(_server_db_schema_users__WEBPACK_IMPORTED_MODULE_3__.users).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.eq)(_server_db_schema_users__WEBPACK_IMPORTED_MODULE_3__.users.userId, userId));\n                if (!user.length) {\n                    return {\n                        status: 'error',\n                        message: 'User not found'\n                    };\n                }\n                let customerId = undefined;\n                if (paymentOption === 'credit') {\n                    const salesCustomer = await ctx.db.select().from(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_2__.customers).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.eq)(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_2__.customers.customerId, customer), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.eq)(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_2__.customers.userId, userId)));\n                    if (!salesCustomer.length) {\n                        return {\n                            status: 'error',\n                            message: 'Customer not found'\n                        };\n                    }\n                    customerId = salesCustomer[0].customerId;\n                }\n                console.log('customerId', customerId);\n                let totalCost = 0;\n                const salesItemsToInsert = [];\n                for (const item of items){\n                    const { itemId, quantity } = item;\n                    const availableInventory = await ctx.db.select().from(_server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_4__.inventory).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.eq)(_server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_4__.inventory.itemId, itemId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.eq)(_server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_4__.inventory.status, 'active'), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.gt)(_server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_4__.inventory.quantityInStock, 0))).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_10__.asc)(_server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_4__.inventory.lastUpdated));\n                    if (!availableInventory.length) {\n                        return {\n                            status: 'error',\n                            message: `No inventory records for item ${itemId}`\n                        };\n                    }\n                    const totalQuantityInStock = availableInventory.reduce((start, item)=>item.quantityInStock + start, 0);\n                    if (!totalQuantityInStock || totalQuantityInStock < quantity) {\n                        return {\n                            status: 'error',\n                            message: `Insufficient quantity available for item ${itemId}`\n                        };\n                    }\n                    let remainingQuantity = quantity;\n                    let itemCost = 0;\n                    for (const invItem of availableInventory){\n                        if (invItem.quantityInStock > 0) {\n                            const deduction = Math.min(remainingQuantity, invItem.quantityInStock);\n                            invItem.quantityInStock -= deduction;\n                            remainingQuantity -= deduction;\n                            const deductionCost = deduction * Number(invItem.sellingPrice);\n                            itemCost += deductionCost;\n                            await tx.update(_server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_4__.inventory).set({\n                                quantityInStock: invItem.quantityInStock\n                            }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_9__.eq)(_server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_4__.inventory.inventoryId, invItem.inventoryId));\n                            salesItemsToInsert.push({\n                                itemId,\n                                inventoryId: invItem.inventoryId,\n                                salesQuantity: deduction,\n                                unitPrice: invItem.sellingPrice,\n                                totalPrice: String(deductionCost),\n                                status: 'active'\n                            });\n                            if (remainingQuantity === 0) break;\n                        }\n                    }\n                    totalCost += itemCost;\n                }\n                const salesPayload = {\n                    customerId: customerId,\n                    paymentOption: paymentOption,\n                    salesDate,\n                    status: 'active',\n                    totalCost: String(totalCost),\n                    userId: user[0].userId\n                };\n                const res = await ctx.db.insert(_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales).values(salesPayload).returning({\n                    salesId: _server_db_schema_sales__WEBPACK_IMPORTED_MODULE_0__.sales.salesId\n                });\n                if (!res.length) {\n                    return {\n                        status: 'error',\n                        message: 'Failed to record sales, check and try again'\n                    };\n                }\n                const salesId = res[0].salesId;\n                for (const salesItem of salesItemsToInsert){\n                    await tx.insert(_server_db_schema_salesItems__WEBPACK_IMPORTED_MODULE_5__.salesItems).values({\n                        ...salesItem,\n                        salesId\n                    });\n                }\n                if (paymentOption === 'credit') {\n                    const payload = {\n                        customerId,\n                        salesId,\n                        transactionAmount: String(totalCost),\n                        userId,\n                        transactionDate: salesDate,\n                        transactionType: 'credit'\n                    };\n                    await tx.insert(_server_db_schema_creditDebt__WEBPACK_IMPORTED_MODULE_6__.creditDebt).values(payload);\n                }\n                return {\n                    status: 'success',\n                    message: 'Sales succesfully recorded'\n                };\n            } catch (e) {\n                console.error(e);\n                return {\n                    status: 'Error',\n                    message: 'Error recording sales'\n                };\n            }\n        });\n    })\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0JBRTlCLEtBQUssTUFBTTZELGFBQWF4QixtQkFBb0I7b0JBQ3pDLE1BQU1OLEdBQUc0QixNQUFNLENBQUN2RyxvRUFBVUEsRUFBRXdHLE1BQU0sQ0FBQzt3QkFDaEMsR0FBR0MsU0FBUzt3QkFDWjdEO29CQUNIO2dCQUNIO2dCQUVBLElBQUl0QixrQkFBa0IsVUFBVTtvQkFDN0IsTUFBTW9GLFVBQTRCO3dCQUMvQjdGO3dCQUNBK0I7d0JBQ0ErRCxtQkFBbUJOLE9BQU90Qzt3QkFDMUJHO3dCQUNBMEMsaUJBQWlCeEY7d0JBQ2pCeUYsaUJBQWlCO29CQUNwQjtvQkFFQSxNQUFNbEMsR0FBRzRCLE1BQU0sQ0FBQ3RHLG9FQUFVQSxFQUFFdUcsTUFBTSxDQUFDRTtnQkFDdEM7Z0JBRUEsT0FBTztvQkFDSjlFLFFBQVE7b0JBQ1JrQixTQUFTO2dCQUNaO1lBQ0gsRUFBRSxPQUFPZ0UsR0FBRztnQkFDVC9CLFFBQVFnQyxLQUFLLENBQUNEO2dCQUNkLE9BQU87b0JBQ0psRixRQUFRO29CQUNSa0IsU0FBUztnQkFDWjtZQUNIO1FBQ0g7SUFDSDtBQUNOLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2FwaS9yb3V0ZXJzL3NhbGVzLnRzP2Q3NmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5zZXJ0U2FsZXMsIHNhbGVzIH0gZnJvbSAnQC9zZXJ2ZXIvZGIvc2NoZW1hL3NhbGVzJztcbmltcG9ydCB7IGNyZWF0ZVRSUENSb3V0ZXIsIHB1YmxpY1Byb2NlZHVyZSB9IGZyb20gJy4uL3RycGMnO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5pbXBvcnQgeyBhbmQsIGFzYywgYmV0d2VlbiwgY291bnQsIGRlc2MsIGVxLCBndCwgc3FsIH0gZnJvbSAnZHJpenpsZS1vcm0nO1xuaW1wb3J0IHsgY3VzdG9tZXJzIH0gZnJvbSAnQC9zZXJ2ZXIvZGIvc2NoZW1hL2N1c3RvbWVycyc7XG5pbXBvcnQgeyB1c2VycyB9IGZyb20gJ0Avc2VydmVyL2RiL3NjaGVtYS91c2Vycyc7XG5pbXBvcnQgeyBpbnZlbnRvcnkgfSBmcm9tICdAL3NlcnZlci9kYi9zY2hlbWEvaW52ZW50b3J5JztcbmltcG9ydCB7IEluc2VydFNhbGVzSXRlbSwgc2FsZXNJdGVtcyB9IGZyb20gJ0Avc2VydmVyL2RiL3NjaGVtYS9zYWxlc0l0ZW1zJztcbmltcG9ydCB7IGNyZWRpdERlYnQsIEluc2VydENyZWRpdERlYnQgfSBmcm9tICdAL3NlcnZlci9kYi9zY2hlbWEvY3JlZGl0RGVidCc7XG5pbXBvcnQgeyBQQUdFX1NJWkUgfSBmcm9tICdAL2xpYi9jb25zdCc7XG5cbmV4cG9ydCBjb25zdCBzYWxlc1JvdXRlciA9IGNyZWF0ZVRSUENSb3V0ZXIoe1xuICAgbGlzdFNhbGVzOiBwdWJsaWNQcm9jZWR1cmVcbiAgICAgIC5pbnB1dChcbiAgICAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgICAgIHN0YXJ0RGF0ZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgZW5kRGF0ZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgcGF5bWVudE1ldGhvZDogei5lbnVtKFsnY2FzaCcsICdjcmVkaXQnLCAnbXBlc2EnXSkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIGN1c3RvbWVySWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIHBhZ2U6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgIH0pLFxuICAgICAgKVxuICAgICAgLnF1ZXJ5KGFzeW5jICh7IGN0eCwgaW5wdXQgfSkgPT4ge1xuICAgICAgICAgY29uc3Qgc3RhcnREYXRlID0gaW5wdXQuc3RhcnREYXRlID8/IG5ldyBEYXRlKDIwMTAsIDAsIDEpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgICBjb25zdCBlbmREYXRlID0gaW5wdXQuZW5kRGF0ZSA/PyBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cbiAgICAgICAgIGNvbnN0IGNvbmRpdGlvbnMgPSBbYmV0d2VlbihzYWxlcy5zYWxlc0RhdGUsIHN0YXJ0RGF0ZSwgZW5kRGF0ZSldO1xuICAgICAgICAgaWYgKGlucHV0LnBheW1lbnRNZXRob2QpIHtcbiAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaChlcShzYWxlcy5wYXltZW50T3B0aW9uLCBpbnB1dC5wYXltZW50TWV0aG9kKSk7XG4gICAgICAgICB9XG5cbiAgICAgICAgIGlmIChpbnB1dC5jdXN0b21lcklkKSB7XG4gICAgICAgICAgICBjb25kaXRpb25zLnB1c2goZXEoc2FsZXMuY3VzdG9tZXJJZCwgaW5wdXQuY3VzdG9tZXJJZCkpO1xuICAgICAgICAgfVxuXG4gICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBjdHguZGJcbiAgICAgICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAgICAgLmZyb20oc2FsZXMpXG4gICAgICAgICAgICAud2hlcmUoYW5kKC4uLmNvbmRpdGlvbnMsIGVxKHNhbGVzLnN0YXR1cywgJ2FjdGl2ZScpKSlcbiAgICAgICAgICAgIC5sZWZ0Sm9pbihjdXN0b21lcnMsIGVxKHNhbGVzLmN1c3RvbWVySWQsIGN1c3RvbWVycy5jdXN0b21lcklkKSlcbiAgICAgICAgICAgIC5vcmRlckJ5KGRlc2Moc2FsZXMuc2FsZXNEYXRlKSlcbiAgICAgICAgICAgIC5leGVjdXRlKCk7XG5cbiAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyBhcyBjb25zdCxcbiAgICAgICAgICAgIHNhbGVzOiByZXMsXG4gICAgICAgICB9O1xuICAgICAgfSksXG5cbiAgIGxpc3RQYWdpbmF0ZWRTYWxlczogcHVibGljUHJvY2VkdXJlXG4gICAgICAuaW5wdXQoXG4gICAgICAgICB6Lm9iamVjdCh7XG4gICAgICAgICAgICBzdGFydERhdGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIGVuZERhdGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIHBheW1lbnRNZXRob2Q6IHouZW51bShbJ2Nhc2gnLCAnY3JlZGl0JywgJ21wZXNhJ10pLm9wdGlvbmFsKCksXG4gICAgICAgICAgICBjdXN0b21lcklkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICBwYWdlOiB6LnN0cmluZygpLFxuICAgICAgICAgfSksXG4gICAgICApXG4gICAgICAucXVlcnkoYXN5bmMgKHsgY3R4LCBpbnB1dCB9KSA9PiB7XG4gICAgICAgICBjb25zdCBzdGFydERhdGUgPSBpbnB1dC5zdGFydERhdGUgPz8gbmV3IERhdGUoMjAxMCwgMCwgMSkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgIGNvbnN0IGVuZERhdGUgPSBpbnB1dC5lbmREYXRlID8/IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblxuICAgICAgICAgY29uc3QgY29uZGl0aW9ucyA9IFtiZXR3ZWVuKHNhbGVzLnNhbGVzRGF0ZSwgc3RhcnREYXRlLCBlbmREYXRlKV07XG4gICAgICAgICBpZiAoaW5wdXQucGF5bWVudE1ldGhvZCkge1xuICAgICAgICAgICAgY29uZGl0aW9ucy5wdXNoKGVxKHNhbGVzLnBheW1lbnRPcHRpb24sIGlucHV0LnBheW1lbnRNZXRob2QpKTtcbiAgICAgICAgIH1cbiAgICAgICAgIGlmIChpbnB1dC5jdXN0b21lcklkKSB7XG4gICAgICAgICAgICBjb25kaXRpb25zLnB1c2goZXEoc2FsZXMuY3VzdG9tZXJJZCwgaW5wdXQuY3VzdG9tZXJJZCkpO1xuICAgICAgICAgfVxuXG4gICAgICAgICBjb25zdCBvZmZzZXQgPSAraW5wdXQucGFnZSAqIFBBR0VfU0laRTtcblxuICAgICAgICAgY29uc3Qgc2FsZXNRdWVyeSA9IGN0eC5kYlxuICAgICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgICAuZnJvbShzYWxlcylcbiAgICAgICAgICAgIC53aGVyZShhbmQoLi4uY29uZGl0aW9ucywgZXEoc2FsZXMuc3RhdHVzLCAnYWN0aXZlJykpKVxuICAgICAgICAgICAgLmxlZnRKb2luKGN1c3RvbWVycywgZXEoc2FsZXMuY3VzdG9tZXJJZCwgY3VzdG9tZXJzLmN1c3RvbWVySWQpKVxuICAgICAgICAgICAgLm9yZGVyQnkoZGVzYyhzYWxlcy5zYWxlc0RhdGUpKVxuICAgICAgICAgICAgLmxpbWl0KFBBR0VfU0laRSlcbiAgICAgICAgICAgIC5vZmZzZXQob2Zmc2V0KTtcblxuICAgICAgICAgY29uc3QgY291bnRRdWVyeSA9IGN0eC5kYlxuICAgICAgICAgICAgLnNlbGVjdCh7IHZhbHVlOiBjb3VudCgpIH0pXG4gICAgICAgICAgICAuZnJvbShzYWxlcylcbiAgICAgICAgICAgIC53aGVyZShhbmQoLi4uY29uZGl0aW9ucywgZXEoc2FsZXMuc3RhdHVzLCAnYWN0aXZlJykpKTtcblxuICAgICAgICAgY29uc3QgW3NhbGVzUmVzdWx0LCBjb3VudFJlc3VsdF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICBzYWxlc1F1ZXJ5LmV4ZWN1dGUoKSxcbiAgICAgICAgICAgIGNvdW50UXVlcnkuZXhlY3V0ZSgpLFxuICAgICAgICAgXSk7XG5cbiAgICAgICAgIGNvbnN0IHRvdGFsQ291bnQgPSBjb3VudFJlc3VsdFswXS52YWx1ZTtcblxuICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNhbGVzOiBzYWxlc1Jlc3VsdCxcbiAgICAgICAgICAgIHRvdGFsQ291bnQ6IHRvdGFsQ291bnQsXG4gICAgICAgICB9O1xuICAgICAgfSksXG5cbiAgIGRlbGV0ZVNhbGU6IHB1YmxpY1Byb2NlZHVyZVxuICAgICAgLmlucHV0KFxuICAgICAgICAgei5vYmplY3Qoe1xuICAgICAgICAgICAgc2FsZXNJZDogei5zdHJpbmcoKS5taW4oMiwgeyBtZXNzYWdlOiAnU2FsZXMgSWQgaXMgcmVxdWlyZWQnIH0pLFxuICAgICAgICAgfSksXG4gICAgICApXG4gICAgICAubXV0YXRpb24oYXN5bmMgKHsgY3R4LCBpbnB1dCB9KSA9PiB7XG4gICAgICAgICBjb25zdCB7IHNhbGVzSWQgfSA9IGlucHV0O1xuICAgICAgICAgY29uc3Qgc2FsZXNJbmZvID0gYXdhaXQgY3R4LmRiXG4gICAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAgIC5mcm9tKHNhbGVzKVxuICAgICAgICAgICAgLndoZXJlKGFuZChlcShzYWxlcy5zYWxlc0lkLCBzYWxlc0lkKSwgZXEoc2FsZXMuc3RhdHVzLCAnYWN0aXZlJykpKTtcblxuICAgICAgICAgaWYgKCFzYWxlc0luZm8ubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgbWVzc2FnZTogJ1JlY29yZCBub3QgZm91bmQnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgIH1cblxuICAgICAgICAgY29uc3QgZGVsZXRlZFNhbGUgPSBhd2FpdCBjdHguZGJcbiAgICAgICAgICAgIC51cGRhdGUoc2FsZXMpXG4gICAgICAgICAgICAuc2V0KHsgc3RhdHVzOiAnZGVsZXRlZCcgfSlcbiAgICAgICAgICAgIC53aGVyZShlcShzYWxlcy5zYWxlc0lkLCBzYWxlc0lkKSlcbiAgICAgICAgICAgIC5yZXR1cm5pbmcoKTtcblxuICAgICAgICAgaWYgKCFkZWxldGVkU2FsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIGRlbGV0ZSwgcGxlYXNlIHRyeSBhZ2FpbicsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgfVxuXG4gICAgICAgICBjb25zdCBkZWxldGVkSXRlbXMgPSBhd2FpdCBjdHguZGJcbiAgICAgICAgICAgIC51cGRhdGUoc2FsZXNJdGVtcylcbiAgICAgICAgICAgIC5zZXQoe1xuICAgICAgICAgICAgICAgc3RhdHVzOiAnZGVsZXRlZCcsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZXJlKGVxKHNhbGVzSXRlbXMuc2FsZXNJZCwgZGVsZXRlZFNhbGVbMF0uc2FsZXNJZCkpXG4gICAgICAgICAgICAucmV0dXJuaW5nKCk7XG5cbiAgICAgICAgIGlmICghZGVsZXRlZEl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdFcnJvciBkZWxldGluZyBhc3NvY2lhdGVkIGl0ZW1zLHBsZWFzZSBjb250YWN0IGN1c3RvbWVyIGNhcmUnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgIH1cblxuICAgICAgICAgaWYgKGRlbGV0ZWRTYWxlWzBdLnBheW1lbnRPcHRpb24gPT09ICdjcmVkaXQnKSB7XG4gICAgICAgICAgICBjb25zdCBzYWxlc0lkID0gZGVsZXRlZFNhbGVbMF0uc2FsZXNJZDtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRDcmVkaXQgPSBhd2FpdCBjdHguZGJcbiAgICAgICAgICAgICAgIC51cGRhdGUoY3JlZGl0RGVidClcbiAgICAgICAgICAgICAgIC5zZXQoe1xuICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnZGVsZXRlZCcsXG4gICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgLndoZXJlKGVxKGNyZWRpdERlYnQuc2FsZXNJZCwgc2FsZXNJZCkpO1xuXG4gICAgICAgICAgICBpZiAoIXVwZGF0ZWRDcmVkaXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0Vycm9yIHVwZGF0aW5nIGNyZWRpdCBlbnRyeSwgcGxlYXNlIGNvbnRhY3QgY3VzdG9tZXIgY2FyZScsXG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICBtZXNzYWdlOiAnU2FsZXMgc3VjY2VzZnVsbHkgZGVsZXRlZCcsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgfVxuXG4gICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICAgICAgICBtZXNzYWdlOiAnU2FsZXMgc3VjY2VzZnVsbHkgZGVsZXRlZCEnLFxuICAgICAgICAgfTtcbiAgICAgIH0pLFxuXG4gICBsaXN0TW9udGhseVNhbGVzOiBwdWJsaWNQcm9jZWR1cmVcbiAgICAgIC5pbnB1dChcbiAgICAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgICAgIHN0YXJ0RGF0ZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgZW5kRGF0ZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICAgfSksXG4gICAgICApXG4gICAgICAucXVlcnkoYXN5bmMgKHsgY3R4LCBpbnB1dCB9KSA9PiB7XG4gICAgICAgICBjb25zdCBkZWZhdWx0U3RhcnREYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgIGRlZmF1bHRTdGFydERhdGUuc2V0RnVsbFllYXIoZGVmYXVsdFN0YXJ0RGF0ZS5nZXRGdWxsWWVhcigpIC0gMSk7XG5cbiAgICAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IGlucHV0LnN0YXJ0RGF0ZSA/PyBkZWZhdWx0U3RhcnREYXRlLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgICBjb25zdCBlbmREYXRlID0gaW5wdXQuZW5kRGF0ZSA/PyBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cbiAgICAgICAgIGNvbnN0IHRvdGFsTW9udGhseVNhbGVzID0gYXdhaXQgY3R4LmRiXG4gICAgICAgICAgICAuc2VsZWN0KHtcbiAgICAgICAgICAgICAgIG1vbnRoOiBzcWw8c3RyaW5nPmB0b19jaGFyKCR7c2FsZXMuc2FsZXNEYXRlfSwgJ1lZWVktTU0nKWAsXG4gICAgICAgICAgICAgICB0b3RhbDogc3FsPG51bWJlcj5gc3VtKCR7c2FsZXMudG90YWxDb3N0fSlgLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5mcm9tKHNhbGVzKVxuICAgICAgICAgICAgLndoZXJlKGJldHdlZW4oc2FsZXMuc2FsZXNEYXRlLCBzdGFydERhdGUsIGVuZERhdGUpKVxuICAgICAgICAgICAgLmdyb3VwQnkoc3FsYHRvX2NoYXIoJHtzYWxlcy5zYWxlc0RhdGV9LCAnWVlZWS1NTScpYClcbiAgICAgICAgICAgIC5vcmRlckJ5KHNxbGB0b19jaGFyKCR7c2FsZXMuc2FsZXNEYXRlfSwgJ1lZWVktTU0nKSBBU0NgKTtcblxuICAgICAgICAgcmV0dXJuIHRvdGFsTW9udGhseVNhbGVzO1xuICAgICAgfSksXG5cbiAgIG5ld1NhbGVzOiBwdWJsaWNQcm9jZWR1cmVcbiAgICAgIC5pbnB1dChcbiAgICAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgICAgIHVzZXJJZDogei5zdHJpbmcoKS5taW4oMSwgeyBtZXNzYWdlOiAndXNlciBJZCBpcyByZXF1aXJlZCcgfSksXG4gICAgICAgICAgICBzYWxlc0RhdGU6IHouc3RyaW5nKCksXG4gICAgICAgICAgICBwYXltZW50T3B0aW9uOiB6LmVudW0oWydjYXNoJywgJ21wZXNhJywgJ2NyZWRpdCddKS5kZWZhdWx0KCdjYXNoJyksXG4gICAgICAgICAgICBjdXN0b21lcjogei5zdHJpbmcoKSxcbiAgICAgICAgICAgIGl0ZW1zOiB6LmFycmF5KFxuICAgICAgICAgICAgICAgei5vYmplY3Qoe1xuICAgICAgICAgICAgICAgICAgaXRlbUlkOiB6LnN0cmluZygpLm1pbigyLCB7IG1lc3NhZ2U6ICdpbnZhbGlkIGl0ZW1JZCcgfSksXG4gICAgICAgICAgICAgICAgICBxdWFudGl0eTogei5udW1iZXIoKS5taW4oMSwgeyBtZXNzYWdlOiAnUXVhbnRpdHkgc2hvdWxkIGJlIGdyZWF0ZXIgdGhhbiAxJyB9KSxcbiAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgIH0pLFxuICAgICAgKVxuICAgICAgLm11dGF0aW9uKGFzeW5jICh7IGN0eCwgaW5wdXQgfSkgPT4ge1xuICAgICAgICAgcmV0dXJuIGF3YWl0IGN0eC5kYi50cmFuc2FjdGlvbihhc3luYyAodHgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICBjb25zdCB7IGN1c3RvbWVyLCBpdGVtcywgcGF5bWVudE9wdGlvbiwgc2FsZXNEYXRlLCB1c2VySWQgfSA9IGlucHV0O1xuXG4gICAgICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgdHguc2VsZWN0KCkuZnJvbSh1c2Vycykud2hlcmUoZXEodXNlcnMudXNlcklkLCB1c2VySWQpKTtcbiAgICAgICAgICAgICAgIGlmICghdXNlci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogJ2Vycm9yJywgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyB9O1xuICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICBsZXQgY3VzdG9tZXJJZCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgaWYgKHBheW1lbnRPcHRpb24gPT09ICdjcmVkaXQnKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBzYWxlc0N1c3RvbWVyID0gYXdhaXQgY3R4LmRiXG4gICAgICAgICAgICAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAgICAgICAgICAgIC5mcm9tKGN1c3RvbWVycylcbiAgICAgICAgICAgICAgICAgICAgIC53aGVyZShhbmQoZXEoY3VzdG9tZXJzLmN1c3RvbWVySWQsIGN1c3RvbWVyKSwgZXEoY3VzdG9tZXJzLnVzZXJJZCwgdXNlcklkKSkpO1xuXG4gICAgICAgICAgICAgICAgICBpZiAoIXNhbGVzQ3VzdG9tZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6ICdlcnJvcicsIG1lc3NhZ2U6ICdDdXN0b21lciBub3QgZm91bmQnIH07XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGN1c3RvbWVySWQgPSBzYWxlc0N1c3RvbWVyWzBdLmN1c3RvbWVySWQ7XG4gICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjdXN0b21lcklkJywgY3VzdG9tZXJJZCk7XG5cbiAgICAgICAgICAgICAgIGxldCB0b3RhbENvc3QgPSAwO1xuICAgICAgICAgICAgICAgY29uc3Qgc2FsZXNJdGVtc1RvSW5zZXJ0OiBJbnNlcnRTYWxlc0l0ZW1bXSA9IFtdO1xuICAgICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCB7IGl0ZW1JZCwgcXVhbnRpdHkgfSA9IGl0ZW07XG5cbiAgICAgICAgICAgICAgICAgIGNvbnN0IGF2YWlsYWJsZUludmVudG9yeSA9IGF3YWl0IGN0eC5kYlxuICAgICAgICAgICAgICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgICAgICAgICAgICAuZnJvbShpbnZlbnRvcnkpXG4gICAgICAgICAgICAgICAgICAgICAud2hlcmUoXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBlcShpbnZlbnRvcnkuaXRlbUlkLCBpdGVtSWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgZXEoaW52ZW50b3J5LnN0YXR1cywgJ2FjdGl2ZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3QoaW52ZW50b3J5LnF1YW50aXR5SW5TdG9jaywgMCksXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgLm9yZGVyQnkoYXNjKGludmVudG9yeS5sYXN0VXBkYXRlZCkpO1xuICAgICAgICAgICAgICAgICAgaWYgKCFhdmFpbGFibGVJbnZlbnRvcnkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYE5vIGludmVudG9yeSByZWNvcmRzIGZvciBpdGVtICR7aXRlbUlkfWAsXG4gICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbFF1YW50aXR5SW5TdG9jayA9IGF2YWlsYWJsZUludmVudG9yeS5yZWR1Y2UoXG4gICAgICAgICAgICAgICAgICAgICAoc3RhcnQsIGl0ZW0pID0+IGl0ZW0ucXVhbnRpdHlJblN0b2NrICsgc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGlmICghdG90YWxRdWFudGl0eUluU3RvY2sgfHwgdG90YWxRdWFudGl0eUluU3RvY2sgPCBxdWFudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBJbnN1ZmZpY2llbnQgcXVhbnRpdHkgYXZhaWxhYmxlIGZvciBpdGVtICR7aXRlbUlkfWAsXG4gICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBsZXQgcmVtYWluaW5nUXVhbnRpdHkgPSBxdWFudGl0eTtcbiAgICAgICAgICAgICAgICAgIGxldCBpdGVtQ29zdCA9IDA7XG5cbiAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaW52SXRlbSBvZiBhdmFpbGFibGVJbnZlbnRvcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgIGlmIChpbnZJdGVtLnF1YW50aXR5SW5TdG9jayA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZHVjdGlvbiA9IE1hdGgubWluKHJlbWFpbmluZ1F1YW50aXR5LCBpbnZJdGVtLnF1YW50aXR5SW5TdG9jayk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZJdGVtLnF1YW50aXR5SW5TdG9jayAtPSBkZWR1Y3Rpb247XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1haW5pbmdRdWFudGl0eSAtPSBkZWR1Y3Rpb247XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWR1Y3Rpb25Db3N0ID0gZGVkdWN0aW9uICogTnVtYmVyKGludkl0ZW0uc2VsbGluZ1ByaWNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1Db3N0ICs9IGRlZHVjdGlvbkNvc3Q7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAudXBkYXRlKGludmVudG9yeSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZXQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHlJblN0b2NrOiBpbnZJdGVtLnF1YW50aXR5SW5TdG9jayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAud2hlcmUoZXEoaW52ZW50b3J5LmludmVudG9yeUlkLCBpbnZJdGVtLmludmVudG9yeUlkKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNhbGVzSXRlbXNUb0luc2VydC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmVudG9yeUlkOiBpbnZJdGVtLmludmVudG9yeUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FsZXNRdWFudGl0eTogZGVkdWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pdFByaWNlOiBpbnZJdGVtLnNlbGxpbmdQcmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsUHJpY2U6IFN0cmluZyhkZWR1Y3Rpb25Db3N0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2FjdGl2ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlbWFpbmluZ1F1YW50aXR5ID09PSAwKSBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHRvdGFsQ29zdCArPSBpdGVtQ29zdDtcbiAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgY29uc3Qgc2FsZXNQYXlsb2FkOiBJbnNlcnRTYWxlcyA9IHtcbiAgICAgICAgICAgICAgICAgIGN1c3RvbWVySWQ6IGN1c3RvbWVySWQsXG4gICAgICAgICAgICAgICAgICBwYXltZW50T3B0aW9uOiBwYXltZW50T3B0aW9uLFxuICAgICAgICAgICAgICAgICAgc2FsZXNEYXRlLFxuICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyxcbiAgICAgICAgICAgICAgICAgIHRvdGFsQ29zdDogU3RyaW5nKHRvdGFsQ29zdCksXG4gICAgICAgICAgICAgICAgICB1c2VySWQ6IHVzZXJbMF0udXNlcklkLFxuICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgY3R4LmRiXG4gICAgICAgICAgICAgICAgICAuaW5zZXJ0KHNhbGVzKVxuICAgICAgICAgICAgICAgICAgLnZhbHVlcyhzYWxlc1BheWxvYWQpXG4gICAgICAgICAgICAgICAgICAucmV0dXJuaW5nKHsgc2FsZXNJZDogc2FsZXMuc2FsZXNJZCB9KTtcbiAgICAgICAgICAgICAgIGlmICghcmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gcmVjb3JkIHNhbGVzLCBjaGVjayBhbmQgdHJ5IGFnYWluJyxcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICBjb25zdCBzYWxlc0lkID0gcmVzWzBdLnNhbGVzSWQ7XG5cbiAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2FsZXNJdGVtIG9mIHNhbGVzSXRlbXNUb0luc2VydCkge1xuICAgICAgICAgICAgICAgICAgYXdhaXQgdHguaW5zZXJ0KHNhbGVzSXRlbXMpLnZhbHVlcyh7XG4gICAgICAgICAgICAgICAgICAgICAuLi5zYWxlc0l0ZW0sXG4gICAgICAgICAgICAgICAgICAgICBzYWxlc0lkLFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgIGlmIChwYXltZW50T3B0aW9uID09PSAnY3JlZGl0Jykge1xuICAgICAgICAgICAgICAgICAgY29uc3QgcGF5bG9hZDogSW5zZXJ0Q3JlZGl0RGVidCA9IHtcbiAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVySWQsXG4gICAgICAgICAgICAgICAgICAgICBzYWxlc0lkLFxuICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25BbW91bnQ6IFN0cmluZyh0b3RhbENvc3QpLFxuICAgICAgICAgICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25EYXRlOiBzYWxlc0RhdGUsXG4gICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvblR5cGU6ICdjcmVkaXQnLFxuICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgYXdhaXQgdHguaW5zZXJ0KGNyZWRpdERlYnQpLnZhbHVlcyhwYXlsb2FkKTtcbiAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1NhbGVzIHN1Y2Nlc2Z1bGx5IHJlY29yZGVkJyxcbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIHN0YXR1czogJ0Vycm9yJyxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdFcnJvciByZWNvcmRpbmcgc2FsZXMnLFxuICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgIH0pO1xuICAgICAgfSksXG59KTtcbiJdLCJuYW1lcyI6WyJzYWxlcyIsImNyZWF0ZVRSUENSb3V0ZXIiLCJwdWJsaWNQcm9jZWR1cmUiLCJ6IiwiYW5kIiwiYXNjIiwiYmV0d2VlbiIsImNvdW50IiwiZGVzYyIsImVxIiwiZ3QiLCJzcWwiLCJjdXN0b21lcnMiLCJ1c2VycyIsImludmVudG9yeSIsInNhbGVzSXRlbXMiLCJjcmVkaXREZWJ0IiwiUEFHRV9TSVpFIiwic2FsZXNSb3V0ZXIiLCJsaXN0U2FsZXMiLCJpbnB1dCIsIm9iamVjdCIsInN0YXJ0RGF0ZSIsInN0cmluZyIsIm9wdGlvbmFsIiwiZW5kRGF0ZSIsInBheW1lbnRNZXRob2QiLCJlbnVtIiwiY3VzdG9tZXJJZCIsInBhZ2UiLCJxdWVyeSIsImN0eCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImNvbmRpdGlvbnMiLCJzYWxlc0RhdGUiLCJwdXNoIiwicGF5bWVudE9wdGlvbiIsInJlcyIsImRiIiwic2VsZWN0IiwiZnJvbSIsIndoZXJlIiwic3RhdHVzIiwibGVmdEpvaW4iLCJvcmRlckJ5IiwiZXhlY3V0ZSIsImxpc3RQYWdpbmF0ZWRTYWxlcyIsIm9mZnNldCIsInNhbGVzUXVlcnkiLCJsaW1pdCIsImNvdW50UXVlcnkiLCJ2YWx1ZSIsInNhbGVzUmVzdWx0IiwiY291bnRSZXN1bHQiLCJQcm9taXNlIiwiYWxsIiwidG90YWxDb3VudCIsImRlbGV0ZVNhbGUiLCJzYWxlc0lkIiwibWluIiwibWVzc2FnZSIsIm11dGF0aW9uIiwic2FsZXNJbmZvIiwibGVuZ3RoIiwiZGVsZXRlZFNhbGUiLCJ1cGRhdGUiLCJzZXQiLCJyZXR1cm5pbmciLCJkZWxldGVkSXRlbXMiLCJ1cGRhdGVkQ3JlZGl0IiwibGlzdE1vbnRobHlTYWxlcyIsImRlZmF1bHRTdGFydERhdGUiLCJzZXRGdWxsWWVhciIsImdldEZ1bGxZZWFyIiwidG90YWxNb250aGx5U2FsZXMiLCJtb250aCIsInRvdGFsIiwidG90YWxDb3N0IiwiZ3JvdXBCeSIsIm5ld1NhbGVzIiwidXNlcklkIiwiZGVmYXVsdCIsImN1c3RvbWVyIiwiaXRlbXMiLCJhcnJheSIsIml0ZW1JZCIsInF1YW50aXR5IiwibnVtYmVyIiwidHJhbnNhY3Rpb24iLCJ0eCIsInVzZXIiLCJ1bmRlZmluZWQiLCJzYWxlc0N1c3RvbWVyIiwiY29uc29sZSIsImxvZyIsInNhbGVzSXRlbXNUb0luc2VydCIsIml0ZW0iLCJhdmFpbGFibGVJbnZlbnRvcnkiLCJxdWFudGl0eUluU3RvY2siLCJsYXN0VXBkYXRlZCIsInRvdGFsUXVhbnRpdHlJblN0b2NrIiwicmVkdWNlIiwic3RhcnQiLCJyZW1haW5pbmdRdWFudGl0eSIsIml0ZW1Db3N0IiwiaW52SXRlbSIsImRlZHVjdGlvbiIsIk1hdGgiLCJkZWR1Y3Rpb25Db3N0IiwiTnVtYmVyIiwic2VsbGluZ1ByaWNlIiwiaW52ZW50b3J5SWQiLCJzYWxlc1F1YW50aXR5IiwidW5pdFByaWNlIiwidG90YWxQcmljZSIsIlN0cmluZyIsInNhbGVzUGF5bG9hZCIsImluc2VydCIsInZhbHVlcyIsInNhbGVzSXRlbSIsInBheWxvYWQiLCJ0cmFuc2FjdGlvbkFtb3VudCIsInRyYW5zYWN0aW9uRGF0ZSIsInRyYW5zYWN0aW9uVHlwZSIsImUiLCJlcnJvciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/server/api/routers/sales.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/api/routers/salesItems.ts":
/*!**********************************************!*\
  !*** ./src/server/api/routers/salesItems.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   salesItemsRouter: () => (/* binding */ salesItemsRouter)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/.pnpm/zod@3.23.8/node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _trpc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../trpc */ \"(rsc)/./src/server/api/trpc.ts\");\n/* harmony import */ var _server_db_schema_sales__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/server/db/schema/sales */ \"(rsc)/./src/server/db/schema/sales.ts\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/sql/expressions/conditions.js\");\n/* harmony import */ var _server_db_schema_salesItems__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/server/db/schema/salesItems */ \"(rsc)/./src/server/db/schema/salesItems.ts\");\n/* harmony import */ var _server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/server/db/schema/inventory */ \"(rsc)/./src/server/db/schema/inventory.ts\");\n/* harmony import */ var _server_db_schema_customers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/server/db/schema/customers */ \"(rsc)/./src/server/db/schema/customers.ts\");\n/* harmony import */ var _server_db_schema_creditDebt__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/server/db/schema/creditDebt */ \"(rsc)/./src/server/db/schema/creditDebt.ts\");\n/* harmony import */ var _server_db_schema_items__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/server/db/schema/items */ \"(rsc)/./src/server/db/schema/items.ts\");\n\n\n\n\n\n\n\n\n\nconst salesItemsRouter = (0,_trpc__WEBPACK_IMPORTED_MODULE_0__.createTRPCRouter)({\n    listSalesItems: _trpc__WEBPACK_IMPORTED_MODULE_0__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_7__.z.object({\n        salesId: zod__WEBPACK_IMPORTED_MODULE_7__.z.string().min(1, {\n            message: 'SalesId is required'\n        })\n    })).query(async ({ ctx, input })=>{\n        try {\n            const { salesId } = input;\n            const { db } = ctx;\n            const existingSale = await db.select().from(_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_1__.sales).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.eq)(_server_db_schema_sales__WEBPACK_IMPORTED_MODULE_1__.sales.salesId, salesId));\n            if (!existingSale.length) {\n                return {\n                    status: 'error',\n                    message: 'No sales record found'\n                };\n            }\n            const associatedItems = await db.select().from(_server_db_schema_salesItems__WEBPACK_IMPORTED_MODULE_2__.salesItems).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.eq)(_server_db_schema_salesItems__WEBPACK_IMPORTED_MODULE_2__.salesItems.salesId, salesId)).leftJoin(_server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_3__.inventory, (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.eq)(_server_db_schema_inventory__WEBPACK_IMPORTED_MODULE_3__.inventory.inventoryId, _server_db_schema_salesItems__WEBPACK_IMPORTED_MODULE_2__.salesItems.inventoryId)).leftJoin(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_6__.items, (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.eq)(_server_db_schema_items__WEBPACK_IMPORTED_MODULE_6__.items.itemId, _server_db_schema_salesItems__WEBPACK_IMPORTED_MODULE_2__.salesItems.itemId));\n            if (!associatedItems.length) {\n                return {\n                    status: 'error',\n                    message: 'No sales Items found'\n                };\n            }\n            let customer = [];\n            if (existingSale[0].customerId !== null) {\n                const customerId = existingSale[0].customerId;\n                customer = await db.select().from(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_4__.customers).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.eq)(_server_db_schema_customers__WEBPACK_IMPORTED_MODULE_4__.customers.customerId, customerId));\n            }\n            let creditData = [];\n            if (existingSale[0].paymentOption === 'credit') {\n                creditData = await db.select().from(_server_db_schema_creditDebt__WEBPACK_IMPORTED_MODULE_5__.creditDebt).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.eq)(_server_db_schema_creditDebt__WEBPACK_IMPORTED_MODULE_5__.creditDebt.salesId, salesId));\n            }\n            const successResponse = {\n                status: 'success',\n                sales: existingSale[0],\n                customer: customer[0],\n                credit: creditData[0],\n                salesItemsAndInventory: associatedItems\n            };\n            return successResponse;\n        } catch (error) {\n            console.error(error);\n            return {\n                status: 'error',\n                message: 'Server error, please contact support'\n            };\n        }\n    })\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL2FwaS9yb3V0ZXJzL3NhbGVzSXRlbXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUF3QjtBQUNvQztBQUNYO0FBQ2hCO0FBQzBCO0FBQ0Y7QUFDaUI7QUFDRztBQUM1QjtBQUUxQyxNQUFNVSxtQkFBbUJULHVEQUFnQkEsQ0FBQztJQUM5Q1UsZ0JBQWdCVCxrREFBZUEsQ0FDM0JVLEtBQUssQ0FDSFosa0NBQUNBLENBQUNhLE1BQU0sQ0FBQztRQUNOQyxTQUFTZCxrQ0FBQ0EsQ0FBQ2UsTUFBTSxHQUFHQyxHQUFHLENBQUMsR0FBRztZQUFFQyxTQUFTO1FBQXNCO0lBQy9ELElBRUZDLEtBQUssQ0FBQyxPQUFPLEVBQUVDLEdBQUcsRUFBRVAsS0FBSyxFQUFFO1FBQ3pCLElBQUk7WUFDRCxNQUFNLEVBQUVFLE9BQU8sRUFBRSxHQUFHRjtZQUNwQixNQUFNLEVBQUVRLEVBQUUsRUFBRSxHQUFHRDtZQUVmLE1BQU1FLGVBQWUsTUFBTUQsR0FBR0UsTUFBTSxHQUFHQyxJQUFJLENBQUNwQiwwREFBS0EsRUFBRXFCLEtBQUssQ0FBQ3BCLCtDQUFFQSxDQUFDRCwwREFBS0EsQ0FBQ1csT0FBTyxFQUFFQTtZQUMzRSxJQUFJLENBQUNPLGFBQWFJLE1BQU0sRUFBRTtnQkFDdkIsT0FBTztvQkFDSkMsUUFBUTtvQkFDUlQsU0FBUztnQkFDWjtZQUNIO1lBRUEsTUFBTVUsa0JBQWtCLE1BQU1QLEdBQzFCRSxNQUFNLEdBQ05DLElBQUksQ0FBQ2xCLG9FQUFVQSxFQUNmbUIsS0FBSyxDQUFDcEIsK0NBQUVBLENBQUNDLG9FQUFVQSxDQUFDUyxPQUFPLEVBQUVBLFVBQzdCYyxRQUFRLENBQUN0QixrRUFBU0EsRUFBRUYsK0NBQUVBLENBQUNFLGtFQUFTQSxDQUFDdUIsV0FBVyxFQUFFeEIsb0VBQVVBLENBQUN3QixXQUFXLEdBQ3BFRCxRQUFRLENBQUNuQiwwREFBS0EsRUFBRUwsK0NBQUVBLENBQUNLLDBEQUFLQSxDQUFDcUIsTUFBTSxFQUFFekIsb0VBQVVBLENBQUN5QixNQUFNO1lBRXRELElBQUksQ0FBQ0gsZ0JBQWdCRixNQUFNLEVBQUU7Z0JBQzFCLE9BQU87b0JBQ0pDLFFBQVE7b0JBQ1JULFNBQVM7Z0JBQ1o7WUFDSDtZQUVBLElBQUljLFdBQThCLEVBQUU7WUFDcEMsSUFBSVYsWUFBWSxDQUFDLEVBQUUsQ0FBQ1csVUFBVSxLQUFLLE1BQU07Z0JBQ3RDLE1BQU1BLGFBQWFYLFlBQVksQ0FBQyxFQUFFLENBQUNXLFVBQVU7Z0JBQzdDRCxXQUFXLE1BQU1YLEdBQ2JFLE1BQU0sR0FDTkMsSUFBSSxDQUFDaEIsa0VBQVNBLEVBQ2RpQixLQUFLLENBQUNwQiwrQ0FBRUEsQ0FBQ0csa0VBQVNBLENBQUN5QixVQUFVLEVBQUVBO1lBQ3RDO1lBRUEsSUFBSUMsYUFBaUMsRUFBRTtZQUN2QyxJQUFJWixZQUFZLENBQUMsRUFBRSxDQUFDYSxhQUFhLEtBQUssVUFBVTtnQkFDN0NELGFBQWEsTUFBTWIsR0FDZkUsTUFBTSxHQUNOQyxJQUFJLENBQUNmLG9FQUFVQSxFQUNmZ0IsS0FBSyxDQUFDcEIsK0NBQUVBLENBQUNJLG9FQUFVQSxDQUFDTSxPQUFPLEVBQUVBO1lBQ3BDO1lBRUEsTUFBTXFCLGtCQUFrQjtnQkFDckJULFFBQVE7Z0JBQ1J2QixPQUFPa0IsWUFBWSxDQUFDLEVBQUU7Z0JBQ3RCVSxVQUFVQSxRQUFRLENBQUMsRUFBRTtnQkFDckJLLFFBQVFILFVBQVUsQ0FBQyxFQUFFO2dCQUNyQkksd0JBQXdCVjtZQUMzQjtZQUVBLE9BQU9RO1FBQ1YsRUFBRSxPQUFPRyxPQUFPO1lBQ2JDLFFBQVFELEtBQUssQ0FBQ0E7WUFDZCxPQUFPO2dCQUNKWixRQUFRO2dCQUNSVCxTQUFTO1lBQ1o7UUFDSDtJQUNIO0FBQ04sR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zZXJ2ZXIvYXBpL3JvdXRlcnMvc2FsZXNJdGVtcy50cz9kYjE2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuaW1wb3J0IHsgY3JlYXRlVFJQQ1JvdXRlciwgcHVibGljUHJvY2VkdXJlIH0gZnJvbSAnLi4vdHJwYyc7XG5pbXBvcnQgeyBzYWxlcyB9IGZyb20gJ0Avc2VydmVyL2RiL3NjaGVtYS9zYWxlcyc7XG5pbXBvcnQgeyBlcSB9IGZyb20gJ2RyaXp6bGUtb3JtJztcbmltcG9ydCB7IHNhbGVzSXRlbXMgfSBmcm9tICdAL3NlcnZlci9kYi9zY2hlbWEvc2FsZXNJdGVtcyc7XG5pbXBvcnQgeyBpbnZlbnRvcnkgfSBmcm9tICdAL3NlcnZlci9kYi9zY2hlbWEvaW52ZW50b3J5JztcbmltcG9ydCB7IGN1c3RvbWVycywgU2VsZWN0Q3VzdG9tZXJzIH0gZnJvbSAnQC9zZXJ2ZXIvZGIvc2NoZW1hL2N1c3RvbWVycyc7XG5pbXBvcnQgeyBjcmVkaXREZWJ0LCBTZWxlY3RDcmVkaXREZWJ0IH0gZnJvbSAnQC9zZXJ2ZXIvZGIvc2NoZW1hL2NyZWRpdERlYnQnO1xuaW1wb3J0IHsgaXRlbXMgfSBmcm9tICdAL3NlcnZlci9kYi9zY2hlbWEvaXRlbXMnO1xuXG5leHBvcnQgY29uc3Qgc2FsZXNJdGVtc1JvdXRlciA9IGNyZWF0ZVRSUENSb3V0ZXIoe1xuICAgbGlzdFNhbGVzSXRlbXM6IHB1YmxpY1Byb2NlZHVyZVxuICAgICAgLmlucHV0KFxuICAgICAgICAgei5vYmplY3Qoe1xuICAgICAgICAgICAgc2FsZXNJZDogei5zdHJpbmcoKS5taW4oMSwgeyBtZXNzYWdlOiAnU2FsZXNJZCBpcyByZXF1aXJlZCcgfSksXG4gICAgICAgICB9KSxcbiAgICAgIClcbiAgICAgIC5xdWVyeShhc3luYyAoeyBjdHgsIGlucHV0IH0pID0+IHtcbiAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IHNhbGVzSWQgfSA9IGlucHV0O1xuICAgICAgICAgICAgY29uc3QgeyBkYiB9ID0gY3R4O1xuXG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ1NhbGUgPSBhd2FpdCBkYi5zZWxlY3QoKS5mcm9tKHNhbGVzKS53aGVyZShlcShzYWxlcy5zYWxlc0lkLCBzYWxlc0lkKSk7XG4gICAgICAgICAgICBpZiAoIWV4aXN0aW5nU2FsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicgYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTm8gc2FsZXMgcmVjb3JkIGZvdW5kJyxcbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGFzc29jaWF0ZWRJdGVtcyA9IGF3YWl0IGRiXG4gICAgICAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAgICAgIC5mcm9tKHNhbGVzSXRlbXMpXG4gICAgICAgICAgICAgICAud2hlcmUoZXEoc2FsZXNJdGVtcy5zYWxlc0lkLCBzYWxlc0lkKSlcbiAgICAgICAgICAgICAgIC5sZWZ0Sm9pbihpbnZlbnRvcnksIGVxKGludmVudG9yeS5pbnZlbnRvcnlJZCwgc2FsZXNJdGVtcy5pbnZlbnRvcnlJZCkpXG4gICAgICAgICAgICAgICAubGVmdEpvaW4oaXRlbXMsIGVxKGl0ZW1zLml0ZW1JZCwgc2FsZXNJdGVtcy5pdGVtSWQpKTtcblxuICAgICAgICAgICAgaWYgKCFhc3NvY2lhdGVkSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InIGFzIGNvbnN0LFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ05vIHNhbGVzIEl0ZW1zIGZvdW5kJyxcbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBjdXN0b21lcjogU2VsZWN0Q3VzdG9tZXJzW10gPSBbXTtcbiAgICAgICAgICAgIGlmIChleGlzdGluZ1NhbGVbMF0uY3VzdG9tZXJJZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgY29uc3QgY3VzdG9tZXJJZCA9IGV4aXN0aW5nU2FsZVswXS5jdXN0b21lcklkO1xuICAgICAgICAgICAgICAgY3VzdG9tZXIgPSBhd2FpdCBkYlxuICAgICAgICAgICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgICAgICAgICAuZnJvbShjdXN0b21lcnMpXG4gICAgICAgICAgICAgICAgICAud2hlcmUoZXEoY3VzdG9tZXJzLmN1c3RvbWVySWQsIGN1c3RvbWVySWQpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGNyZWRpdERhdGE6IFNlbGVjdENyZWRpdERlYnRbXSA9IFtdO1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nU2FsZVswXS5wYXltZW50T3B0aW9uID09PSAnY3JlZGl0Jykge1xuICAgICAgICAgICAgICAgY3JlZGl0RGF0YSA9IGF3YWl0IGRiXG4gICAgICAgICAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAgICAgICAgIC5mcm9tKGNyZWRpdERlYnQpXG4gICAgICAgICAgICAgICAgICAud2hlcmUoZXEoY3JlZGl0RGVidC5zYWxlc0lkLCBzYWxlc0lkKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3NSZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnIGFzIGNvbnN0LFxuICAgICAgICAgICAgICAgc2FsZXM6IGV4aXN0aW5nU2FsZVswXSxcbiAgICAgICAgICAgICAgIGN1c3RvbWVyOiBjdXN0b21lclswXSxcbiAgICAgICAgICAgICAgIGNyZWRpdDogY3JlZGl0RGF0YVswXSxcbiAgICAgICAgICAgICAgIHNhbGVzSXRlbXNBbmRJbnZlbnRvcnk6IGFzc29jaWF0ZWRJdGVtcyxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiBzdWNjZXNzUmVzcG9uc2U7XG4gICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InIGFzIGNvbnN0LFxuICAgICAgICAgICAgICAgbWVzc2FnZTogJ1NlcnZlciBlcnJvciwgcGxlYXNlIGNvbnRhY3Qgc3VwcG9ydCcsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgfVxuICAgICAgfSksXG59KTtcbiJdLCJuYW1lcyI6WyJ6IiwiY3JlYXRlVFJQQ1JvdXRlciIsInB1YmxpY1Byb2NlZHVyZSIsInNhbGVzIiwiZXEiLCJzYWxlc0l0ZW1zIiwiaW52ZW50b3J5IiwiY3VzdG9tZXJzIiwiY3JlZGl0RGVidCIsIml0ZW1zIiwic2FsZXNJdGVtc1JvdXRlciIsImxpc3RTYWxlc0l0ZW1zIiwiaW5wdXQiLCJvYmplY3QiLCJzYWxlc0lkIiwic3RyaW5nIiwibWluIiwibWVzc2FnZSIsInF1ZXJ5IiwiY3R4IiwiZGIiLCJleGlzdGluZ1NhbGUiLCJzZWxlY3QiLCJmcm9tIiwid2hlcmUiLCJsZW5ndGgiLCJzdGF0dXMiLCJhc3NvY2lhdGVkSXRlbXMiLCJsZWZ0Sm9pbiIsImludmVudG9yeUlkIiwiaXRlbUlkIiwiY3VzdG9tZXIiLCJjdXN0b21lcklkIiwiY3JlZGl0RGF0YSIsInBheW1lbnRPcHRpb24iLCJzdWNjZXNzUmVzcG9uc2UiLCJjcmVkaXQiLCJzYWxlc0l0ZW1zQW5kSW52ZW50b3J5IiwiZXJyb3IiLCJjb25zb2xlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/server/api/routers/salesItems.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/api/trpc.ts":
/*!********************************!*\
  !*** ./src/server/api/trpc.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCallerFactory: () => (/* binding */ createCallerFactory),\n/* harmony export */   createTRPCContext: () => (/* binding */ createTRPCContext),\n/* harmony export */   createTRPCRouter: () => (/* binding */ createTRPCRouter),\n/* harmony export */   publicProcedure: () => (/* binding */ publicProcedure)\n/* harmony export */ });\n/* harmony import */ var _db_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../db/db */ \"(rsc)/./src/server/db/db.ts\");\n/* harmony import */ var _trpc_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @trpc/server */ \"(rsc)/../../node_modules/.pnpm/@trpc+server@11.0.0-rc.608/node_modules/@trpc/server/dist/index.mjs\");\n/* harmony import */ var superjson__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! superjson */ \"(rsc)/../../node_modules/.pnpm/superjson@2.2.1/node_modules/superjson/dist/index.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/.pnpm/zod@3.23.8/node_modules/zod/lib/index.mjs\");\n\n\n\n\nconst createTRPCContext = async (opts)=>{\n    return {\n        db: _db_db__WEBPACK_IMPORTED_MODULE_0__.db,\n        ...opts\n    };\n};\nconst t = _trpc_server__WEBPACK_IMPORTED_MODULE_1__.initTRPC.context().create({\n    transformer: superjson__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    errorFormatter ({ shape, error }) {\n        return {\n            ...shape,\n            data: {\n                ...shape.data,\n                zodError: error.cause instanceof zod__WEBPACK_IMPORTED_MODULE_3__.ZodError ? error.cause.flatten() : null\n            }\n        };\n    }\n});\nconst createCallerFactory = t.createCallerFactory;\nconst createTRPCRouter = t.router;\nconst publicProcedure = t.procedure;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL2FwaS90cnBjLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTZCO0FBQ1U7QUFDTjtBQUNIO0FBRXZCLE1BQU1JLG9CQUFvQixPQUFPQztJQUNwQyxPQUFPO1FBQ0hMLEVBQUVBLHdDQUFBQTtRQUNGLEdBQUdLLElBQUk7SUFDWDtBQUNKLEVBQUM7QUFFRCxNQUFNQyxJQUFJTCxrREFBUUEsQ0FBQ00sT0FBTyxHQUE2QkMsTUFBTSxDQUFDO0lBQzFEQyxhQUFhUCxpREFBU0E7SUFDdEJRLGdCQUFlLEVBQUNDLEtBQUssRUFBRUMsS0FBSyxFQUFDO1FBQ3pCLE9BQU87WUFDSCxHQUFHRCxLQUFLO1lBQ1JFLE1BQU07Z0JBQ0YsR0FBR0YsTUFBTUUsSUFBSTtnQkFDYkMsVUFBVUYsTUFBTUcsS0FBSyxZQUFZWix5Q0FBUUEsR0FBR1MsTUFBTUcsS0FBSyxDQUFDQyxPQUFPLEtBQUs7WUFDeEU7UUFDSjtJQUNKO0FBQ0o7QUFFTyxNQUFNQyxzQkFBc0JYLEVBQUVXLG1CQUFtQjtBQUNqRCxNQUFNQyxtQkFBbUJaLEVBQUVhLE1BQU07QUFDakMsTUFBTUMsa0JBQWtCZCxFQUFFZSxTQUFTIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZlci9hcGkvdHJwYy50cz8xOTcyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRiIH0gZnJvbSBcIi4uL2RiL2RiXCJcbmltcG9ydCB7IGluaXRUUlBDIH0gZnJvbSAnQHRycGMvc2VydmVyJ1xuaW1wb3J0IHN1cGVyanNvbiBmcm9tICdzdXBlcmpzb24nXG5pbXBvcnQgeyBab2RFcnJvciB9IGZyb20gXCJ6b2RcIlxuXG5leHBvcnQgY29uc3QgY3JlYXRlVFJQQ0NvbnRleHQgPSBhc3luYyAob3B0czoge2hlYWRlcnM6IEhlYWRlcnN9KSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGIsXG4gICAgICAgIC4uLm9wdHNcbiAgICB9XG59XG5cbmNvbnN0IHQgPSBpbml0VFJQQy5jb250ZXh0PHR5cGVvZiBjcmVhdGVUUlBDQ29udGV4dD4oKS5jcmVhdGUoe1xuICAgIHRyYW5zZm9ybWVyOiBzdXBlcmpzb24sXG4gICAgZXJyb3JGb3JtYXR0ZXIoe3NoYXBlLCBlcnJvcn0pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnNoYXBlLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIC4uLnNoYXBlLmRhdGEsXG4gICAgICAgICAgICAgICAgem9kRXJyb3I6IGVycm9yLmNhdXNlIGluc3RhbmNlb2YgWm9kRXJyb3IgPyBlcnJvci5jYXVzZS5mbGF0dGVuKCkgOiBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59KVxuXG5leHBvcnQgY29uc3QgY3JlYXRlQ2FsbGVyRmFjdG9yeSA9IHQuY3JlYXRlQ2FsbGVyRmFjdG9yeVxuZXhwb3J0IGNvbnN0IGNyZWF0ZVRSUENSb3V0ZXIgPSB0LnJvdXRlclxuZXhwb3J0IGNvbnN0IHB1YmxpY1Byb2NlZHVyZSA9IHQucHJvY2VkdXJlIl0sIm5hbWVzIjpbImRiIiwiaW5pdFRSUEMiLCJzdXBlcmpzb24iLCJab2RFcnJvciIsImNyZWF0ZVRSUENDb250ZXh0Iiwib3B0cyIsInQiLCJjb250ZXh0IiwiY3JlYXRlIiwidHJhbnNmb3JtZXIiLCJlcnJvckZvcm1hdHRlciIsInNoYXBlIiwiZXJyb3IiLCJkYXRhIiwiem9kRXJyb3IiLCJjYXVzZSIsImZsYXR0ZW4iLCJjcmVhdGVDYWxsZXJGYWN0b3J5IiwiY3JlYXRlVFJQQ1JvdXRlciIsInJvdXRlciIsInB1YmxpY1Byb2NlZHVyZSIsInByb2NlZHVyZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/server/api/trpc.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/db/db.ts":
/*!*****************************!*\
  !*** ./src/server/db/db.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   client: () => (/* binding */ client),\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n/* harmony import */ var postgres__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! postgres */ \"(rsc)/../../node_modules/.pnpm/postgres@3.4.5/node_modules/postgres/src/index.js\");\n/* harmony import */ var drizzle_orm_postgres_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! drizzle-orm/postgres-js */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/postgres-js/driver.js\");\n\n\n// const dev = process.env.VERCEL_ENV !== \"production\"\n// loadEnvConfig(\"./\", dev)\nconst connectionString = process.env.POSTGRES_URL;\nconst client = (0,postgres__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(connectionString, {\n    prepare: false\n});\nconst db = (0,drizzle_orm_postgres_js__WEBPACK_IMPORTED_MODULE_1__.drizzle)(client);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL2RiL2RiLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDK0I7QUFDa0I7QUFFakQsc0RBQXNEO0FBQ3RELDJCQUEyQjtBQUUzQixNQUFNRSxtQkFBbUJDLFFBQVFDLEdBQUcsQ0FBQ0MsWUFBWTtBQUcxQyxNQUFNQyxTQUFTTixvREFBUUEsQ0FBQ0Usa0JBQWtCO0lBQUVLLFNBQVM7QUFBTSxHQUFFO0FBQzdELE1BQU1DLEtBQUtQLGdFQUFPQSxDQUFDSyxRQUFPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZlci9kYi9kYi50cz9kNjU2Il0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHBvc3RncmVzIGZyb20gXCJwb3N0Z3Jlc1wiXG5pbXBvcnQgeyBkcml6emxlIH0gZnJvbSBcImRyaXp6bGUtb3JtL3Bvc3RncmVzLWpzXCJcblxuLy8gY29uc3QgZGV2ID0gcHJvY2Vzcy5lbnYuVkVSQ0VMX0VOViAhPT0gXCJwcm9kdWN0aW9uXCJcbi8vIGxvYWRFbnZDb25maWcoXCIuL1wiLCBkZXYpXG5cbmNvbnN0IGNvbm5lY3Rpb25TdHJpbmcgPSBwcm9jZXNzLmVudi5QT1NUR1JFU19VUkwgYXMgc3RyaW5nXG5cblxuZXhwb3J0IGNvbnN0IGNsaWVudCA9IHBvc3RncmVzKGNvbm5lY3Rpb25TdHJpbmcsIHsgcHJlcGFyZTogZmFsc2UgfSlcbmV4cG9ydCBjb25zdCBkYiA9IGRyaXp6bGUoY2xpZW50KVxuIl0sIm5hbWVzIjpbInBvc3RncmVzIiwiZHJpenpsZSIsImNvbm5lY3Rpb25TdHJpbmciLCJwcm9jZXNzIiwiZW52IiwiUE9TVEdSRVNfVVJMIiwiY2xpZW50IiwicHJlcGFyZSIsImRiIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/server/db/db.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/db/schema/businessTypes.ts":
/*!***********************************************!*\
  !*** ./src/server/db/schema/businessTypes.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   businessTypes: () => (/* binding */ businessTypes)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/uuid.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/varchar.js\");\n\nconst businessTypes = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"business_types\", {\n    businessTypeId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)(\"business_type_id\").primaryKey().defaultRandom(),\n    businessTypeName: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"business_type_name\", {\n        length: 256\n    }).notNull(),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)('status').$type().default('active')\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL2RiL3NjaGVtYS9idXNpbmVzc1R5cGVzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBNEQ7QUFHckQsTUFBTUcsZ0JBQWdCSCw0REFBT0EsQ0FBQyxrQkFBa0I7SUFDcERJLGdCQUFnQkgseURBQUlBLENBQUMsb0JBQW9CSSxVQUFVLEdBQUdDLGFBQWE7SUFDbkVDLGtCQUFrQkwsNERBQU9BLENBQUMsc0JBQXNCO1FBQUVNLFFBQVE7SUFBSSxHQUFHQyxPQUFPO0lBQ3hFQyxRQUFRUiw0REFBT0EsQ0FBQyxVQUFVUyxLQUFLLEdBQXVDQyxPQUFPLENBQUM7QUFDakYsR0FBRSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zZXJ2ZXIvZGIvc2NoZW1hL2J1c2luZXNzVHlwZXMudHM/MDA4MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwZ1RhYmxlLCB1dWlkLCB2YXJjaGFyIH0gZnJvbSBcImRyaXp6bGUtb3JtL3BnLWNvcmVcIlxuXG5cbmV4cG9ydCBjb25zdCBidXNpbmVzc1R5cGVzID0gcGdUYWJsZShcImJ1c2luZXNzX3R5cGVzXCIsIHtcbiAgIGJ1c2luZXNzVHlwZUlkOiB1dWlkKFwiYnVzaW5lc3NfdHlwZV9pZFwiKS5wcmltYXJ5S2V5KCkuZGVmYXVsdFJhbmRvbSgpLFxuICAgYnVzaW5lc3NUeXBlTmFtZTogdmFyY2hhcihcImJ1c2luZXNzX3R5cGVfbmFtZVwiLCB7IGxlbmd0aDogMjU2IH0pLm5vdE51bGwoKSxcbiAgIHN0YXR1czogdmFyY2hhcignc3RhdHVzJykuJHR5cGU8J2FjdGl2ZScgfCAnZGVsZXRlZCcgfCAnc3VzcGVuZGVkJz4oKS5kZWZhdWx0KCdhY3RpdmUnKVxufSlcblxuZXhwb3J0IHR5cGUgU2VsZWN0QnVzaW5lc3NUeXBlcyA9IHR5cGVvZiBidXNpbmVzc1R5cGVzLiRpbmZlclNlbGVjdCJdLCJuYW1lcyI6WyJwZ1RhYmxlIiwidXVpZCIsInZhcmNoYXIiLCJidXNpbmVzc1R5cGVzIiwiYnVzaW5lc3NUeXBlSWQiLCJwcmltYXJ5S2V5IiwiZGVmYXVsdFJhbmRvbSIsImJ1c2luZXNzVHlwZU5hbWUiLCJsZW5ndGgiLCJub3ROdWxsIiwic3RhdHVzIiwiJHR5cGUiLCJkZWZhdWx0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/server/db/schema/businessTypes.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/db/schema/categories.ts":
/*!********************************************!*\
  !*** ./src/server/db/schema/categories.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   categories: () => (/* binding */ categories)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/uuid.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/varchar.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/text.js\");\n/* harmony import */ var _users__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./users */ \"(rsc)/./src/server/db/schema/users.ts\");\n\n\nconst categories = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)('categories', {\n    categoryId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('category_id').primaryKey().defaultRandom(),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('user_id').references(()=>_users__WEBPACK_IMPORTED_MODULE_0__.users.userId),\n    categoryName: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.varchar)('category_name', {\n        length: 256\n    }).notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)('category_description'),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.varchar)('status').$type().default('active')\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL2RiL3NjaGVtYS9jYXRlZ29yaWVzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFtRTtBQUNuQztBQUd6QixNQUFNSyxhQUFhTCw0REFBT0EsQ0FBQyxjQUFjO0lBQzdDTSxZQUFZSix5REFBSUEsQ0FBQyxlQUFlSyxVQUFVLEdBQUdDLGFBQWE7SUFDMURDLFFBQVFQLHlEQUFJQSxDQUFDLFdBQVdRLFVBQVUsQ0FBQyxJQUFNTix5Q0FBS0EsQ0FBQ0ssTUFBTTtJQUNyREUsY0FBY1IsNERBQU9BLENBQUMsaUJBQWlCO1FBQUVTLFFBQVE7SUFBSSxHQUFHQyxPQUFPO0lBQy9EQyxhQUFhYix5REFBSUEsQ0FBQztJQUNsQmMsUUFBUVosNERBQU9BLENBQUMsVUFBVWEsS0FBSyxHQUF1Q0MsT0FBTyxDQUFDO0FBQ2pGLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2RiL3NjaGVtYS9jYXRlZ29yaWVzLnRzPzM4NmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGdUYWJsZSwgdGV4dCwgdXVpZCwgdmFyY2hhciB9IGZyb20gJ2RyaXp6bGUtb3JtL3BnLWNvcmUnO1xuaW1wb3J0IHsgdXNlcnMgfSBmcm9tICcuL3VzZXJzJztcbmltcG9ydCB7IEluZmVyU2VsZWN0TW9kZWwgfSBmcm9tICdkcml6emxlLW9ybSc7XG5cbmV4cG9ydCBjb25zdCBjYXRlZ29yaWVzID0gcGdUYWJsZSgnY2F0ZWdvcmllcycsIHtcbiAgIGNhdGVnb3J5SWQ6IHV1aWQoJ2NhdGVnb3J5X2lkJykucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcbiAgIHVzZXJJZDogdXVpZCgndXNlcl9pZCcpLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMudXNlcklkKSxcbiAgIGNhdGVnb3J5TmFtZTogdmFyY2hhcignY2F0ZWdvcnlfbmFtZScsIHsgbGVuZ3RoOiAyNTYgfSkubm90TnVsbCgpLFxuICAgZGVzY3JpcHRpb246IHRleHQoJ2NhdGVnb3J5X2Rlc2NyaXB0aW9uJyksXG4gICBzdGF0dXM6IHZhcmNoYXIoJ3N0YXR1cycpLiR0eXBlPCdhY3RpdmUnIHwgJ2RlbGV0ZWQnIHwgJ3N1c3BlbmRlZCc+KCkuZGVmYXVsdCgnYWN0aXZlJyksXG59KTtcblxuZXhwb3J0IHR5cGUgU2VsZWN0Q2F0ZWdvcnkgPSBJbmZlclNlbGVjdE1vZGVsPHR5cGVvZiBjYXRlZ29yaWVzPjtcbiJdLCJuYW1lcyI6WyJwZ1RhYmxlIiwidGV4dCIsInV1aWQiLCJ2YXJjaGFyIiwidXNlcnMiLCJjYXRlZ29yaWVzIiwiY2F0ZWdvcnlJZCIsInByaW1hcnlLZXkiLCJkZWZhdWx0UmFuZG9tIiwidXNlcklkIiwicmVmZXJlbmNlcyIsImNhdGVnb3J5TmFtZSIsImxlbmd0aCIsIm5vdE51bGwiLCJkZXNjcmlwdGlvbiIsInN0YXR1cyIsIiR0eXBlIiwiZGVmYXVsdCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/server/db/schema/categories.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/db/schema/creditDebt.ts":
/*!********************************************!*\
  !*** ./src/server/db/schema/creditDebt.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   creditDebt: () => (/* binding */ creditDebt)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/uuid.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/date.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/numeric.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/varchar.js\");\n/* harmony import */ var _users__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./users */ \"(rsc)/./src/server/db/schema/users.ts\");\n/* harmony import */ var _sales__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sales */ \"(rsc)/./src/server/db/schema/sales.ts\");\n/* harmony import */ var _customers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./customers */ \"(rsc)/./src/server/db/schema/customers.ts\");\n\n\n\n\nconst creditDebt = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.pgTable)('credit_and_debt', {\n    transactionId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.uuid)('credit_and_debt_id').primaryKey().defaultRandom(),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.uuid)('user_id').references(()=>_users__WEBPACK_IMPORTED_MODULE_0__.users.userId),\n    salesId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.uuid)('sales_id').references(()=>_sales__WEBPACK_IMPORTED_MODULE_1__.sales.salesId),\n    transactionDate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.date)('transaction_date', {\n        mode: 'string'\n    }),\n    customerId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.uuid)('customer_id').references(()=>_customers__WEBPACK_IMPORTED_MODULE_2__.customers.customerId),\n    transactionAmount: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.decimal)('transaction_amount', {\n        precision: 10,\n        scale: 2\n    }),\n    transactionType: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.varchar)('transaction_type').$type(),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.varchar)('status').$type().default('active')\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL2RiL3NjaGVtYS9jcmVkaXREZWJ0LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUE0RTtBQUM1QztBQUNBO0FBQ1E7QUFHakMsTUFBTVEsYUFBYU4sNERBQU9BLENBQUMsbUJBQW1CO0lBQ2xETyxlQUFlTix5REFBSUEsQ0FBQyxzQkFBc0JPLFVBQVUsR0FBR0MsYUFBYTtJQUNwRUMsUUFBUVQseURBQUlBLENBQUMsV0FBV1UsVUFBVSxDQUFDLElBQU1SLHlDQUFLQSxDQUFDTyxNQUFNO0lBQ3JERSxTQUFTWCx5REFBSUEsQ0FBQyxZQUFZVSxVQUFVLENBQUMsSUFBTVAseUNBQUtBLENBQUNRLE9BQU87SUFDeERDLGlCQUFpQmYseURBQUlBLENBQUMsb0JBQW9CO1FBQUVnQixNQUFNO0lBQVM7SUFDM0RDLFlBQVlkLHlEQUFJQSxDQUFDLGVBQWVVLFVBQVUsQ0FBQyxJQUFNTixpREFBU0EsQ0FBQ1UsVUFBVTtJQUNyRUMsbUJBQW1CakIsNERBQU9BLENBQUMsc0JBQXNCO1FBQUVrQixXQUFXO1FBQUlDLE9BQU87SUFBRTtJQUMzRUMsaUJBQWlCakIsNERBQU9BLENBQUMsb0JBQW9Ca0IsS0FBSztJQUNsREMsUUFBUW5CLDREQUFPQSxDQUFDLFVBQVVrQixLQUFLLEdBQXVDRSxPQUFPLENBQUM7QUFDakYsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zZXJ2ZXIvZGIvc2NoZW1hL2NyZWRpdERlYnQudHM/ZDhmYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkYXRlLCBkZWNpbWFsLCBwZ1RhYmxlLCB1dWlkLCB2YXJjaGFyIH0gZnJvbSAnZHJpenpsZS1vcm0vcGctY29yZSc7XG5pbXBvcnQgeyB1c2VycyB9IGZyb20gJy4vdXNlcnMnO1xuaW1wb3J0IHsgc2FsZXMgfSBmcm9tICcuL3NhbGVzJztcbmltcG9ydCB7IGN1c3RvbWVycyB9IGZyb20gJy4vY3VzdG9tZXJzJztcbmltcG9ydCB7IEluZmVyU2VsZWN0TW9kZWwgfSBmcm9tICdkcml6emxlLW9ybSc7XG5cbmV4cG9ydCBjb25zdCBjcmVkaXREZWJ0ID0gcGdUYWJsZSgnY3JlZGl0X2FuZF9kZWJ0Jywge1xuICAgdHJhbnNhY3Rpb25JZDogdXVpZCgnY3JlZGl0X2FuZF9kZWJ0X2lkJykucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcbiAgIHVzZXJJZDogdXVpZCgndXNlcl9pZCcpLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMudXNlcklkKSxcbiAgIHNhbGVzSWQ6IHV1aWQoJ3NhbGVzX2lkJykucmVmZXJlbmNlcygoKSA9PiBzYWxlcy5zYWxlc0lkKSxcbiAgIHRyYW5zYWN0aW9uRGF0ZTogZGF0ZSgndHJhbnNhY3Rpb25fZGF0ZScsIHsgbW9kZTogJ3N0cmluZycgfSksXG4gICBjdXN0b21lcklkOiB1dWlkKCdjdXN0b21lcl9pZCcpLnJlZmVyZW5jZXMoKCkgPT4gY3VzdG9tZXJzLmN1c3RvbWVySWQpLFxuICAgdHJhbnNhY3Rpb25BbW91bnQ6IGRlY2ltYWwoJ3RyYW5zYWN0aW9uX2Ftb3VudCcsIHsgcHJlY2lzaW9uOiAxMCwgc2NhbGU6IDIgfSksXG4gICB0cmFuc2FjdGlvblR5cGU6IHZhcmNoYXIoJ3RyYW5zYWN0aW9uX3R5cGUnKS4kdHlwZTwnY3JlZGl0JyB8ICdkZWJ0Jz4oKSxcbiAgIHN0YXR1czogdmFyY2hhcignc3RhdHVzJykuJHR5cGU8J2FjdGl2ZScgfCAnZGVsZXRlZCcgfCAnc3VzcGVuZGVkJz4oKS5kZWZhdWx0KCdhY3RpdmUnKSxcbn0pO1xuXG5leHBvcnQgdHlwZSBJbnNlcnRDcmVkaXREZWJ0ID0gdHlwZW9mIGNyZWRpdERlYnQuJGluZmVySW5zZXJ0O1xuZXhwb3J0IHR5cGUgU2VsZWN0Q3JlZGl0RGVidCA9IEluZmVyU2VsZWN0TW9kZWw8dHlwZW9mIGNyZWRpdERlYnQ+O1xuIl0sIm5hbWVzIjpbImRhdGUiLCJkZWNpbWFsIiwicGdUYWJsZSIsInV1aWQiLCJ2YXJjaGFyIiwidXNlcnMiLCJzYWxlcyIsImN1c3RvbWVycyIsImNyZWRpdERlYnQiLCJ0cmFuc2FjdGlvbklkIiwicHJpbWFyeUtleSIsImRlZmF1bHRSYW5kb20iLCJ1c2VySWQiLCJyZWZlcmVuY2VzIiwic2FsZXNJZCIsInRyYW5zYWN0aW9uRGF0ZSIsIm1vZGUiLCJjdXN0b21lcklkIiwidHJhbnNhY3Rpb25BbW91bnQiLCJwcmVjaXNpb24iLCJzY2FsZSIsInRyYW5zYWN0aW9uVHlwZSIsIiR0eXBlIiwic3RhdHVzIiwiZGVmYXVsdCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/server/db/schema/creditDebt.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/db/schema/customers.ts":
/*!*******************************************!*\
  !*** ./src/server/db/schema/customers.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   customers: () => (/* binding */ customers)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/uuid.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/varchar.js\");\n/* harmony import */ var _users__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./users */ \"(rsc)/./src/server/db/schema/users.ts\");\n\n\nconst customers = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)('customers', {\n    customerId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('customer_id').primaryKey().defaultRandom(),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('user_id').references(()=>_users__WEBPACK_IMPORTED_MODULE_0__.users.userId),\n    customerName: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.varchar)('full_name', {\n        length: 256\n    }).notNull(),\n    customerContact: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.varchar)('customer_contact', {\n        length: 256\n    }),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.varchar)('status').$type().default('active'),\n    kraPin: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.varchar)('kra_pin', {\n        length: 256\n    })\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL2RiL3NjaGVtYS9jdXN0b21lcnMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBNkQ7QUFDN0I7QUFHekIsTUFBTUksWUFBWUosNERBQU9BLENBQUMsYUFBYTtJQUMzQ0ssWUFBWUoseURBQUlBLENBQUMsZUFBZUssVUFBVSxHQUFHQyxhQUFhO0lBQzFEQyxRQUFRUCx5REFBSUEsQ0FBQyxXQUFXUSxVQUFVLENBQUMsSUFBTU4seUNBQUtBLENBQUNLLE1BQU07SUFDckRFLGNBQWNSLDREQUFPQSxDQUFDLGFBQWE7UUFBRVMsUUFBUTtJQUFJLEdBQUdDLE9BQU87SUFDM0RDLGlCQUFpQlgsNERBQU9BLENBQUMsb0JBQW9CO1FBQUVTLFFBQVE7SUFBSTtJQUMzREcsUUFBUVosNERBQU9BLENBQUMsVUFBVWEsS0FBSyxHQUF1Q0MsT0FBTyxDQUFDO0lBQzlFQyxRQUFRZiw0REFBT0EsQ0FBQyxXQUFXO1FBQUVTLFFBQVE7SUFBSTtBQUM1QyxHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZlci9kYi9zY2hlbWEvY3VzdG9tZXJzLnRzP2RkYzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGdUYWJsZSwgdXVpZCwgdmFyY2hhciB9IGZyb20gJ2RyaXp6bGUtb3JtL3BnLWNvcmUnO1xuaW1wb3J0IHsgdXNlcnMgfSBmcm9tICcuL3VzZXJzJztcbmltcG9ydCB7IEluZmVySW5zZXJ0TW9kZWwsIEluZmVyU2VsZWN0TW9kZWwgfSBmcm9tICdkcml6emxlLW9ybSc7XG5cbmV4cG9ydCBjb25zdCBjdXN0b21lcnMgPSBwZ1RhYmxlKCdjdXN0b21lcnMnLCB7XG4gICBjdXN0b21lcklkOiB1dWlkKCdjdXN0b21lcl9pZCcpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXG4gICB1c2VySWQ6IHV1aWQoJ3VzZXJfaWQnKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLnVzZXJJZCksXG4gICBjdXN0b21lck5hbWU6IHZhcmNoYXIoJ2Z1bGxfbmFtZScsIHsgbGVuZ3RoOiAyNTYgfSkubm90TnVsbCgpLFxuICAgY3VzdG9tZXJDb250YWN0OiB2YXJjaGFyKCdjdXN0b21lcl9jb250YWN0JywgeyBsZW5ndGg6IDI1NiB9KSxcbiAgIHN0YXR1czogdmFyY2hhcignc3RhdHVzJykuJHR5cGU8J2FjdGl2ZScgfCAnZGVsZXRlZCcgfCAnc3VzcGVuZGVkJz4oKS5kZWZhdWx0KCdhY3RpdmUnKSxcbiAgIGtyYVBpbjogdmFyY2hhcigna3JhX3BpbicsIHsgbGVuZ3RoOiAyNTYgfSksXG59KTtcblxuZXhwb3J0IHR5cGUgU2VsZWN0Q3VzdG9tZXJzID0gSW5mZXJTZWxlY3RNb2RlbDx0eXBlb2YgY3VzdG9tZXJzPjtcbmV4cG9ydCB0eXBlIEluc2VydEN1c3RvbWVyID0gSW5mZXJJbnNlcnRNb2RlbDx0eXBlb2YgY3VzdG9tZXJzPjtcbiJdLCJuYW1lcyI6WyJwZ1RhYmxlIiwidXVpZCIsInZhcmNoYXIiLCJ1c2VycyIsImN1c3RvbWVycyIsImN1c3RvbWVySWQiLCJwcmltYXJ5S2V5IiwiZGVmYXVsdFJhbmRvbSIsInVzZXJJZCIsInJlZmVyZW5jZXMiLCJjdXN0b21lck5hbWUiLCJsZW5ndGgiLCJub3ROdWxsIiwiY3VzdG9tZXJDb250YWN0Iiwic3RhdHVzIiwiJHR5cGUiLCJkZWZhdWx0Iiwia3JhUGluIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/server/db/schema/customers.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/db/schema/expenses.ts":
/*!******************************************!*\
  !*** ./src/server/db/schema/expenses.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   expenses: () => (/* binding */ expenses)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/uuid.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/numeric.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/varchar.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/text.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/date.js\");\n/* harmony import */ var _users__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./users */ \"(rsc)/./src/server/db/schema/users.ts\");\n\n\nconst expenses = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)('expenses', {\n    expenseId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('expense_id').primaryKey().defaultRandom(),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('user_id').references(()=>_users__WEBPACK_IMPORTED_MODULE_0__.users.userId),\n    expenseAmount: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.decimal)('expense_amount', {\n        precision: 10,\n        scale: 2\n    }),\n    expenseRecipient: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.varchar)('expense_recipient', {\n        length: 256\n    }),\n    expenseReference: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.varchar)('expense_reference', {\n        length: 256\n    }),\n    expenseDescription: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.text)('expense_description'),\n    paymenDate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.date)('payment_date', {\n        mode: 'string'\n    }),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.varchar)('status').$type().default('active')\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL2RiL3NjaGVtYS9leHBlbnNlcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFrRjtBQUNsRDtBQUd6QixNQUFNTyxXQUFXTCw0REFBT0EsQ0FBQyxZQUFZO0lBQ3pDTSxXQUFXSix5REFBSUEsQ0FBQyxjQUFjSyxVQUFVLEdBQUdDLGFBQWE7SUFDeERDLFFBQVFQLHlEQUFJQSxDQUFDLFdBQVdRLFVBQVUsQ0FBQyxJQUFNTix5Q0FBS0EsQ0FBQ0ssTUFBTTtJQUNyREUsZUFBZVosNERBQU9BLENBQUMsa0JBQWtCO1FBQUVhLFdBQVc7UUFBSUMsT0FBTztJQUFFO0lBQ25FQyxrQkFBa0JYLDREQUFPQSxDQUFDLHFCQUFxQjtRQUFFWSxRQUFRO0lBQUk7SUFDN0RDLGtCQUFrQmIsNERBQU9BLENBQUMscUJBQXFCO1FBQUVZLFFBQVE7SUFBSTtJQUM3REUsb0JBQW9CaEIseURBQUlBLENBQUM7SUFDekJpQixZQUFZcEIseURBQUlBLENBQUMsZ0JBQWdCO1FBQUVxQixNQUFNO0lBQVM7SUFDbERDLFFBQVFqQiw0REFBT0EsQ0FBQyxVQUFVa0IsS0FBSyxHQUF1Q0MsT0FBTyxDQUFDO0FBQ2pGLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2RiL3NjaGVtYS9leHBlbnNlcy50cz9lYmMzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRhdGUsIGRlY2ltYWwsIHBnVGFibGUsIHRleHQsIHV1aWQsIHZhcmNoYXIgfSBmcm9tICdkcml6emxlLW9ybS9wZy1jb3JlJztcbmltcG9ydCB7IHVzZXJzIH0gZnJvbSAnLi91c2Vycyc7XG5pbXBvcnQgeyBJbmZlclNlbGVjdE1vZGVsIH0gZnJvbSAnZHJpenpsZS1vcm0nO1xuXG5leHBvcnQgY29uc3QgZXhwZW5zZXMgPSBwZ1RhYmxlKCdleHBlbnNlcycsIHtcbiAgIGV4cGVuc2VJZDogdXVpZCgnZXhwZW5zZV9pZCcpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXG4gICB1c2VySWQ6IHV1aWQoJ3VzZXJfaWQnKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLnVzZXJJZCksXG4gICBleHBlbnNlQW1vdW50OiBkZWNpbWFsKCdleHBlbnNlX2Ftb3VudCcsIHsgcHJlY2lzaW9uOiAxMCwgc2NhbGU6IDIgfSksXG4gICBleHBlbnNlUmVjaXBpZW50OiB2YXJjaGFyKCdleHBlbnNlX3JlY2lwaWVudCcsIHsgbGVuZ3RoOiAyNTYgfSksXG4gICBleHBlbnNlUmVmZXJlbmNlOiB2YXJjaGFyKCdleHBlbnNlX3JlZmVyZW5jZScsIHsgbGVuZ3RoOiAyNTYgfSksXG4gICBleHBlbnNlRGVzY3JpcHRpb246IHRleHQoJ2V4cGVuc2VfZGVzY3JpcHRpb24nKSxcbiAgIHBheW1lbkRhdGU6IGRhdGUoJ3BheW1lbnRfZGF0ZScsIHsgbW9kZTogJ3N0cmluZycgfSksXG4gICBzdGF0dXM6IHZhcmNoYXIoJ3N0YXR1cycpLiR0eXBlPCdhY3RpdmUnIHwgJ2RlbGV0ZWQnIHwgJ3N1c3BlbmRlZCc+KCkuZGVmYXVsdCgnYWN0aXZlJyksXG59KTtcblxuZXhwb3J0IHR5cGUgU2VsZWN0RXhwZW5zZSA9IEluZmVyU2VsZWN0TW9kZWw8dHlwZW9mIGV4cGVuc2VzPjtcbmV4cG9ydCB0eXBlIEluc2VydEV4cGVuc2UgPSBJbmZlclNlbGVjdE1vZGVsPHR5cGVvZiBleHBlbnNlcz47XG4iXSwibmFtZXMiOlsiZGF0ZSIsImRlY2ltYWwiLCJwZ1RhYmxlIiwidGV4dCIsInV1aWQiLCJ2YXJjaGFyIiwidXNlcnMiLCJleHBlbnNlcyIsImV4cGVuc2VJZCIsInByaW1hcnlLZXkiLCJkZWZhdWx0UmFuZG9tIiwidXNlcklkIiwicmVmZXJlbmNlcyIsImV4cGVuc2VBbW91bnQiLCJwcmVjaXNpb24iLCJzY2FsZSIsImV4cGVuc2VSZWNpcGllbnQiLCJsZW5ndGgiLCJleHBlbnNlUmVmZXJlbmNlIiwiZXhwZW5zZURlc2NyaXB0aW9uIiwicGF5bWVuRGF0ZSIsIm1vZGUiLCJzdGF0dXMiLCIkdHlwZSIsImRlZmF1bHQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/server/db/schema/expenses.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/db/schema/inventory.ts":
/*!*******************************************!*\
  !*** ./src/server/db/schema/inventory.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   inventory: () => (/* binding */ inventory)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/uuid.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/integer.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/numeric.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/date.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/varchar.js\");\n/* harmony import */ var _items__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./items */ \"(rsc)/./src/server/db/schema/items.ts\");\n\n\nconst inventory = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)('inventory', {\n    inventoryId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('inventory_id').primaryKey().defaultRandom(),\n    itemId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)('item_id').references(()=>_items__WEBPACK_IMPORTED_MODULE_0__.items.itemId),\n    quantityAdded: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('quantity_added'),\n    quantityInStock: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('quantity_in_stock').notNull().default(0),\n    buyingPrice: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.decimal)('buying_price', {\n        precision: 10,\n        scale: 2\n    }),\n    sellingPrice: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.decimal)('selling_price', {\n        precision: 10,\n        scale: 2\n    }),\n    lastUpdated: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.date)('last_updated', {\n        mode: 'string'\n    }),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.varchar)('status').$type().default('active')\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL2RiL3NjaGVtYS9pbnZlbnRvcnkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBcUY7QUFDckQ7QUFHekIsTUFBTU8sWUFBWUosNERBQU9BLENBQUMsYUFBYTtJQUMzQ0ssYUFBYUoseURBQUlBLENBQUMsZ0JBQWdCSyxVQUFVLEdBQUdDLGFBQWE7SUFDNURDLFFBQVFQLHlEQUFJQSxDQUFDLFdBQVdRLFVBQVUsQ0FBQyxJQUFNTix5Q0FBS0EsQ0FBQ0ssTUFBTTtJQUNyREUsZUFBZVgsNERBQU9BLENBQUM7SUFDdkJZLGlCQUFpQlosNERBQU9BLENBQUMscUJBQXFCYSxPQUFPLEdBQUdDLE9BQU8sQ0FBQztJQUNoRUMsYUFBYWhCLDREQUFPQSxDQUFDLGdCQUFnQjtRQUFFaUIsV0FBVztRQUFJQyxPQUFPO0lBQUU7SUFDL0RDLGNBQWNuQiw0REFBT0EsQ0FBQyxpQkFBaUI7UUFBRWlCLFdBQVc7UUFBSUMsT0FBTztJQUFFO0lBQ2pFRSxhQUFhckIseURBQUlBLENBQUMsZ0JBQWdCO1FBQUVzQixNQUFNO0lBQVM7SUFDbkRDLFFBQVFsQiw0REFBT0EsQ0FBQyxVQUFVbUIsS0FBSyxHQUF1Q1IsT0FBTyxDQUFDO0FBQ2pGLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2RiL3NjaGVtYS9pbnZlbnRvcnkudHM/MGYyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkYXRlLCBkZWNpbWFsLCBpbnRlZ2VyLCBwZ1RhYmxlLCB1dWlkLCB2YXJjaGFyIH0gZnJvbSAnZHJpenpsZS1vcm0vcGctY29yZSc7XG5pbXBvcnQgeyBpdGVtcyB9IGZyb20gJy4vaXRlbXMnO1xuaW1wb3J0IHsgSW5mZXJTZWxlY3RNb2RlbCB9IGZyb20gJ2RyaXp6bGUtb3JtJztcblxuZXhwb3J0IGNvbnN0IGludmVudG9yeSA9IHBnVGFibGUoJ2ludmVudG9yeScsIHtcbiAgIGludmVudG9yeUlkOiB1dWlkKCdpbnZlbnRvcnlfaWQnKS5wcmltYXJ5S2V5KCkuZGVmYXVsdFJhbmRvbSgpLFxuICAgaXRlbUlkOiB1dWlkKCdpdGVtX2lkJykucmVmZXJlbmNlcygoKSA9PiBpdGVtcy5pdGVtSWQpLFxuICAgcXVhbnRpdHlBZGRlZDogaW50ZWdlcigncXVhbnRpdHlfYWRkZWQnKSxcbiAgIHF1YW50aXR5SW5TdG9jazogaW50ZWdlcigncXVhbnRpdHlfaW5fc3RvY2snKS5ub3ROdWxsKCkuZGVmYXVsdCgwKSxcbiAgIGJ1eWluZ1ByaWNlOiBkZWNpbWFsKCdidXlpbmdfcHJpY2UnLCB7IHByZWNpc2lvbjogMTAsIHNjYWxlOiAyIH0pLFxuICAgc2VsbGluZ1ByaWNlOiBkZWNpbWFsKCdzZWxsaW5nX3ByaWNlJywgeyBwcmVjaXNpb246IDEwLCBzY2FsZTogMiB9KSxcbiAgIGxhc3RVcGRhdGVkOiBkYXRlKCdsYXN0X3VwZGF0ZWQnLCB7IG1vZGU6ICdzdHJpbmcnIH0pLFxuICAgc3RhdHVzOiB2YXJjaGFyKCdzdGF0dXMnKS4kdHlwZTwnYWN0aXZlJyB8ICdkZWxldGVkJyB8ICdzdXNwZW5kZWQnPigpLmRlZmF1bHQoJ2FjdGl2ZScpLFxufSk7XG5cbmV4cG9ydCB0eXBlIFNlbGVjdEludmVudG9yeSA9IEluZmVyU2VsZWN0TW9kZWw8dHlwZW9mIGludmVudG9yeT47XG5leHBvcnQgdHlwZSBJbnNlcnRJbnZlbnRvcnkgPSBJbmZlclNlbGVjdE1vZGVsPHR5cGVvZiBpbnZlbnRvcnk+O1xuIl0sIm5hbWVzIjpbImRhdGUiLCJkZWNpbWFsIiwiaW50ZWdlciIsInBnVGFibGUiLCJ1dWlkIiwidmFyY2hhciIsIml0ZW1zIiwiaW52ZW50b3J5IiwiaW52ZW50b3J5SWQiLCJwcmltYXJ5S2V5IiwiZGVmYXVsdFJhbmRvbSIsIml0ZW1JZCIsInJlZmVyZW5jZXMiLCJxdWFudGl0eUFkZGVkIiwicXVhbnRpdHlJblN0b2NrIiwibm90TnVsbCIsImRlZmF1bHQiLCJidXlpbmdQcmljZSIsInByZWNpc2lvbiIsInNjYWxlIiwic2VsbGluZ1ByaWNlIiwibGFzdFVwZGF0ZWQiLCJtb2RlIiwic3RhdHVzIiwiJHR5cGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/server/db/schema/inventory.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/db/schema/items.ts":
/*!***************************************!*\
  !*** ./src/server/db/schema/items.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   items: () => (/* binding */ items)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/uuid.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/varchar.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/integer.js\");\n/* harmony import */ var _users__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./users */ \"(rsc)/./src/server/db/schema/users.ts\");\n/* harmony import */ var _categories__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./categories */ \"(rsc)/./src/server/db/schema/categories.ts\");\n\n\n\nconst items = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)('items', {\n    itemId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('item_id').primaryKey().defaultRandom(),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('user_id').references(()=>_users__WEBPACK_IMPORTED_MODULE_0__.users.userId),\n    itemName: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.varchar)('item_name', {\n        length: 256\n    }).notNull(),\n    unitOfMeasure: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.varchar)('unit_of_measure', {\n        length: 256\n    }).notNull(),\n    categoryId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('category_id').references(()=>_categories__WEBPACK_IMPORTED_MODULE_1__.categories.categoryId),\n    reorderLevel: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.integer)('reorder_level'),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.varchar)('status').$type().default('active')\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL2RiL3NjaGVtYS9pdGVtcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXNFO0FBQ3RDO0FBQ1U7QUFHbkMsTUFBTU0sUUFBUUwsNERBQU9BLENBQUMsU0FBUztJQUNuQ00sUUFBUUwseURBQUlBLENBQUMsV0FBV00sVUFBVSxHQUFHQyxhQUFhO0lBQ2xEQyxRQUFRUix5REFBSUEsQ0FBQyxXQUFXUyxVQUFVLENBQUMsSUFBTVAseUNBQUtBLENBQUNNLE1BQU07SUFDckRFLFVBQVVULDREQUFPQSxDQUFDLGFBQWE7UUFBRVUsUUFBUTtJQUFJLEdBQUdDLE9BQU87SUFDdkRDLGVBQWVaLDREQUFPQSxDQUFDLG1CQUFtQjtRQUFFVSxRQUFRO0lBQUksR0FBR0MsT0FBTztJQUNsRUUsWUFBWWQseURBQUlBLENBQUMsZUFBZVMsVUFBVSxDQUFDLElBQU1OLG1EQUFVQSxDQUFDVyxVQUFVO0lBQ3RFQyxjQUFjakIsNERBQU9BLENBQUM7SUFDdEJrQixRQUFRZiw0REFBT0EsQ0FBQyxVQUFVZ0IsS0FBSyxHQUF1Q0MsT0FBTyxDQUFDO0FBQ2pGLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2RiL3NjaGVtYS9pdGVtcy50cz83ZDg2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGludGVnZXIsIHBnVGFibGUsIHV1aWQsIHZhcmNoYXIgfSBmcm9tICdkcml6emxlLW9ybS9wZy1jb3JlJztcbmltcG9ydCB7IHVzZXJzIH0gZnJvbSAnLi91c2Vycyc7XG5pbXBvcnQgeyBjYXRlZ29yaWVzIH0gZnJvbSAnLi9jYXRlZ29yaWVzJztcbmltcG9ydCB7IEluZmVySW5zZXJ0TW9kZWwsIEluZmVyU2VsZWN0TW9kZWwgfSBmcm9tICdkcml6emxlLW9ybSc7XG5cbmV4cG9ydCBjb25zdCBpdGVtcyA9IHBnVGFibGUoJ2l0ZW1zJywge1xuICAgaXRlbUlkOiB1dWlkKCdpdGVtX2lkJykucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcbiAgIHVzZXJJZDogdXVpZCgndXNlcl9pZCcpLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMudXNlcklkKSxcbiAgIGl0ZW1OYW1lOiB2YXJjaGFyKCdpdGVtX25hbWUnLCB7IGxlbmd0aDogMjU2IH0pLm5vdE51bGwoKSxcbiAgIHVuaXRPZk1lYXN1cmU6IHZhcmNoYXIoJ3VuaXRfb2ZfbWVhc3VyZScsIHsgbGVuZ3RoOiAyNTYgfSkubm90TnVsbCgpLFxuICAgY2F0ZWdvcnlJZDogdXVpZCgnY2F0ZWdvcnlfaWQnKS5yZWZlcmVuY2VzKCgpID0+IGNhdGVnb3JpZXMuY2F0ZWdvcnlJZCksXG4gICByZW9yZGVyTGV2ZWw6IGludGVnZXIoJ3Jlb3JkZXJfbGV2ZWwnKSxcbiAgIHN0YXR1czogdmFyY2hhcignc3RhdHVzJykuJHR5cGU8J2FjdGl2ZScgfCAnZGVsZXRlZCcgfCAnc3VzcGVuZGVkJz4oKS5kZWZhdWx0KCdhY3RpdmUnKSxcbn0pO1xuXG5leHBvcnQgdHlwZSBTZWxlY3RJdGVtID0gSW5mZXJTZWxlY3RNb2RlbDx0eXBlb2YgaXRlbXM+O1xuZXhwb3J0IHR5cGUgSW5zZXJ0SXRlbSA9IEluZmVySW5zZXJ0TW9kZWw8dHlwZW9mIGl0ZW1zPjtcbiJdLCJuYW1lcyI6WyJpbnRlZ2VyIiwicGdUYWJsZSIsInV1aWQiLCJ2YXJjaGFyIiwidXNlcnMiLCJjYXRlZ29yaWVzIiwiaXRlbXMiLCJpdGVtSWQiLCJwcmltYXJ5S2V5IiwiZGVmYXVsdFJhbmRvbSIsInVzZXJJZCIsInJlZmVyZW5jZXMiLCJpdGVtTmFtZSIsImxlbmd0aCIsIm5vdE51bGwiLCJ1bml0T2ZNZWFzdXJlIiwiY2F0ZWdvcnlJZCIsInJlb3JkZXJMZXZlbCIsInN0YXR1cyIsIiR0eXBlIiwiZGVmYXVsdCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/server/db/schema/items.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/db/schema/sales.ts":
/*!***************************************!*\
  !*** ./src/server/db/schema/sales.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sales: () => (/* binding */ sales)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/uuid.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/date.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/varchar.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/numeric.js\");\n/* harmony import */ var _users__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./users */ \"(rsc)/./src/server/db/schema/users.ts\");\n/* harmony import */ var _customers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./customers */ \"(rsc)/./src/server/db/schema/customers.ts\");\n\n\n\nconst sales = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)('sales', {\n    salesId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('sales_id').primaryKey().defaultRandom(),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('user_id').references(()=>_users__WEBPACK_IMPORTED_MODULE_0__.users.userId),\n    salesDate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.date)('sales_date', {\n        mode: 'string'\n    }),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.varchar)('status').$type().default('active'),\n    paymentOption: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.varchar)('payment_option').$type().default('cash'),\n    totalCost: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.decimal)('totalCost', {\n        precision: 10,\n        scale: 2\n    }),\n    customerId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)('customer_id').references(()=>_customers__WEBPACK_IMPORTED_MODULE_1__.customers.customerId)\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL2RiL3NjaGVtYS9zYWxlcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUE0RTtBQUM1QztBQUNRO0FBR2pDLE1BQU1PLFFBQVFMLDREQUFPQSxDQUFDLFNBQVM7SUFDbkNNLFNBQVNMLHlEQUFJQSxDQUFDLFlBQVlNLFVBQVUsR0FBR0MsYUFBYTtJQUNwREMsUUFBUVIseURBQUlBLENBQUMsV0FBV1MsVUFBVSxDQUFDLElBQU1QLHlDQUFLQSxDQUFDTSxNQUFNO0lBQ3JERSxXQUFXYix5REFBSUEsQ0FBQyxjQUFjO1FBQUVjLE1BQU07SUFBUztJQUMvQ0MsUUFBUVgsNERBQU9BLENBQUMsVUFBVVksS0FBSyxHQUF1Q0MsT0FBTyxDQUFDO0lBQzlFQyxlQUFlZCw0REFBT0EsQ0FBQyxrQkFBa0JZLEtBQUssR0FBZ0NDLE9BQU8sQ0FBQztJQUN0RkUsV0FBV2xCLDREQUFPQSxDQUFDLGFBQWE7UUFBRW1CLFdBQVc7UUFBSUMsT0FBTztJQUFFO0lBQzFEQyxZQUFZbkIseURBQUlBLENBQUMsZUFBZVMsVUFBVSxDQUFDLElBQU1OLGlEQUFTQSxDQUFDZ0IsVUFBVTtBQUN4RSxHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZlci9kYi9zY2hlbWEvc2FsZXMudHM/OTE4OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkYXRlLCBkZWNpbWFsLCBwZ1RhYmxlLCB1dWlkLCB2YXJjaGFyIH0gZnJvbSAnZHJpenpsZS1vcm0vcGctY29yZSc7XG5pbXBvcnQgeyB1c2VycyB9IGZyb20gJy4vdXNlcnMnO1xuaW1wb3J0IHsgY3VzdG9tZXJzIH0gZnJvbSAnLi9jdXN0b21lcnMnO1xuaW1wb3J0IHsgSW5mZXJTZWxlY3RNb2RlbCB9IGZyb20gJ2RyaXp6bGUtb3JtJztcblxuZXhwb3J0IGNvbnN0IHNhbGVzID0gcGdUYWJsZSgnc2FsZXMnLCB7XG4gICBzYWxlc0lkOiB1dWlkKCdzYWxlc19pZCcpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXG4gICB1c2VySWQ6IHV1aWQoJ3VzZXJfaWQnKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLnVzZXJJZCksXG4gICBzYWxlc0RhdGU6IGRhdGUoJ3NhbGVzX2RhdGUnLCB7IG1vZGU6ICdzdHJpbmcnIH0pLFxuICAgc3RhdHVzOiB2YXJjaGFyKCdzdGF0dXMnKS4kdHlwZTwnYWN0aXZlJyB8ICdkZWxldGVkJyB8ICdzdXNwZW5kZWQnPigpLmRlZmF1bHQoJ2FjdGl2ZScpLFxuICAgcGF5bWVudE9wdGlvbjogdmFyY2hhcigncGF5bWVudF9vcHRpb24nKS4kdHlwZTwnY2FzaCcgfCAnY3JlZGl0JyB8ICdtcGVzYSc+KCkuZGVmYXVsdCgnY2FzaCcpLFxuICAgdG90YWxDb3N0OiBkZWNpbWFsKCd0b3RhbENvc3QnLCB7IHByZWNpc2lvbjogMTAsIHNjYWxlOiAyIH0pLFxuICAgY3VzdG9tZXJJZDogdXVpZCgnY3VzdG9tZXJfaWQnKS5yZWZlcmVuY2VzKCgpID0+IGN1c3RvbWVycy5jdXN0b21lcklkKSxcbn0pO1xuXG5leHBvcnQgdHlwZSBJbnNlcnRTYWxlcyA9IHR5cGVvZiBzYWxlcy4kaW5mZXJJbnNlcnQ7XG5leHBvcnQgdHlwZSBTZWxlY3RTYWxlID0gSW5mZXJTZWxlY3RNb2RlbDx0eXBlb2Ygc2FsZXM+O1xuIl0sIm5hbWVzIjpbImRhdGUiLCJkZWNpbWFsIiwicGdUYWJsZSIsInV1aWQiLCJ2YXJjaGFyIiwidXNlcnMiLCJjdXN0b21lcnMiLCJzYWxlcyIsInNhbGVzSWQiLCJwcmltYXJ5S2V5IiwiZGVmYXVsdFJhbmRvbSIsInVzZXJJZCIsInJlZmVyZW5jZXMiLCJzYWxlc0RhdGUiLCJtb2RlIiwic3RhdHVzIiwiJHR5cGUiLCJkZWZhdWx0IiwicGF5bWVudE9wdGlvbiIsInRvdGFsQ29zdCIsInByZWNpc2lvbiIsInNjYWxlIiwiY3VzdG9tZXJJZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/server/db/schema/sales.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/db/schema/salesItems.ts":
/*!********************************************!*\
  !*** ./src/server/db/schema/salesItems.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   salesItems: () => (/* binding */ salesItems)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/uuid.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/integer.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/numeric.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/varchar.js\");\n/* harmony import */ var _sales__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sales */ \"(rsc)/./src/server/db/schema/sales.ts\");\n/* harmony import */ var _items__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./items */ \"(rsc)/./src/server/db/schema/items.ts\");\n/* harmony import */ var _inventory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./inventory */ \"(rsc)/./src/server/db/schema/inventory.ts\");\n\n\n\n\nconst salesItems = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.pgTable)('sales_items', {\n    salesItemId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.uuid)('sales_item_id').primaryKey().defaultRandom(),\n    salesId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.uuid)('sales_id').references(()=>_sales__WEBPACK_IMPORTED_MODULE_0__.sales.salesId),\n    itemId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.uuid)('item_id').references(()=>_items__WEBPACK_IMPORTED_MODULE_1__.items.itemId),\n    inventoryId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.uuid)('inventory_id').references(()=>_inventory__WEBPACK_IMPORTED_MODULE_2__.inventory.inventoryId),\n    salesQuantity: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.integer)('sales_quantity'),\n    unitPrice: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.decimal)('unit_price', {\n        precision: 10,\n        scale: 2\n    }),\n    totalPrice: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.decimal)('total_price', {\n        precision: 10,\n        scale: 2\n    }),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.varchar)('status').$type().default('active')\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL2RiL3NjaGVtYS9zYWxlc0l0ZW1zLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUErRTtBQUMvQztBQUNBO0FBQ1E7QUFHakMsTUFBTVEsYUFBYU4sNERBQU9BLENBQUMsZUFBZTtJQUM5Q08sYUFBYU4seURBQUlBLENBQUMsaUJBQWlCTyxVQUFVLEdBQUdDLGFBQWE7SUFDN0RDLFNBQVNULHlEQUFJQSxDQUFDLFlBQVlVLFVBQVUsQ0FBQyxJQUFNUix5Q0FBS0EsQ0FBQ08sT0FBTztJQUN4REUsUUFBUVgseURBQUlBLENBQUMsV0FBV1UsVUFBVSxDQUFDLElBQU1QLHlDQUFLQSxDQUFDUSxNQUFNO0lBQ3JEQyxhQUFhWix5REFBSUEsQ0FBQyxnQkFBZ0JVLFVBQVUsQ0FBQyxJQUFNTixpREFBU0EsQ0FBQ1EsV0FBVztJQUN4RUMsZUFBZWYsNERBQU9BLENBQUM7SUFDdkJnQixXQUFXakIsNERBQU9BLENBQUMsY0FBYztRQUFFa0IsV0FBVztRQUFJQyxPQUFPO0lBQUU7SUFDM0RDLFlBQVlwQiw0REFBT0EsQ0FBQyxlQUFlO1FBQUVrQixXQUFXO1FBQUlDLE9BQU87SUFBRTtJQUM3REUsUUFBUWpCLDREQUFPQSxDQUFDLFVBQVVrQixLQUFLLEdBQXVDQyxPQUFPLENBQUM7QUFDakYsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zZXJ2ZXIvZGIvc2NoZW1hL3NhbGVzSXRlbXMudHM/ZDhkNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWNpbWFsLCBpbnRlZ2VyLCBwZ1RhYmxlLCB1dWlkLCB2YXJjaGFyIH0gZnJvbSAnZHJpenpsZS1vcm0vcGctY29yZSc7XG5pbXBvcnQgeyBzYWxlcyB9IGZyb20gJy4vc2FsZXMnO1xuaW1wb3J0IHsgaXRlbXMgfSBmcm9tICcuL2l0ZW1zJztcbmltcG9ydCB7IGludmVudG9yeSB9IGZyb20gJy4vaW52ZW50b3J5JztcbmltcG9ydCB7IEluZmVyU2VsZWN0TW9kZWwgfSBmcm9tICdkcml6emxlLW9ybSc7XG5cbmV4cG9ydCBjb25zdCBzYWxlc0l0ZW1zID0gcGdUYWJsZSgnc2FsZXNfaXRlbXMnLCB7XG4gICBzYWxlc0l0ZW1JZDogdXVpZCgnc2FsZXNfaXRlbV9pZCcpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXG4gICBzYWxlc0lkOiB1dWlkKCdzYWxlc19pZCcpLnJlZmVyZW5jZXMoKCkgPT4gc2FsZXMuc2FsZXNJZCksXG4gICBpdGVtSWQ6IHV1aWQoJ2l0ZW1faWQnKS5yZWZlcmVuY2VzKCgpID0+IGl0ZW1zLml0ZW1JZCksXG4gICBpbnZlbnRvcnlJZDogdXVpZCgnaW52ZW50b3J5X2lkJykucmVmZXJlbmNlcygoKSA9PiBpbnZlbnRvcnkuaW52ZW50b3J5SWQpLFxuICAgc2FsZXNRdWFudGl0eTogaW50ZWdlcignc2FsZXNfcXVhbnRpdHknKSxcbiAgIHVuaXRQcmljZTogZGVjaW1hbCgndW5pdF9wcmljZScsIHsgcHJlY2lzaW9uOiAxMCwgc2NhbGU6IDIgfSksXG4gICB0b3RhbFByaWNlOiBkZWNpbWFsKCd0b3RhbF9wcmljZScsIHsgcHJlY2lzaW9uOiAxMCwgc2NhbGU6IDIgfSksXG4gICBzdGF0dXM6IHZhcmNoYXIoJ3N0YXR1cycpLiR0eXBlPCdhY3RpdmUnIHwgJ2RlbGV0ZWQnIHwgJ3N1c3BlbmRlZCc+KCkuZGVmYXVsdCgnYWN0aXZlJyksXG59KTtcblxuZXhwb3J0IHR5cGUgSW5zZXJ0U2FsZXNJdGVtID0gdHlwZW9mIHNhbGVzSXRlbXMuJGluZmVySW5zZXJ0O1xuZXhwb3J0IHR5cGUgU2VsZWN0U2FsZXNJdGVtID0gSW5mZXJTZWxlY3RNb2RlbDx0eXBlb2Ygc2FsZXNJdGVtcz47XG4iXSwibmFtZXMiOlsiZGVjaW1hbCIsImludGVnZXIiLCJwZ1RhYmxlIiwidXVpZCIsInZhcmNoYXIiLCJzYWxlcyIsIml0ZW1zIiwiaW52ZW50b3J5Iiwic2FsZXNJdGVtcyIsInNhbGVzSXRlbUlkIiwicHJpbWFyeUtleSIsImRlZmF1bHRSYW5kb20iLCJzYWxlc0lkIiwicmVmZXJlbmNlcyIsIml0ZW1JZCIsImludmVudG9yeUlkIiwic2FsZXNRdWFudGl0eSIsInVuaXRQcmljZSIsInByZWNpc2lvbiIsInNjYWxlIiwidG90YWxQcmljZSIsInN0YXR1cyIsIiR0eXBlIiwiZGVmYXVsdCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/server/db/schema/salesItems.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/db/schema/users.ts":
/*!***************************************!*\
  !*** ./src/server/db/schema/users.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   users: () => (/* binding */ users)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/uuid.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/varchar.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/date.js\");\n/* harmony import */ var _businessTypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./businessTypes */ \"(rsc)/./src/server/db/schema/businessTypes.ts\");\n\n\nconst users = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"users\", {\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)(\"user_id\").primaryKey().defaultRandom(),\n    fullName: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.varchar)(\"full_name\", {\n        length: 256\n    }).notNull(),\n    phoneNumber: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.varchar)(\"traveller_phone\", {\n        length: 256\n    }).notNull(),\n    password: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.varchar)(\"password\", {\n        length: 256\n    }).notNull(),\n    businessName: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.varchar)(\"business_name\", {\n        length: 256\n    }).notNull(),\n    businessTypeId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.uuid)(\"business_type_id\").references(()=>_businessTypes__WEBPACK_IMPORTED_MODULE_0__.businessTypes.businessTypeId),\n    businessLocation: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.varchar)(\"business_location\", {\n        length: 256\n    }).notNull(),\n    dateJoined: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.date)(\"date_joined\", {\n        mode: \"string\"\n    }),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.varchar)('status').$type().default('active')\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL2RiL3NjaGVtYS91c2Vycy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBaUU7QUFDbEI7QUFJeEMsTUFBTUssUUFBUUosNERBQU9BLENBQUMsU0FBUztJQUNuQ0ssUUFBUUoseURBQUlBLENBQUMsV0FBV0ssVUFBVSxHQUFHQyxhQUFhO0lBQ2xEQyxVQUFVTiw0REFBT0EsQ0FBQyxhQUFhO1FBQUVPLFFBQVE7SUFBSSxHQUFHQyxPQUFPO0lBQ3ZEQyxhQUFhVCw0REFBT0EsQ0FBQyxtQkFBbUI7UUFBRU8sUUFBUTtJQUFJLEdBQUdDLE9BQU87SUFDaEVFLFVBQVVWLDREQUFPQSxDQUFDLFlBQVk7UUFBRU8sUUFBUTtJQUFJLEdBQUdDLE9BQU87SUFDdERHLGNBQWNYLDREQUFPQSxDQUFDLGlCQUFpQjtRQUFFTyxRQUFRO0lBQUksR0FBR0MsT0FBTztJQUMvREksZ0JBQWdCYix5REFBSUEsQ0FBQyxvQkFBb0JjLFVBQVUsQ0FBQyxJQUFNWix5REFBYUEsQ0FBQ1csY0FBYztJQUN0RkUsa0JBQWtCZCw0REFBT0EsQ0FBQyxxQkFBcUI7UUFBRU8sUUFBUTtJQUFJLEdBQUdDLE9BQU87SUFDdkVPLFlBQVlsQix5REFBSUEsQ0FBQyxlQUFlO1FBQUVtQixNQUFNO0lBQVM7SUFDakRDLFFBQVFqQiw0REFBT0EsQ0FBQyxVQUFVa0IsS0FBSyxHQUF1Q0MsT0FBTyxDQUFDO0FBQ2pGLEdBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2RiL3NjaGVtYS91c2Vycy50cz82YTNmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRhdGUscGdUYWJsZSwgdXVpZCwgdmFyY2hhciB9IGZyb20gXCJkcml6emxlLW9ybS9wZy1jb3JlXCJcbmltcG9ydCB7IGJ1c2luZXNzVHlwZXMgfSBmcm9tIFwiLi9idXNpbmVzc1R5cGVzXCJcblxuXG5cbmV4cG9ydCBjb25zdCB1c2VycyA9IHBnVGFibGUoXCJ1c2Vyc1wiLCB7XG4gICB1c2VySWQ6IHV1aWQoXCJ1c2VyX2lkXCIpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXG4gICBmdWxsTmFtZTogdmFyY2hhcihcImZ1bGxfbmFtZVwiLCB7IGxlbmd0aDogMjU2IH0pLm5vdE51bGwoKSxcbiAgIHBob25lTnVtYmVyOiB2YXJjaGFyKFwidHJhdmVsbGVyX3Bob25lXCIsIHsgbGVuZ3RoOiAyNTYgfSkubm90TnVsbCgpLFxuICAgcGFzc3dvcmQ6IHZhcmNoYXIoXCJwYXNzd29yZFwiLCB7IGxlbmd0aDogMjU2IH0pLm5vdE51bGwoKSxcbiAgIGJ1c2luZXNzTmFtZTogdmFyY2hhcihcImJ1c2luZXNzX25hbWVcIiwgeyBsZW5ndGg6IDI1NiB9KS5ub3ROdWxsKCksXG4gICBidXNpbmVzc1R5cGVJZDogdXVpZChcImJ1c2luZXNzX3R5cGVfaWRcIikucmVmZXJlbmNlcygoKSA9PiBidXNpbmVzc1R5cGVzLmJ1c2luZXNzVHlwZUlkKSxcbiAgIGJ1c2luZXNzTG9jYXRpb246IHZhcmNoYXIoXCJidXNpbmVzc19sb2NhdGlvblwiLCB7IGxlbmd0aDogMjU2IH0pLm5vdE51bGwoKSxcbiAgIGRhdGVKb2luZWQ6IGRhdGUoXCJkYXRlX2pvaW5lZFwiLCB7IG1vZGU6IFwic3RyaW5nXCIgfSksXG4gICBzdGF0dXM6IHZhcmNoYXIoJ3N0YXR1cycpLiR0eXBlPCdhY3RpdmUnIHwgJ2RlbGV0ZWQnIHwgJ3N1c3BlbmRlZCc+KCkuZGVmYXVsdCgnYWN0aXZlJyksXG59KVxuIl0sIm5hbWVzIjpbImRhdGUiLCJwZ1RhYmxlIiwidXVpZCIsInZhcmNoYXIiLCJidXNpbmVzc1R5cGVzIiwidXNlcnMiLCJ1c2VySWQiLCJwcmltYXJ5S2V5IiwiZGVmYXVsdFJhbmRvbSIsImZ1bGxOYW1lIiwibGVuZ3RoIiwibm90TnVsbCIsInBob25lTnVtYmVyIiwicGFzc3dvcmQiLCJidXNpbmVzc05hbWUiLCJidXNpbmVzc1R5cGVJZCIsInJlZmVyZW5jZXMiLCJidXNpbmVzc0xvY2F0aW9uIiwiZGF0ZUpvaW5lZCIsIm1vZGUiLCJzdGF0dXMiLCIkdHlwZSIsImRlZmF1bHQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/server/db/schema/users.ts\n");

/***/ }),

/***/ "(rsc)/./src/validation/categoriesValidation.ts":
/*!************************************************!*\
  !*** ./src/validation/categoriesValidation.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   newCategoryValidation: () => (/* binding */ newCategoryValidation)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/.pnpm/zod@3.23.8/node_modules/zod/lib/index.mjs\");\n\nconst newCategoryValidation = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    categoryName: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(2, {\n        message: 'Category name is required'\n    }),\n    description: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().nullable()\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvdmFsaWRhdGlvbi9jYXRlZ29yaWVzVmFsaWRhdGlvbi50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUF3QjtBQUVqQixNQUFNQyx3QkFBd0JELGtDQUFDQSxDQUFDRSxNQUFNLENBQUM7SUFDM0NDLGNBQWNILGtDQUFDQSxDQUFDSSxNQUFNLEdBQUdDLEdBQUcsQ0FBQyxHQUFHO1FBQUVDLFNBQVM7SUFBNEI7SUFDdkVDLGFBQWFQLGtDQUFDQSxDQUFDSSxNQUFNLEdBQUdJLFFBQVE7QUFDbkMsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy92YWxpZGF0aW9uL2NhdGVnb3JpZXNWYWxpZGF0aW9uLnRzP2I5ZDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5cbmV4cG9ydCBjb25zdCBuZXdDYXRlZ29yeVZhbGlkYXRpb24gPSB6Lm9iamVjdCh7XG4gICBjYXRlZ29yeU5hbWU6IHouc3RyaW5nKCkubWluKDIsIHsgbWVzc2FnZTogJ0NhdGVnb3J5IG5hbWUgaXMgcmVxdWlyZWQnIH0pLFxuICAgZGVzY3JpcHRpb246IHouc3RyaW5nKCkubnVsbGFibGUoKSxcbn0pO1xuXG5leHBvcnQgdHlwZSBOZXdDYXRlZ29yeUZvcm0gPSB6LmluZmVyPHR5cGVvZiBuZXdDYXRlZ29yeVZhbGlkYXRpb24+O1xuIl0sIm5hbWVzIjpbInoiLCJuZXdDYXRlZ29yeVZhbGlkYXRpb24iLCJvYmplY3QiLCJjYXRlZ29yeU5hbWUiLCJzdHJpbmciLCJtaW4iLCJtZXNzYWdlIiwiZGVzY3JpcHRpb24iLCJudWxsYWJsZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/validation/categoriesValidation.ts\n");

/***/ }),

/***/ "(rsc)/./src/validation/customerValidation.ts":
/*!**********************************************!*\
  !*** ./src/validation/customerValidation.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   newCustomerValidation: () => (/* binding */ newCustomerValidation)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/.pnpm/zod@3.23.8/node_modules/zod/lib/index.mjs\");\n\nconst newCustomerValidation = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    customerName: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(2, {\n        message: 'Valid customer name is required'\n    }),\n    customerContact: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(10, {\n        message: 'Phone number should be atleast 10 characters'\n    }),\n    kraPin: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional()\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvdmFsaWRhdGlvbi9jdXN0b21lclZhbGlkYXRpb24udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBd0I7QUFFakIsTUFBTUMsd0JBQXdCRCxrQ0FBQ0EsQ0FBQ0UsTUFBTSxDQUFDO0lBQzNDQyxjQUFjSCxrQ0FBQ0EsQ0FBQ0ksTUFBTSxHQUFHQyxHQUFHLENBQUMsR0FBRztRQUFFQyxTQUFTO0lBQWtDO0lBQzdFQyxpQkFBaUJQLGtDQUFDQSxDQUFDSSxNQUFNLEdBQUdDLEdBQUcsQ0FBQyxJQUFJO1FBQUVDLFNBQVM7SUFBK0M7SUFDOUZFLFFBQVFSLGtDQUFDQSxDQUFDSSxNQUFNLEdBQUdLLFFBQVE7QUFDOUIsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy92YWxpZGF0aW9uL2N1c3RvbWVyVmFsaWRhdGlvbi50cz81YWE2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuXG5leHBvcnQgY29uc3QgbmV3Q3VzdG9tZXJWYWxpZGF0aW9uID0gei5vYmplY3Qoe1xuICAgY3VzdG9tZXJOYW1lOiB6LnN0cmluZygpLm1pbigyLCB7IG1lc3NhZ2U6ICdWYWxpZCBjdXN0b21lciBuYW1lIGlzIHJlcXVpcmVkJyB9KSxcbiAgIGN1c3RvbWVyQ29udGFjdDogei5zdHJpbmcoKS5taW4oMTAsIHsgbWVzc2FnZTogJ1Bob25lIG51bWJlciBzaG91bGQgYmUgYXRsZWFzdCAxMCBjaGFyYWN0ZXJzJyB9KSxcbiAgIGtyYVBpbjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG5cbmV4cG9ydCB0eXBlIGN1c3RvbWVyRm9ybSA9IHouaW5mZXI8dHlwZW9mIG5ld0N1c3RvbWVyVmFsaWRhdGlvbj47XG4iXSwibmFtZXMiOlsieiIsIm5ld0N1c3RvbWVyVmFsaWRhdGlvbiIsIm9iamVjdCIsImN1c3RvbWVyTmFtZSIsInN0cmluZyIsIm1pbiIsIm1lc3NhZ2UiLCJjdXN0b21lckNvbnRhY3QiLCJrcmFQaW4iLCJvcHRpb25hbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/validation/customerValidation.ts\n");

/***/ }),

/***/ "(rsc)/./src/validation/expenseValidation.ts":
/*!*********************************************!*\
  !*** ./src/validation/expenseValidation.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   expenseValidation: () => (/* binding */ expenseValidation),\n/* harmony export */   updateExpenseValidation: () => (/* binding */ updateExpenseValidation)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/.pnpm/zod@3.23.8/node_modules/zod/lib/index.mjs\");\n\nconst expenseValidation = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    userId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(2, {\n        message: 'UserId is required'\n    }),\n    expenseAmount: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    expenseRecipient: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(2, {\n        message: 'Recipient is required'\n    }),\n    expenseReference: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(2, {\n        message: 'Reference is required'\n    }),\n    expenseDescription: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().nullable(),\n    paymenDate: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(2, {\n        message: 'Date is required'\n    })\n});\nconst updateExpenseValidation = expenseValidation.omit({\n    userId: true,\n    paymenDate: true\n}).extend({\n    expenseId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string()\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvdmFsaWRhdGlvbi9leHBlbnNlVmFsaWRhdGlvbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBd0I7QUFFakIsTUFBTUMsb0JBQW9CRCxrQ0FBQ0EsQ0FBQ0UsTUFBTSxDQUFDO0lBQ3ZDQyxRQUFRSCxrQ0FBQ0EsQ0FBQ0ksTUFBTSxHQUFHQyxHQUFHLENBQUMsR0FBRztRQUFFQyxTQUFTO0lBQXFCO0lBQzFEQyxlQUFlUCxrQ0FBQ0EsQ0FBQ0ksTUFBTTtJQUN2Qkksa0JBQWtCUixrQ0FBQ0EsQ0FBQ0ksTUFBTSxHQUFHQyxHQUFHLENBQUMsR0FBRztRQUFFQyxTQUFTO0lBQXdCO0lBQ3ZFRyxrQkFBa0JULGtDQUFDQSxDQUFDSSxNQUFNLEdBQUdDLEdBQUcsQ0FBQyxHQUFHO1FBQUVDLFNBQVM7SUFBd0I7SUFDdkVJLG9CQUFvQlYsa0NBQUNBLENBQUNJLE1BQU0sR0FBR08sUUFBUTtJQUN2Q0MsWUFBWVosa0NBQUNBLENBQUNJLE1BQU0sR0FBR0MsR0FBRyxDQUFDLEdBQUc7UUFBRUMsU0FBUztJQUFtQjtBQUMvRCxHQUFHO0FBRUksTUFBTU8sMEJBQTBCWixrQkFDbkNhLElBQUksQ0FBQztJQUFFWCxRQUFRO0lBQU1TLFlBQVk7QUFBSyxHQUN0Q0csTUFBTSxDQUFDO0lBQ0xDLFdBQVdoQixrQ0FBQ0EsQ0FBQ0ksTUFBTTtBQUN0QixHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3ZhbGlkYXRpb24vZXhwZW5zZVZhbGlkYXRpb24udHM/YjYxMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcblxuZXhwb3J0IGNvbnN0IGV4cGVuc2VWYWxpZGF0aW9uID0gei5vYmplY3Qoe1xuICAgdXNlcklkOiB6LnN0cmluZygpLm1pbigyLCB7IG1lc3NhZ2U6ICdVc2VySWQgaXMgcmVxdWlyZWQnIH0pLFxuICAgZXhwZW5zZUFtb3VudDogei5zdHJpbmcoKSxcbiAgIGV4cGVuc2VSZWNpcGllbnQ6IHouc3RyaW5nKCkubWluKDIsIHsgbWVzc2FnZTogJ1JlY2lwaWVudCBpcyByZXF1aXJlZCcgfSksXG4gICBleHBlbnNlUmVmZXJlbmNlOiB6LnN0cmluZygpLm1pbigyLCB7IG1lc3NhZ2U6ICdSZWZlcmVuY2UgaXMgcmVxdWlyZWQnIH0pLFxuICAgZXhwZW5zZURlc2NyaXB0aW9uOiB6LnN0cmluZygpLm51bGxhYmxlKCksXG4gICBwYXltZW5EYXRlOiB6LnN0cmluZygpLm1pbigyLCB7IG1lc3NhZ2U6ICdEYXRlIGlzIHJlcXVpcmVkJyB9KSxcbn0pO1xuXG5leHBvcnQgY29uc3QgdXBkYXRlRXhwZW5zZVZhbGlkYXRpb24gPSBleHBlbnNlVmFsaWRhdGlvblxuICAgLm9taXQoeyB1c2VySWQ6IHRydWUsIHBheW1lbkRhdGU6IHRydWUgfSlcbiAgIC5leHRlbmQoe1xuICAgICAgZXhwZW5zZUlkOiB6LnN0cmluZygpLFxuICAgfSk7XG5cbmV4cG9ydCB0eXBlIE5ld0V4cGVuc2UgPSB6LmluZmVyPHR5cGVvZiBleHBlbnNlVmFsaWRhdGlvbj47XG5leHBvcnQgdHlwZSBFZGl0RXhwZW5zZSA9IHouaW5mZXI8dHlwZW9mIHVwZGF0ZUV4cGVuc2VWYWxpZGF0aW9uPjtcbiJdLCJuYW1lcyI6WyJ6IiwiZXhwZW5zZVZhbGlkYXRpb24iLCJvYmplY3QiLCJ1c2VySWQiLCJzdHJpbmciLCJtaW4iLCJtZXNzYWdlIiwiZXhwZW5zZUFtb3VudCIsImV4cGVuc2VSZWNpcGllbnQiLCJleHBlbnNlUmVmZXJlbmNlIiwiZXhwZW5zZURlc2NyaXB0aW9uIiwibnVsbGFibGUiLCJwYXltZW5EYXRlIiwidXBkYXRlRXhwZW5zZVZhbGlkYXRpb24iLCJvbWl0IiwiZXh0ZW5kIiwiZXhwZW5zZUlkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/validation/expenseValidation.ts\n");

/***/ }),

/***/ "(rsc)/./src/validation/inventoryValidation.ts":
/*!***********************************************!*\
  !*** ./src/validation/inventoryValidation.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   newInventoryValidation: () => (/* binding */ newInventoryValidation)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/.pnpm/zod@3.23.8/node_modules/zod/lib/index.mjs\");\n\nconst newInventoryValidation = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    itemId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(2, {\n        message: 'ItemId is required'\n    }),\n    quantityAdded: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1, {\n        message: 'Atleast 1 is required'\n    }),\n    buyingPrice: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1, {\n        message: 'Value should be more than 1'\n    }),\n    sellingPrice: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1, {\n        message: 'Value should be more than 1'\n    }),\n    lastUpdated: zod__WEBPACK_IMPORTED_MODULE_0__.z.string()\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvdmFsaWRhdGlvbi9pbnZlbnRvcnlWYWxpZGF0aW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXdCO0FBRWpCLE1BQU1DLHlCQUF5QkQsa0NBQUNBLENBQUNFLE1BQU0sQ0FBQztJQUM1Q0MsUUFBUUgsa0NBQUNBLENBQUNJLE1BQU0sR0FBR0MsR0FBRyxDQUFDLEdBQUc7UUFBRUMsU0FBUztJQUFxQjtJQUMxREMsZUFBZVAsa0NBQUNBLENBQUNJLE1BQU0sR0FBR0MsR0FBRyxDQUFDLEdBQUc7UUFBRUMsU0FBUztJQUF3QjtJQUNwRUUsYUFBYVIsa0NBQUNBLENBQUNJLE1BQU0sR0FBR0MsR0FBRyxDQUFDLEdBQUc7UUFBRUMsU0FBUztJQUE4QjtJQUN4RUcsY0FBY1Qsa0NBQUNBLENBQUNJLE1BQU0sR0FBR0MsR0FBRyxDQUFDLEdBQUc7UUFBRUMsU0FBUztJQUE4QjtJQUN6RUksYUFBYVYsa0NBQUNBLENBQUNJLE1BQU07QUFDeEIsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy92YWxpZGF0aW9uL2ludmVudG9yeVZhbGlkYXRpb24udHM/M2NlYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcblxuZXhwb3J0IGNvbnN0IG5ld0ludmVudG9yeVZhbGlkYXRpb24gPSB6Lm9iamVjdCh7XG4gICBpdGVtSWQ6IHouc3RyaW5nKCkubWluKDIsIHsgbWVzc2FnZTogJ0l0ZW1JZCBpcyByZXF1aXJlZCcgfSksXG4gICBxdWFudGl0eUFkZGVkOiB6LnN0cmluZygpLm1pbigxLCB7IG1lc3NhZ2U6ICdBdGxlYXN0IDEgaXMgcmVxdWlyZWQnIH0pLFxuICAgYnV5aW5nUHJpY2U6IHouc3RyaW5nKCkubWluKDEsIHsgbWVzc2FnZTogJ1ZhbHVlIHNob3VsZCBiZSBtb3JlIHRoYW4gMScgfSksXG4gICBzZWxsaW5nUHJpY2U6IHouc3RyaW5nKCkubWluKDEsIHsgbWVzc2FnZTogJ1ZhbHVlIHNob3VsZCBiZSBtb3JlIHRoYW4gMScgfSksXG4gICBsYXN0VXBkYXRlZDogei5zdHJpbmcoKSxcbn0pO1xuXG5leHBvcnQgdHlwZSBOZXdJbnZlbnRvcnkgPSB6LmluZmVyPHR5cGVvZiBuZXdJbnZlbnRvcnlWYWxpZGF0aW9uPjtcbiJdLCJuYW1lcyI6WyJ6IiwibmV3SW52ZW50b3J5VmFsaWRhdGlvbiIsIm9iamVjdCIsIml0ZW1JZCIsInN0cmluZyIsIm1pbiIsIm1lc3NhZ2UiLCJxdWFudGl0eUFkZGVkIiwiYnV5aW5nUHJpY2UiLCJzZWxsaW5nUHJpY2UiLCJsYXN0VXBkYXRlZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/validation/inventoryValidation.ts\n");

/***/ }),

/***/ "(rsc)/./src/validation/newItemValidation.ts":
/*!*********************************************!*\
  !*** ./src/validation/newItemValidation.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NewItemValidation: () => (/* binding */ NewItemValidation),\n/* harmony export */   updateItemValidation: () => (/* binding */ updateItemValidation)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/.pnpm/zod@3.23.8/node_modules/zod/lib/index.mjs\");\n\nconst NewItemValidation = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    itemName: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(2, {\n        message: 'Item name is required'\n    }),\n    unitOfmeasure: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(2, {\n        message: 'Unit Of Measure is required'\n    }),\n    categoryId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(2, {\n        message: 'Category is required'\n    }),\n    reorderLevel: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional()\n});\nconst updateItemValidation = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    itemId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(2, {\n        message: 'Item id is required'\n    }),\n    itemName: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(2, {\n        message: 'Item name is required'\n    }),\n    unitOfmeasure: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(2, {\n        message: 'Unit Of Measure is required'\n    }),\n    reorderLevel: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional()\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvdmFsaWRhdGlvbi9uZXdJdGVtVmFsaWRhdGlvbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBd0I7QUFFakIsTUFBTUMsb0JBQW9CRCxrQ0FBQ0EsQ0FBQ0UsTUFBTSxDQUFDO0lBQ3ZDQyxVQUFVSCxrQ0FBQ0EsQ0FBQ0ksTUFBTSxHQUFHQyxHQUFHLENBQUMsR0FBRztRQUFFQyxTQUFTO0lBQXdCO0lBQy9EQyxlQUFlUCxrQ0FBQ0EsQ0FBQ0ksTUFBTSxHQUFHQyxHQUFHLENBQUMsR0FBRztRQUFFQyxTQUFTO0lBQThCO0lBQzFFRSxZQUFZUixrQ0FBQ0EsQ0FBQ0ksTUFBTSxHQUFHQyxHQUFHLENBQUMsR0FBRztRQUFFQyxTQUFTO0lBQXVCO0lBQ2hFRyxjQUFjVCxrQ0FBQ0EsQ0FBQ0ksTUFBTSxHQUFHTSxRQUFRO0FBQ3BDLEdBQUc7QUFFSSxNQUFNQyx1QkFBdUJYLGtDQUFDQSxDQUFDRSxNQUFNLENBQUM7SUFDMUNVLFFBQVFaLGtDQUFDQSxDQUFDSSxNQUFNLEdBQUdDLEdBQUcsQ0FBQyxHQUFHO1FBQUVDLFNBQVM7SUFBc0I7SUFDM0RILFVBQVVILGtDQUFDQSxDQUFDSSxNQUFNLEdBQUdDLEdBQUcsQ0FBQyxHQUFHO1FBQUVDLFNBQVM7SUFBd0I7SUFDL0RDLGVBQWVQLGtDQUFDQSxDQUFDSSxNQUFNLEdBQUdDLEdBQUcsQ0FBQyxHQUFHO1FBQUVDLFNBQVM7SUFBOEI7SUFDMUVHLGNBQWNULGtDQUFDQSxDQUFDSSxNQUFNLEdBQUdNLFFBQVE7QUFDcEMsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy92YWxpZGF0aW9uL25ld0l0ZW1WYWxpZGF0aW9uLnRzP2EyMzQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5cbmV4cG9ydCBjb25zdCBOZXdJdGVtVmFsaWRhdGlvbiA9IHoub2JqZWN0KHtcbiAgIGl0ZW1OYW1lOiB6LnN0cmluZygpLm1pbigyLCB7IG1lc3NhZ2U6ICdJdGVtIG5hbWUgaXMgcmVxdWlyZWQnIH0pLFxuICAgdW5pdE9mbWVhc3VyZTogei5zdHJpbmcoKS5taW4oMiwgeyBtZXNzYWdlOiAnVW5pdCBPZiBNZWFzdXJlIGlzIHJlcXVpcmVkJyB9KSxcbiAgIGNhdGVnb3J5SWQ6IHouc3RyaW5nKCkubWluKDIsIHsgbWVzc2FnZTogJ0NhdGVnb3J5IGlzIHJlcXVpcmVkJyB9KSxcbiAgIHJlb3JkZXJMZXZlbDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVJdGVtVmFsaWRhdGlvbiA9IHoub2JqZWN0KHtcbiAgIGl0ZW1JZDogei5zdHJpbmcoKS5taW4oMiwgeyBtZXNzYWdlOiAnSXRlbSBpZCBpcyByZXF1aXJlZCcgfSksXG4gICBpdGVtTmFtZTogei5zdHJpbmcoKS5taW4oMiwgeyBtZXNzYWdlOiAnSXRlbSBuYW1lIGlzIHJlcXVpcmVkJyB9KSxcbiAgIHVuaXRPZm1lYXN1cmU6IHouc3RyaW5nKCkubWluKDIsIHsgbWVzc2FnZTogJ1VuaXQgT2YgTWVhc3VyZSBpcyByZXF1aXJlZCcgfSksXG4gICByZW9yZGVyTGV2ZWw6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pO1xuXG5leHBvcnQgdHlwZSBOZXdJdGVtRm9ybSA9IHouaW5mZXI8dHlwZW9mIE5ld0l0ZW1WYWxpZGF0aW9uPjtcbmV4cG9ydCB0eXBlIFVwZGF0ZUl0ZW1Gb3JtID0gei5pbmZlcjx0eXBlb2YgdXBkYXRlSXRlbVZhbGlkYXRpb24+O1xuIl0sIm5hbWVzIjpbInoiLCJOZXdJdGVtVmFsaWRhdGlvbiIsIm9iamVjdCIsIml0ZW1OYW1lIiwic3RyaW5nIiwibWluIiwibWVzc2FnZSIsInVuaXRPZm1lYXN1cmUiLCJjYXRlZ29yeUlkIiwicmVvcmRlckxldmVsIiwib3B0aW9uYWwiLCJ1cGRhdGVJdGVtVmFsaWRhdGlvbiIsIml0ZW1JZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/validation/newItemValidation.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@15.0.2_react-dom@18.3.1_react@18.3.1__react@18.3.1","vendor-chunks/@trpc+server@11.0.0-rc.608","vendor-chunks/tailwind-merge@2.5.4","vendor-chunks/superjson@2.2.1","vendor-chunks/is-what@4.1.16","vendor-chunks/copy-anything@3.0.5","vendor-chunks/clsx@2.1.1","vendor-chunks/zod@3.23.8","vendor-chunks/drizzle-orm@0.36.0_@types+react@18.3.12_postgres@3.4.5_react@18.3.1","vendor-chunks/postgres@3.4.5"], () => (__webpack_exec__("(rsc)/../../node_modules/.pnpm/next@15.0.2_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute&page=%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute.ts&appDir=%2FUsers%2Fkennedyodhiambo%2FDesktop%2Fcanvas%2Fshopkeeper-plus%2Fapps%2Fweb%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fkennedyodhiambo%2FDesktop%2Fcanvas%2Fshopkeeper-plus%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();