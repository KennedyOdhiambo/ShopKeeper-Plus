(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5096],{35871:(e,s,t)=>{Promise.resolve().then(t.bind(t,2922))},2922:(e,s,t)=>{"use strict";t.d(s,{default:()=>h});var r=t(12428),a=t(6969),i=t(76484),n=t(70674),l=t(31874);function o(e){let{onSelect:s,error:t}=e,{data:a}=l.h.businessTypes.listBusinessTypes.useQuery();return(0,r.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,r.jsx)(i._,{htmlFor:"businessType",children:"Business Type"}),(0,r.jsxs)(n.Ph,{onValueChange:e=>s(e),children:[(0,r.jsx)(n.i4,{id:"businessType",className:"w-96 lg:w-80 xl:w-72 2xl:w-80",children:(0,r.jsx)(n.ki,{placeholder:"Select"})}),(0,r.jsx)(n.Bw,{position:"popper",children:null==a?void 0:a.map(e=>(0,r.jsx)(n.Ql,{value:e.businessTypeId,children:e.businessTypeName},e.businessTypeId))}),(0,r.jsx)("p",{className:"text-destructive text-xs font-thin",children:t})]})]})}var d=t(48133),u=t(2431),c=t(9341),m=t(95772);let f=m.z.object({fullName:m.z.string().min(2,{message:"Full name is required"}),phoneNumber:m.z.string().min(10,{message:"Phone number should be atleast 10 characters"}),password:m.z.string().min(6,{message:"Password must be atleast 6 characters"}),confirmPassword:m.z.string().min(6,{message:"Passwords do no match"}),businessName:m.z.string().min(2,{message:"Business name is required"}),businessType:m.z.string().min(1,{message:"Business type is required"}),businessLocation:m.z.string().min(2,{message:"Business location is required"})}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});var p=t(20914),g=t(16392),x=t(93264);function h(){var e,s,t,i,n,m,h;let{createUser:w,isPending:b}=function(){let e=(0,x.useContext)(g.V),{toast:s}=(0,p.pm)(),{mutate:t,isPending:r}=l.h.authentication.signup.useMutation({onSuccess:t=>{"success"===t.status?(s({description:t.message,variant:"default"}),null==e||e.setRunningProcess("login")):s({description:t.message,variant:"destructive"})},onError:e=>{console.error(e.message),s({description:"Something went wrong,please try again",variant:"destructive"})}});return{createUser:t,isPending:r}}(),{register:v,setValue:y,handleSubmit:N,formState:{errors:j}}=(0,u.cI)({resolver:(0,c.F)(f)});return(0,r.jsxs)("form",{onSubmit:N(e=>{w(e)}),className:"space-y-5",children:[(0,r.jsxs)("div",{className:"grid w-full items-center gap-6 lg:grid-cols-2",children:[(0,r.jsx)(d.Z,{inputClassName:"w-96 lg:w-80 xl:w-72 2xl:w-80",label:"Full name",id:"fullName",type:"text",register:v("fullName"),error:null===(e=j.fullName)||void 0===e?void 0:e.message}),(0,r.jsx)(d.Z,{inputClassName:"w-96 lg:w-80 xl:w-72 2xl:w-80",label:"Phone number",id:"phoneNumber",type:"tel",register:v("phoneNumber"),error:null===(s=j.phoneNumber)||void 0===s?void 0:s.message}),(0,r.jsx)(d.Z,{inputClassName:"w-96 lg:w-80 xl:w-72 2xl:w-80",label:"Password",id:"password",type:"password",register:v("password"),error:null===(t=j.password)||void 0===t?void 0:t.message}),(0,r.jsx)(d.Z,{inputClassName:"w-96 lg:w-80 xl:w-72 2xl:w-80",label:"Confirm password",id:"confirmPassword",type:"password",register:v("confirmPassword"),error:null===(i=j.confirmPassword)||void 0===i?void 0:i.message}),(0,r.jsx)(d.Z,{inputClassName:"w-96 lg:w-80 xl:w-72 2xl:w-80",label:"Business name",id:"businessName",register:v("businessName"),error:null===(n=j.businessName)||void 0===n?void 0:n.message}),(0,r.jsx)(o,{error:null===(m=j.businessType)||void 0===m?void 0:m.message,onSelect:e=>y("businessType",e)}),(0,r.jsx)(d.Z,{inputClassName:"w-96 lg:w-80 xl:w-72 2xl:w-80",label:"Business location",id:"businessLocation",register:v("businessLocation"),error:null===(h=j.businessLocation)||void 0===h?void 0:h.message})]}),(0,r.jsx)("div",{className:"mt-10 flex w-full items-end justify-end",children:(0,r.jsx)(a.z,{disabled:b,className:"w-full lg:w-fit",children:b?"Processing...":"Complete signup"})})]})}},48133:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});var r=t(12428),a=t(76484),i=t(10398);function n(e){let{id:s,label:t,type:n,register:l,error:o,inputClassName:d,defaultValue:u}=e;return(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)(a._,{htmlFor:s,children:t}),(0,r.jsx)(i.I,{...l,className:d,id:s,type:n,defaultValue:u}),(0,r.jsx)("p",{className:"text-xs font-thin text-destructive",children:o})]})}},6969:(e,s,t)=>{"use strict";t.d(s,{d:()=>o,z:()=>d});var r=t(12428),a=t(93264),i=t(8190),n=t(51699),l=t(29892);let o=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,s)=>{let{className:t,variant:a,size:n,asChild:d=!1,...u}=e,c=d?i.g7:"button";return(0,r.jsx)(c,{className:(0,l.cn)(o({variant:a,size:n,className:t})),ref:s,...u})});d.displayName="Button"},10398:(e,s,t)=>{"use strict";t.d(s,{I:()=>n});var r=t(12428),a=t(93264),i=t(29892);let n=a.forwardRef((e,s)=>{let{className:t,type:a,...n}=e;return(0,r.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...n})});n.displayName="Input"},76484:(e,s,t)=>{"use strict";t.d(s,{_:()=>d});var r=t(12428),a=t(93264),i=t(17492),n=t(51699),l=t(29892);let o=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(i.f,{ref:s,className:(0,l.cn)(o(),t),...a})});d.displayName=i.f.displayName},70674:(e,s,t)=>{"use strict";t.d(s,{Bw:()=>g,Ph:()=>u,Ql:()=>x,i4:()=>m,ki:()=>c});var r=t(12428),a=t(93264),i=t(49786),n=t(95018),l=t(15631),o=t(32793),d=t(29892);let u=i.fC;i.ZA;let c=i.B4,m=a.forwardRef((e,s)=>{let{className:t,children:a,...l}=e;return(0,r.jsxs)(i.xz,{ref:s,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...l,children:[a,(0,r.jsx)(i.JO,{asChild:!0,children:(0,r.jsx)(n.Z,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=i.xz.displayName;let f=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(i.u_,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,r.jsx)(l.Z,{className:"h-4 w-4"})})});f.displayName=i.u_.displayName;let p=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(i.$G,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,r.jsx)(n.Z,{className:"h-4 w-4"})})});p.displayName=i.$G.displayName;let g=a.forwardRef((e,s)=>{let{className:t,children:a,position:n="popper",...l}=e;return(0,r.jsx)(i.h_,{children:(0,r.jsxs)(i.VY,{ref:s,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...l,children:[(0,r.jsx)(f,{}),(0,r.jsx)(i.l_,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,r.jsx)(p,{})]})})});g.displayName=i.VY.displayName,a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(i.__,{ref:s,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...a})}).displayName=i.__.displayName;let x=a.forwardRef((e,s)=>{let{className:t,children:a,...n}=e;return(0,r.jsxs)(i.ck,{ref:s,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(i.wU,{children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(i.eT,{children:a})]})});x.displayName=i.ck.displayName,a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(i.Z0,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",t),...a})}).displayName=i.Z0.displayName},20914:(e,s,t)=>{"use strict";t.d(s,{pm:()=>m});var r=t(93264);let a=0,i=new Map,n=e=>{if(i.has(e))return;let s=setTimeout(()=>{i.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,s)},l=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?n(t):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},o=[],d={toasts:[]};function u(e){d=l(d,e),o.forEach(e=>{e(d)})}function c(e){let{...s}=e,t=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>u({type:"DISMISS_TOAST",toastId:t});return u({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function m(){let[e,s]=r.useState(d);return r.useEffect(()=>(o.push(s),()=>{let e=o.indexOf(s);e>-1&&o.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})}}},16392:(e,s,t)=>{"use strict";t.d(s,{V:()=>i,Z:()=>n});var r=t(12428),a=t(93264);let i=(0,a.createContext)(null);function n(e){let{children:s}=e,[t,n]=(0,a.useState)("login");return(0,r.jsx)(i.Provider,{value:{runningProcess:t,setRunningProcess:n},children:s})}},29892:(e,s,t)=>{"use strict";t.d(s,{Xv:()=>l,cn:()=>i,lb:()=>n});var r=t(44273),a=t(17585);function i(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.m6)((0,r.W)(s))}function n(e){if(void 0!==e)return new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES"}).format(+e)}function l(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;if(null==e)return;let t=" ",r=0;for(let a=0;a<e.length&&r<s;a++)if(" "!==e[a])for(t+=e[a],r++;" "!==e[a+1]&&void 0!==e[a+1];)a++;return t}},31874:(e,s,t)=>{"use strict";let r;t.d(s,{H:()=>g,h:()=>p});var a=t(12428),i=t(85763),n=t(35713),l=t(45447),o=t(93264),d=t(67321),u=t(15357),c=t(78916);let m=()=>new n.S,f=()=>null!=r?r:r=m(),p=(0,i.ec)();function g(e){let s=f(),[t]=(0,o.useState)(()=>p.createClient({links:[(0,i.gb)({enabled:e=>"development"===c.env.VERCEL_ENV||"down"===e.direction&&e.result instanceof Error}),(0,i.Pq)({transformer:u.ZP,url:window.location.origin+"/api/trpc",headers:()=>{let e=new Headers;return e.set("x-trpc-source","nextjs-react"),e}})]}));return(0,a.jsxs)(l.aH,{client:s,children:[(0,a.jsx)(p.Provider,{client:t,queryClient:s,children:e.children}),(0,a.jsx)(d.t,{initialIsOpen:!1,buttonPosition:"bottom-left"})]})}},78606:(e,s,t)=>{"use strict";t.d(s,{T:()=>n,f:()=>l});var r=t(93264),a=t(95641),i=t(12428),n=r.forwardRef((e,s)=>(0,i.jsx)(a.WV.span,{...e,ref:s,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));n.displayName="VisuallyHidden";var l=n}},e=>{var s=s=>e(e.s=s);e.O(0,[2631,3612,4766,2865,9986,7885,1022,8752,5648,1744],()=>s(35871)),_N_E=e.O()}]);