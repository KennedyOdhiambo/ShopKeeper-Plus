(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2167],{33421:(e,r,t)=>{Promise.resolve().then(t.bind(t,75527)),Promise.resolve().then(t.bind(t,88440)),Promise.resolve().then(t.bind(t,87479))},75527:(e,r,t)=>{"use strict";t.d(r,{default:()=>N});var a=t(12428),s=t(72171);t(93264);var i=t(60392),o=t(6969),l=t(87479),d=t(39678),n=t(48133),c=t(61761),u=t(31874),g=t(49040),m=t(9341),p=t(2431);function v(e){var r,t,s,i,l;let{categoryId:d}=e,{formState:{errors:v},register:h,getValues:x}=(0,p.cI)({resolver:(0,m.F)(g.F)}),{data:f}=u.h.categories.getCategoryDetails.useQuery({categoryId:d}),{mutate:y,isPending:j}=u.h.categories.updateCategory.useMutation();return(0,a.jsxs)("form",{className:"flex flex-col gap-y-5",children:[(0,a.jsx)(n.Z,{id:"categoryname",label:"Category Name",error:null===(r=v.categoryName)||void 0===r?void 0:r.message,register:h("categoryName"),defaultValue:null==f?void 0:null===(t=f.category)||void 0===t?void 0:t.categoryName}),(0,a.jsx)(n.Z,{id:"description",label:"Category Description",error:null===(s=v.description)||void 0===s?void 0:s.message,register:h("description"),defaultValue:null!==(l=null==f?void 0:null===(i=f.category)||void 0===i?void 0:i.description)&&void 0!==l?l:""}),(0,a.jsx)("div",{className:"text-end",children:(0,a.jsx)(o.z,{className:"w-[140px]",type:"button",onClick:()=>{y({categoryId:d,...x()})},children:j?(0,a.jsx)(c.Z,{}):"Update Category"})})]})}function h(e){let{categoryId:r}=e;return(0,a.jsxs)(l.Dialog,{children:[(0,a.jsx)(l.DialogTrigger,{asChild:!0,children:(0,a.jsx)(o.z,{variant:"outline",size:"icon",className:"border-2.5 rounded-full p-1 text-secondary-foreground transition-colors duration-200 hover:bg-primary hover:text-white",children:(0,a.jsx)(i.TooltipProvider,{children:(0,a.jsxs)(i.Tooltip,{children:[(0,a.jsx)(i.TooltipTrigger,{asChild:!0,children:(0,a.jsx)(d.Z,{className:"size-5"})}),(0,a.jsx)(i.TooltipContent,{className:"rounded-md border bg-popover p-1",children:(0,a.jsx)("p",{children:"Edit"})})]})})})}),(0,a.jsxs)(l.DialogContent,{className:"w-[460px] rounded-sm",children:[(0,a.jsxs)(l.DialogHeader,{children:[(0,a.jsx)(l.DialogTitle,{children:"Update Category"}),(0,a.jsx)(l.DialogDescription,{children:"Update details of existing category"})]}),(0,a.jsx)(v,{categoryId:r})]})]})}var x=t(21671),f=t(20914);function y(e){let{categoryId:r}=e,{toast:t}=(0,f.pm)(),s=u.h.useUtils(),{mutate:l,isPending:d}=u.h.categories.deleteCategory.useMutation({onSuccess:e=>{"success"===e.status?(t({description:e.message,variant:"default"}),s.categories.listCategories.invalidate(),s.categories.listPaginatedCategories.invalidate()):t({description:e.message,variant:"destructive"})},onError:e=>{console.error(e),t({description:"Network error,please try again",variant:"destructive"})}});return(0,a.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,a.jsx)(h,{categoryId:r}),(0,a.jsx)(i.TooltipProvider,{children:(0,a.jsxs)(i.Tooltip,{children:[(0,a.jsx)(i.TooltipTrigger,{asChild:!0,children:(0,a.jsx)(o.z,{onClick:()=>{l({categoryId:r})},variant:"outline",size:"icon",className:"border-2.5 rounded-full transition-colors duration-200 hover:bg-destructive hover:text-white",children:d?(0,a.jsx)(c.Z,{}):(0,a.jsx)(x.Z,{className:"size-5"})})}),(0,a.jsx)(i.TooltipContent,{className:"rounded-md border bg-popover p-1",children:(0,a.jsx)("p",{children:"Delete"})})]})})]})}let j=[{accessorKey:"categoryName",header:"Category Name"},{accessorKey:"description",header:"Category Description"},{accessorKey:"itemId",header:()=>(0,a.jsx)("div",{className:"ps-5 text-left",children:"Action"}),cell:e=>{let{row:r}=e,t=r.original;return(0,a.jsx)(y,{categoryId:t.categoryId})}}];var b=t(47576),C=t(21117);function N(){var e,r;let t=(0,b.useSearchParams)().get("page"),{data:i,isPending:o}=u.h.categories.listPaginatedCategories.useQuery({page:null!=t?t:"0",userId:"cba51dba-4308-453c-973a-0bb24c5fd6b4"});return o?(0,a.jsx)(C.M,{rows:10}):(0,a.jsx)("div",{children:(0,a.jsx)(s.Z,{columns:j,data:null!==(e=null==i?void 0:i.categories)&&void 0!==e?e:[],rowCount:null!==(r=null==i?void 0:i.totalCount)&&void 0!==r?r:0})})}},88440:(e,r,t)=>{"use strict";t.d(r,{default:()=>g});var a=t(12428),s=t(48133),i=t(61761),o=t(6969),l=t(20914),d=t(31874),n=t(49040),c=t(9341),u=t(2431);function g(){var e,r;let{toast:t}=(0,l.pm)(),g=d.h.useUtils(),{formState:{errors:m},register:p,reset:v,getValues:h}=(0,u.cI)({resolver:(0,c.F)(n.F)}),{mutate:x,isPending:f}=d.h.categories.createCategory.useMutation({onSuccess:e=>{"success"===e.status?(t({description:e.message,variant:"default"}),g.categories.listCategories.invalidate(),g.categories.listPaginatedCategories.invalidate(),v()):t({description:e.message,variant:"destructive"})},onError:e=>{console.error(e),t({description:"Network error,please try again",variant:"destructive"})}});return(0,a.jsxs)("form",{className:"flex flex-col gap-y-5",children:[(0,a.jsx)(s.Z,{id:"categoryname",label:"Category Name",error:null===(e=m.categoryName)||void 0===e?void 0:e.message,register:p("categoryName")}),(0,a.jsx)(s.Z,{id:"description",label:"Category Description",error:null===(r=m.description)||void 0===r?void 0:r.message,register:p("description")}),(0,a.jsx)("div",{className:"text-end",children:(0,a.jsx)(o.z,{className:"w-[140px]",type:"button",onClick:()=>{x({userId:"cba51dba-4308-453c-973a-0bb24c5fd6b4",...h()})},children:f?(0,a.jsx)(i.Z,{}):"Create Category"})})]})}},61761:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o});var a=t(12428),s=t(78530),i=t(78076);function o(){return(0,a.jsx)(s.default,{src:i.Z,alt:"..."})}},60392:(e,r,t)=>{"use strict";t.d(r,{Tooltip:()=>d,TooltipContent:()=>c,TooltipProvider:()=>l,TooltipTrigger:()=>n});var a=t(12428),s=t(93264),i=t(36306),o=t(29892);let l=i.zt,d=i.fC,n=i.xz,c=s.forwardRef((e,r)=>{let{className:t,sideOffset:s=4,...l}=e;return(0,a.jsx)(i.VY,{ref:r,sideOffset:s,className:(0,o.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...l})});c.displayName=i.VY.displayName},49040:(e,r,t)=>{"use strict";t.d(r,{F:()=>s});var a=t(95772);let s=a.z.object({categoryName:a.z.string().min(2,{message:"Category name is required"}),description:a.z.string().nullable()})},21671:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(55e3).Z)("Delete",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]])},39678:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(55e3).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},47576:(e,r,t)=>{"use strict";var a=t(96151);t.o(a,"useParams")&&t.d(r,{useParams:function(){return a.useParams}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})}},e=>{var r=r=>e(e.s=r);e.O(0,[2631,3612,4766,2865,9986,5480,7885,1868,8776,223,6306,2200,8752,5648,1744],()=>r(33421)),_N_E=e.O()}]);