(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5148],{14036:(e,t,r)=>{Promise.resolve().then(r.bind(r,46887)),Promise.resolve().then(r.bind(r,55236)),Promise.resolve().then(r.bind(r,17947)),Promise.resolve().then(r.bind(r,87479))},46887:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var s=r(12428),a=r(38789),i=r(31874);function l(){var e;let{data:t}=i.h.categories.listCategories.useQuery({userId:"cba51dba-4308-453c-973a-0bb24c5fd6b4"}),r=null!==(e=null==t?void 0:t.map(e=>({id:e.categoryId,value:e.categoryName})))&&void 0!==e?e:[];return(0,s.jsx)(a.default,{className:"w-full",queryId:"category",options:[{id:"all",value:"All Categories"},...r],placeholder:"Category"})}},55236:(e,t,r)=>{"use strict";r.d(t,{default:()=>h});var s=r(12428),a=r(48133),i=r(6969),l=r(91772),d=r(9341),o=r(93264),n=r(2431),c=r(46887),u=r(76484),m=r(47576),f=r(31874),p=r(20914),v=r(61761);function h(){var e,t,r;let h=(0,m.useSearchParams)(),{toast:x}=(0,p.pm)(),g=f.h.useUtils(),{register:j,formState:{errors:y},setValue:N,reset:b,getValues:w}=(0,n.cI)({resolver:(0,d.F)(l.S)});(0,o.useEffect)(()=>{(()=>{let e=h.get("category");N("categoryId",null!=e?e:"")})()},[h,N]);let{mutate:I,isPending:z}=f.h.items.createItem.useMutation({onSuccess:e=>{"success"===e.status?(x({description:e.message,variant:"default"}),g.items.listItems.invalidate(),g.items.listItemsByCategory.invalidate(),b()):x({description:e.message,variant:"destructive"})},onError:e=>{console.error(e),x({description:"Network error,please try again",variant:"destructive"})}});return(0,s.jsxs)("form",{className:"flex flex-col gap-y-5",children:[(0,s.jsx)(a.Z,{id:"itemName",label:"Item Name",error:null===(e=y.itemName)||void 0===e?void 0:e.message,register:j("itemName")}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)(u._,{children:"Category"}),(0,s.jsx)(c.default,{})]}),(0,s.jsx)(a.Z,{id:"unitOfmeasure",label:"Unit Of Measure",error:null===(t=y.unitOfmeasure)||void 0===t?void 0:t.message,register:j("unitOfmeasure")}),(0,s.jsx)(a.Z,{id:"reorderLevel",label:"Re-Order Level",error:null===(r=y.reorderLevel)||void 0===r?void 0:r.message,register:j("reorderLevel")}),(0,s.jsx)("div",{className:"text-end",children:(0,s.jsx)(i.z,{className:"w-[120px]",type:"button",onClick:()=>{I({userId:"cba51dba-4308-453c-973a-0bb24c5fd6b4",...w()})},children:z?(0,s.jsx)(v.Z,{}):"Create Item"})})]})}},17947:(e,t,r)=>{"use strict";r.d(t,{default:()=>w});var s=r(12428),a=r(72171),i=r(31874),l=r(47576),d=r(60392),o=r(6969),n=r(87479);r(93264);var c=r(48133),u=r(61761),m=r(20914),f=r(91772),p=r(9341),v=r(2431);function h(e){var t,r,a,l,d,n,h,x,g;let{itemId:j}=e,{toast:y}=(0,m.pm)(),N=i.h.useUtils(),{register:b,formState:{errors:w},getValues:I}=(0,v.cI)({resolver:(0,p.F)(f.l)}),{data:z}=i.h.items.getItemDetails.useQuery({itemId:j}),{mutate:C,isPending:Z}=i.h.items.updateItem.useMutation({onSuccess:e=>{"success"===e.status?(y({description:e.message,variant:"default"}),N.items.listItems.invalidate(),N.items.listItemsByCategory.invalidate()):y({description:e.message,variant:"destructive"})},onError:e=>{console.error(e),y({description:"Network error,please try again",variant:"destructive"})}});return(0,s.jsxs)("form",{className:"flex flex-col gap-y-5",children:[(0,s.jsx)(c.Z,{id:"itemName",label:"Item Name",error:null===(t=w.itemName)||void 0===t?void 0:t.message,register:b("itemName"),defaultValue:null!==(h=null==z?void 0:null===(r=z.item)||void 0===r?void 0:r.itemName)&&void 0!==h?h:""}),(0,s.jsx)(c.Z,{id:"unitOfmeasure",label:"Unit Of Measure",error:null===(a=w.unitOfmeasure)||void 0===a?void 0:a.message,register:b("unitOfmeasure"),defaultValue:null!==(x=null==z?void 0:null===(l=z.item)||void 0===l?void 0:l.unitOfMeasure)&&void 0!==x?x:""}),(0,s.jsx)(c.Z,{id:"reorderLevel",label:"Re-Order Level",error:null===(d=w.reorderLevel)||void 0===d?void 0:d.message,register:b("reorderLevel"),defaultValue:String(null!==(g=null==z?void 0:null===(n=z.item)||void 0===n?void 0:n.reorderLevel)&&void 0!==g?g:"")}),(0,s.jsx)("div",{className:"text-end",children:(0,s.jsx)(o.z,{className:"w-[120px]",type:"button",onClick:()=>{let e=I();e.itemId=j,C(e)},children:Z?(0,s.jsx)(u.Z,{}):"Update Item"})})]})}var x=r(39678);function g(e){let{itemId:t}=e;return(0,s.jsxs)(n.Dialog,{children:[(0,s.jsx)(n.DialogTrigger,{asChild:!0,children:(0,s.jsx)(o.z,{variant:"outline",size:"icon",className:"border-2.5 rounded-full p-1 text-secondary-foreground transition-colors duration-200 hover:bg-primary hover:text-white",children:(0,s.jsx)(d.TooltipProvider,{children:(0,s.jsxs)(d.Tooltip,{children:[(0,s.jsx)(d.TooltipTrigger,{asChild:!0,children:(0,s.jsx)(x.Z,{className:"size-5"})}),(0,s.jsx)(d.TooltipContent,{className:"rounded-md border bg-popover p-1",children:(0,s.jsx)("p",{children:"Edit"})})]})})})}),(0,s.jsxs)(n.DialogContent,{className:"w-[460px] rounded-sm",children:[(0,s.jsxs)(n.DialogHeader,{children:[(0,s.jsx)(n.DialogTitle,{children:"Update Item or Service"}),(0,s.jsx)(n.DialogDescription,{children:"Update details of existing Item or Service"})]}),(0,s.jsx)(h,{itemId:t})]})]})}var j=r(21671);function y(e){let{itemId:t}=e,{toast:r}=(0,m.pm)(),a=i.h.useUtils(),{mutate:l,isPending:n}=i.h.items.deleteItem.useMutation({onSuccess:e=>{"success"===e.status?(r({description:e.message,variant:"default"}),a.items.listItems.invalidate(),a.items.listItemsByCategory.invalidate()):r({description:e.message,variant:"destructive"})},onError:e=>{console.error(e),r({description:"Network error,please try again",variant:"destructive"})}});return(0,s.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,s.jsx)(g,{itemId:t}),(0,s.jsx)(d.TooltipProvider,{children:(0,s.jsxs)(d.Tooltip,{children:[(0,s.jsx)(d.TooltipTrigger,{asChild:!0,children:(0,s.jsx)(o.z,{onClick:()=>{l({itemId:t})},variant:"outline",size:"icon",className:"border-2.5 rounded-full transition-colors duration-200 hover:bg-destructive hover:text-white",children:n?(0,s.jsx)(u.Z,{}):(0,s.jsx)(j.Z,{className:"size-5"})})}),(0,s.jsx)(d.TooltipContent,{className:"rounded-md border bg-popover p-1",children:(0,s.jsx)("p",{children:"Delete"})})]})})]})}let N=[{accessorKey:"itemName",header:"Item Name"},{accessorKey:"unitOfMeasure",header:"Unit Of Measure"},{accessorKey:"categoryName",header:"Item Category"},{accessorKey:"reorder",header:"Re-order level"},{accessorKey:"itemId",header:()=>(0,s.jsx)("div",{className:"text-center",children:"Action"}),cell:e=>{let{row:t}=e,r=t.original;return(0,s.jsx)(y,{itemId:r.itemId})}}];var b=r(21117);function w(){var e;let t=(0,l.useSearchParams)(),r=t.get("category"),d=t.get("page"),{data:o,isPending:n}=i.h.items.listItemsByCategory.useQuery({categoryId:null!=r?r:void 0,page:null!=d?d:"0"}),c=(null!==(e=null==o?void 0:o.items)&&void 0!==e?e:[]).map(e=>{var t,r,s;return{itemId:e.items.itemId,itemName:e.items.itemName,categoryName:null!==(r=null===(t=e.categories)||void 0===t?void 0:t.categoryName)&&void 0!==r?r:"",reorder:null!==(s=e.items.reorderLevel)&&void 0!==s?s:"",unitOfMeasure:e.items.unitOfMeasure}}),u=null==o?void 0:o.count;return n?(0,s.jsx)(b.M,{rows:10}):(0,s.jsx)("div",{children:(0,s.jsx)(a.Z,{columns:N,data:c,rowCount:null!=u?u:0})})}},38789:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var s=r(12428);r(93264);var a=r(70674),i=r(76484),l=r(55480);function d(e){let{queryId:t,placeholder:r,options:d,label:o,className:n}=e,[c,u]=(0,l.v1)(t),m=d.find(e=>e.id===c);return(0,s.jsxs)("div",{className:"".concat(n," flex w-[280px] flex-col space-y-2"),children:[(0,s.jsx)(i._,{children:o}),(0,s.jsxs)(a.Ph,{onValueChange:e=>u(e),children:[(0,s.jsx)(a.i4,{children:(0,s.jsx)(a.ki,{placeholder:c?null==m?void 0:m.value:r})}),(0,s.jsx)(a.Bw,{children:d.map(e=>(0,s.jsx)(a.Ql,{value:e.id,children:e.value},e.id))})]})]})}},61761:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var s=r(12428),a=r(78530),i=r(78076);function l(){return(0,s.jsx)(a.default,{src:i.Z,alt:"..."})}},70674:(e,t,r)=>{"use strict";r.d(t,{Bw:()=>v,Ph:()=>c,Ql:()=>h,i4:()=>m,ki:()=>u});var s=r(12428),a=r(93264),i=r(49786),l=r(95018),d=r(15631),o=r(32793),n=r(29892);let c=i.fC;i.ZA;let u=i.B4,m=a.forwardRef((e,t)=>{let{className:r,children:a,...d}=e;return(0,s.jsxs)(i.xz,{ref:t,className:(0,n.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...d,children:[a,(0,s.jsx)(i.JO,{asChild:!0,children:(0,s.jsx)(l.Z,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=i.xz.displayName;let f=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.u_,{ref:t,className:(0,n.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,s.jsx)(d.Z,{className:"h-4 w-4"})})});f.displayName=i.u_.displayName;let p=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.$G,{ref:t,className:(0,n.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,s.jsx)(l.Z,{className:"h-4 w-4"})})});p.displayName=i.$G.displayName;let v=a.forwardRef((e,t)=>{let{className:r,children:a,position:l="popper",...d}=e;return(0,s.jsx)(i.h_,{children:(0,s.jsxs)(i.VY,{ref:t,className:(0,n.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:l,...d,children:[(0,s.jsx)(f,{}),(0,s.jsx)(i.l_,{className:(0,n.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,s.jsx)(p,{})]})})});v.displayName=i.VY.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.__,{ref:t,className:(0,n.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...a})}).displayName=i.__.displayName;let h=a.forwardRef((e,t)=>{let{className:r,children:a,...l}=e;return(0,s.jsxs)(i.ck,{ref:t,className:(0,n.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(i.wU,{children:(0,s.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,s.jsx)(i.eT,{children:a})]})});h.displayName=i.ck.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.Z0,{ref:t,className:(0,n.cn)("-mx-1 my-1 h-px bg-muted",r),...a})}).displayName=i.Z0.displayName},60392:(e,t,r)=>{"use strict";r.d(t,{Tooltip:()=>o,TooltipContent:()=>c,TooltipProvider:()=>d,TooltipTrigger:()=>n});var s=r(12428),a=r(93264),i=r(36306),l=r(29892);let d=i.zt,o=i.fC,n=i.xz,c=a.forwardRef((e,t)=>{let{className:r,sideOffset:a=4,...d}=e;return(0,s.jsx)(i.VY,{ref:t,sideOffset:a,className:(0,l.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...d})});c.displayName=i.VY.displayName},91772:(e,t,r)=>{"use strict";r.d(t,{S:()=>a,l:()=>i});var s=r(95772);let a=s.z.object({itemName:s.z.string().min(2,{message:"Item name is required"}),unitOfmeasure:s.z.string().min(2,{message:"Unit Of Measure is required"}),categoryId:s.z.string().min(2,{message:"Category is required"}),reorderLevel:s.z.string().optional()}),i=s.z.object({itemId:s.z.string().min(2,{message:"Item id is required"}),itemName:s.z.string().min(2,{message:"Item name is required"}),unitOfmeasure:s.z.string().min(2,{message:"Unit Of Measure is required"}),reorderLevel:s.z.string().optional()})},21671:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(55e3).Z)("Delete",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]])},39678:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(55e3).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},47576:(e,t,r)=>{"use strict";var s=r(96151);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})}},e=>{var t=t=>e(e.s=t);e.O(0,[2631,3612,4766,2865,9986,5480,7885,1868,8776,223,6306,1022,2200,8752,5648,1744],()=>t(14036)),_N_E=e.O()}]);